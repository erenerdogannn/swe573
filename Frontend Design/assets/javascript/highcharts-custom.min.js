(function(){function e(e,t){var n;e||(e={});for(n in t)e[n]=t[n];return e}function t(){var e,t=arguments,n,r={},i=function(e,t){var n,r;"object"!==typeof e&&(e={});for(r in t)t.hasOwnProperty(r)&&((n=t[r])&&"object"===typeof n&&"[object Array]"!==Object.prototype.toString.call(n)&&"renderTo"!==r&&"number"!==typeof n.nodeType?e[r]=i(e[r]||{},n):e[r]=t[r]);return e};!0===t[0]&&(r=t[1],t=Array.prototype.slice.call(t,2));n=t.length;for(e=0;e<n;e++)r=i(r,t[e]);return r}function n(e,t){return parseInt(e,t||10)}function r(e){return"string"===typeof e}function i(e){return e&&"object"===typeof e}function s(e){return"[object Array]"===Object.prototype.toString.call(e)}function o(e){return"number"===typeof e}function u(e){return q.log(e)/q.LN10}function a(e){return q.pow(10,e)}function f(e,t){for(var n=e.length;n--;)if(e[n]===t){e.splice(n,1);break}}function l(e){return e!==j&&null!==e}function c(e,t,n){var s,o;if(r(t))l(n)?e.setAttribute(t,n):e&&e.getAttribute&&(o=e.getAttribute(t));else if(l(t)&&i(t))for(s in t)e.setAttribute(s,t[s]);return o}function h(e){return s(e)?e:[e]}function p(){var e=arguments,t,n,r=e.length;for(t=0;t<r;t++)if(n=e[t],n!==j&&null!==n)return n}function d(t,n){Z&&!rt&&n&&n.opacity!==j&&(n.filter="alpha(opacity="+100*n.opacity+")");e(t.style,n)}function v(t,n,r,i,s){t=F.createElement(t);n&&e(t,n);s&&d(t,{padding:0,border:"none",margin:0});r&&d(t,r);i&&i.appendChild(t);return t}function m(t,n){var r=function(){return j};r.prototype=new t;e(r.prototype,n);return r}function g(e,t,r,i){var s=Ht.numberFormat,o=lt.lang,u=+e||0,a=-1===t?(u.toString().split(".")[1]||"").length:isNaN(t=V(t))?2:t,f=void 0===r?o.decimalPoint:r,o=void 0===i?o.thousandsSep:i,l=0>u?"-":"",c=String(n(u=V(u).toFixed(a))),h=3<c.length?c.length%3:0;return s!==g?s(e,t,r,i):l+(h?c.substr(0,h)+o:"")+c.substr(h).replace(/(\d{3})(?=\d)/g,"$1"+o)+(a?f+V(u-c).toFixed(a).slice(2):"")}function y(e,t){return Array((t||2)+1-String(e).length).join(0)+e}function b(e,t,n){var r=e[t];e[t]=function(){var e=Array.prototype.slice.call(arguments);e.unshift(r);return n.apply(this,e)}}function w(e,t){for(var n="{",r=!1,i,s,o,u,a,f=[];-1!==(n=e.indexOf(n));){i=e.slice(0,n);if(r){s=i.split(":");o=s.shift().split(".");a=o.length;i=t;for(u=0;u<a;u++)i=i[o[u]];s.length&&(s=s.join(":"),o=/\.([0-9])/,u=lt.lang,a=void 0,/f$/.test(s)?(a=(a=s.match(o))?a[1]:-1,null!==i&&(i=g(i,a,u.decimalPoint,-1<s.indexOf(",")?u.thousandsSep:""))):i=ct(s,i))}f.push(i);e=e.slice(n+1);n=(r=!r)?"}":"{"}f.push(e);return f.join("")}function E(e){return q.pow(10,U(q.log(e)/q.LN10))}function S(e,t,n,r){var i;n=p(n,1);i=e/n;t||(t=[1,2,2.5,5,10],!1===r&&(1===n?t=[1,2,5,10]:.1>=n&&(t=[1/n])));for(r=0;r<t.length&&!(e=t[r],i<=(t[r]+(t[r+1]||t[r]))/2);r++);return e*n}function x(e,t){var n=e.length,r,i;for(i=0;i<n;i++)e[i].ss_i=i;e.sort(function(e,n){r=t(e,n);return 0===r?e.ss_i-n.ss_i:r});for(i=0;i<n;i++)delete e[i].ss_i}function T(e){for(var t=e.length,n=e[0];t--;)e[t]<n&&(n=e[t]);return n}function N(e){for(var t=e.length,n=e[0];t--;)e[t]>n&&(n=e[t]);return n}function C(e,t){for(var n in e)e[n]&&e[n]!==t&&e[n].destroy&&e[n].destroy(),delete e[n]}function k(e){ft||(ft=v("div"));e&&ft.appendChild(e);ft.innerHTML=""}function L(e){return parseFloat(e.toPrecision(14))}function A(e,t){ht=p(e,t.animation)}function O(){var e=lt.global.useUTC,t=e?"getUTC":"get",n=e?"setUTC":"set";wt=lt.global.Date||window.Date;St=6e4*(e&&lt.global.timezoneOffset||0);Et=e?wt.UTC:function(e,t,n,r,i,s){return(new wt(e,t,p(n,1),p(r,0),p(i,0),p(s,0))).getTime()};xt=t+"Minutes";Tt=t+"Hours";Nt=t+"Day";Ct=t+"Date";kt=t+"Month";Lt=t+"FullYear";At=n+"Minutes";Ot=n+"Hours";Mt=n+"Date";_t=n+"Month";Dt=n+"FullYear"}function M(){}function _(e,t,n,r){this.axis=e;this.pos=t;this.type=n||"";this.isNew=!0;n||r||this.addLabel()}function D(){this.init.apply(this,arguments)}function P(){this.init.apply(this,arguments)}function H(e,t,n,r,i){var s=e.chart.inverted;this.axis=e;this.isNegative=n;this.options=t;this.x=r;this.total=null;this.points={};this.stack=i;this.alignOptions={align:t.align||(s?n?"left":"right":"center"),verticalAlign:t.verticalAlign||(s?"middle":n?"bottom":"top"),y:p(t.y,s?4:n?14:-6),x:p(t.x,s?n?-6:6:0)};this.textAlign=t.textAlign||(s?n?"right":"left":"center")}function B(e,t,n){this.init.call(this,e,t,n)}var j,F=document,I=window,q=Math,R=q.round,U=q.floor,z=q.ceil,W=q.max,X=q.min,V=q.abs,$=q.cos,J=q.sin,K=q.PI,Q=2*K/360,G=navigator.userAgent,Y=I.opera,Z=/msie/i.test(G)&&!Y,et=/AppleWebKit/.test(G),tt=/Firefox/.test(G),nt=/(Mobile|Android|Windows Phone)/.test(G),rt=!!F.createElementNS&&!!F.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,it=tt&&4>parseInt(G.split("Firefox/")[1],10),st=!rt&&!Z&&!!F.createElement("canvas").getContext,ot,ut={},at=0,ft,lt,ct,ht,pt,dt,vt,mt=function(){return j},gt=[],yt=0,bt=/^[0-9]+$/,wt,Et,St,xt,Tt,Nt,Ct,kt,Lt,At,Ot,Mt,_t,Dt,Pt={},Ht;I.Highcharts?vt(16,!0):Ht=I.Highcharts={};ct=function(t,n,r){if(!l(n)||isNaN(n))return"Invalid date";t=p(t,"%Y-%m-%d %H:%M:%S");var i=new wt(n-St),s,o=i[Tt](),u=i[Nt](),a=i[Ct](),f=i[kt](),c=i[Lt](),h=lt.lang,d=h.weekdays,i=e({a:d[u].substr(0,3),A:d[u],d:y(a),e:a,b:h.shortMonths[f],B:h.months[f],m:y(f+1),y:c.toString().substr(2,2),Y:c,H:y(o),I:y(o%12||12),l:o%12||12,M:y(i[xt]()),p:12>o?"AM":"PM",P:12>o?"am":"pm",S:y(i.getSeconds()),L:y(R(n%1e3),3)},Ht.dateFormats);for(s in i)for(;-1!==t.indexOf("%"+s);)t=t.replace("%"+s,"function"===typeof i[s]?i[s](n):i[s]);return r?t.substr(0,1).toUpperCase()+t.substr(1):t};vt=function(e,t){var n="Highcharts error #"+e+": www.highcharts.com/errors/"+e;if(t)throw n;I.console&&console.log(n)};dt={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:26784e5,year:31556952e3};pt={init:function(e,t,n){t=t||"";var r=e.shift,i=-1<t.indexOf("C"),s=i?7:3,o;t=t.split(" ");n=[].concat(n);var u,a,f=function(e){for(o=e.length;o--;)"M"===e[o]&&e.splice(o+1,0,e[o+1],e[o+2],e[o+1],e[o+2])};i&&(f(t),f(n));e.isArea&&(u=t.splice(t.length-6,6),a=n.splice(n.length-6,6));if(r<=n.length/s&&t.length===n.length)for(;r--;)n=[].concat(n).splice(0,s).concat(n);e.shift=0;if(t.length)for(e=n.length;t.length<e;)r=[].concat(t).splice(t.length-s,s),i&&(r[s-6]=r[s-2],r[s-5]=r[s-1]),t=t.concat(r);u&&(t=t.concat(u),n=n.concat(a));return[t,n]},step:function(e,t,n,r){var i=[],s=e.length;if(1===n)i=r;else if(s===t.length&&1>n)for(;s--;)r=parseFloat(e[s]),i[s]=isNaN(r)?e[s]:n*parseFloat(t[s]-r)+r;else i=t;return i}};(function(t){I.HighchartsAdapter=I.HighchartsAdapter||t&&{init:function(e){var n=t.fx;t.extend(t.easing,{easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n}});t.each(["cur","_default","width","height","opacity"],function(e,r){var i=n.step,s;"cur"===r?i=n.prototype:"_default"===r&&t.Tween&&(i=t.Tween.propHooks[r],r="set");(s=i[r])&&(i[r]=function(t){var n;t=e?t:this;if("align"!==t.prop)return n=t.elem,n.attr?n.attr(t.prop,"cur"===r?j:t.now):s.apply(this,arguments)})});b(t.cssHooks.opacity,"get",function(e,t,n){return t.attr?t.opacity||0:e.call(this,t,n)});this.addAnimSetter("d",function(t){var n=t.elem,r;t.started||(r=e.init(n,n.d,n.toD),t.start=r[0],t.end=r[1],t.started=!0);n.attr("d",e.step(t.start,t.end,t.pos,n.toD))});this.each=Array.prototype.forEach?function(e,t){return Array.prototype.forEach.call(e,t)}:function(e,t){var n,r=e.length;for(n=0;n<r;n++)if(!1===t.call(e[n],e[n],n,e))return n};t.fn.highcharts=function(){var e="Chart",t=arguments,n,i;this[0]&&(r(t[0])&&(e=t[0],t=Array.prototype.slice.call(t,1)),n=t[0],n!==j&&(n.chart=n.chart||{},n.chart.renderTo=this[0],new Ht[e](n,t[1]),i=this),n===j&&(i=gt[c(this[0],"data-highcharts-chart")]));return i}},addAnimSetter:function(e,n){t.Tween?t.Tween.propHooks[e]={set:n}:t.fx.step[e]=n},getScript:t.getScript,inArray:t.inArray,adapterRun:function(e,n){return t(e)[n]()},grep:t.grep,map:function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)n[r]=t.call(e[r],e[r],r,e);return n},offset:function(e){return t(e).offset()},addEvent:function(e,n,r){t(e).bind(n,r)},removeEvent:function(e,n,r){var i=F.removeEventListener?"removeEventListener":"detachEvent";F[i]&&e&&!e[i]&&(e[i]=function(){});t(e).unbind(n,r)},fireEvent:function(n,r,i,s){var o=t.Event(r),u="detached"+r,a;!Z&&i&&(delete i.layerX,delete i.layerY,delete i.returnValue);e(o,i);n[r]&&(n[u]=n[r],n[r]=null);t.each(["preventDefault","stopPropagation"],function(e,t){var n=o[t];o[t]=function(){try{n.call(o)}catch(e){"preventDefault"===t&&(a=!0)}}});t(n).trigger(o);n[u]&&(n[r]=n[u],n[u]=null);!s||o.isDefaultPrevented()||a||s(o)},washMouseEvent:function(e){var t=e.originalEvent||e;t.pageX===j&&(t.pageX=e.pageX,t.pageY=e.pageY);return t},animate:function(e,n,r){var i=t(e);e.style||(e.style={});n.d&&(e.toD=n.d,n.d=1);i.stop();n.opacity!==j&&e.attr&&(n.opacity+="px");e.hasAnim=1;i.animate(n,r)},stop:function(e){e.hasAnim&&t(e).stop()}}})(I.jQuery);var Bt=I.HighchartsAdapter,jt=Bt||{};Bt&&Bt.init.call(Bt,pt);var Ft=jt.adapterRun,It=jt.inArray,qt=jt.each,Rt=jt.grep,Ut=jt.offset,zt=jt.map,Wt=jt.addEvent,Xt=jt.removeEvent,Vt=jt.fireEvent,$t=jt.washMouseEvent,Jt=jt.animate,Kt=jt.stop,Qt={enabled:!0,x:0,y:15,style:{color:"#606060",cursor:"default",fontSize:"11px"}};lt={colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #8085e8 #8d4653 #91e8e1".split(" "),symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:","},global:{useUTC:!0,canvasToolsURL:"http://code.highcharts.com@product.cdnpath@//Highstock 2.0.4/modules/canvas-tools.js",VMLRadialGradientURL:"http://code.highcharts.com@product.cdnpath@//Highstock 2.0.4/gfx/vml-radial-gradient.png"},chart:{borderColor:"#4572A7",borderRadius:0,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],backgroundColor:"#FFFFFF",plotBorderColor:"#C0C0C0",resetZoomButton:{theme:{zIndex:20},position:{align:"right",x:-10,y:10}}},title:{text:"Chart title",align:"center",margin:15,style:{color:"#333333",fontSize:"18px"}},subtitle:{text:"",align:"center",style:{color:"#555555"}},plotOptions:{line:{allowPointSelect:!1,showCheckbox:!1,animation:{duration:1e3},events:{},lineWidth:2,marker:{lineWidth:0,radius:4,lineColor:"#FFFFFF",states:{hover:{enabled:!0,lineWidthPlus:1,radiusPlus:2},select:{fillColor:"#FFFFFF",lineColor:"#000000",lineWidth:2}}},point:{events:{}},dataLabels:t(Qt,{align:"center",enabled:!1,formatter:function(){return null===this.y?"":g(this.y,-1)},verticalAlign:"bottom",y:0}),cropThreshold:300,pointRange:0,states:{hover:{lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{marker:{}}},stickyTracking:!0,turboThreshold:1e3}},labels:{style:{position:"absolute",color:"#3E576F"}},legend:{enabled:!0,align:"center",layout:"horizontal",labelFormatter:function(){return this.name},borderColor:"#909090",borderRadius:0,navigation:{activeColor:"#274b6d",inactiveColor:"#CCC"},shadow:!1,itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"bold"},itemHoverStyle:{color:"#000"},itemHiddenStyle:{color:"#CCC"},itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"white",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:rt,backgroundColor:"rgba(249, 249, 249, .85)",borderWidth:1,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.y}</b><br/>',shadow:!0,snap:nt?25:10,style:{color:"#333333",cursor:"default",fontSize:"12px",padding:"8px",whiteSpace:"nowrap"}},credits:{enabled:!0,text:"Highcharts.com",href:"http://www.highcharts.com",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#909090",fontSize:"9px"}}};var Gt=lt.plotOptions,Yt=Gt.line;O();var Zt=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,en=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,tn=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,nn=function(e){var r=[],i,s;(function(e){e&&e.stops?s=zt(e.stops,function(e){return nn(e[1])}):(i=Zt.exec(e))?r=[n(i[1]),n(i[2]),n(i[3]),parseFloat(i[4],10)]:(i=en.exec(e))?r=[n(i[1],16),n(i[2],16),n(i[3],16),1]:(i=tn.exec(e))&&(r=[n(i[1]),n(i[2]),n(i[3]),1])})(e);return{get:function(n){var i;s?(i=t(e),i.stops=[].concat(i.stops),qt(s,function(e,t){i.stops[t]=[i.stops[t][0],e.get(n)]})):i=r&&!isNaN(r[0])?"rgb"===n?"rgb("+r[0]+","+r[1]+","+r[2]+")":"a"===n?r[3]:"rgba("+r.join(",")+")":e;return i},brighten:function(e){if(s)qt(s,function(t){t.brighten(e)});else if(o(e)&&0!==e){var t;for(t=0;3>t;t++)r[t]+=n(255*e),0>r[t]&&(r[t]=0),255<r[t]&&(r[t]=255)}return this},rgba:r,setOpacity:function(e){r[3]=e;return this}}};M.prototype={opacity:1,textProps:"fontSize fontWeight fontFamily color lineHeight width textDecoration textShadow HcTextStroke".split(" "),init:function(e,t){this.element="span"===t?v(t):F.createElementNS("http://www.w3.org/2000/svg",t);this.renderer=e},animate:function(e,n,r){n=p(n,ht,!0);Kt(this);n?(n=t(n,{}),r&&(n.complete=r),Jt(this,e,n)):(this.attr(e),r&&r());return this},colorGradient:function(e,n,r){var i=this.renderer,o,u,a,f,c,h,p,d,v,m,g=[];e.linearGradient?u="linearGradient":e.radialGradient&&(u="radialGradient");if(u){a=e[u];f=i.gradients;h=e.stops;v=r.radialReference;s(a)&&(e[u]=a={x1:a[0],y1:a[1],x2:a[2],y2:a[3],gradientUnits:"userSpaceOnUse"});"radialGradient"===u&&v&&!l(a.gradientUnits)&&(a=t(a,{cx:v[0]-v[2]/2+a.cx*v[2],cy:v[1]-v[2]/2+a.cy*v[2],r:a.r*v[2],gradientUnits:"userSpaceOnUse"}));for(m in a)"id"!==m&&g.push(m,a[m]);for(m in h)g.push(h[m]);g=g.join(",");f[g]?e=f[g].attr("id"):(a.id=e="highcharts-"+at++,f[g]=c=i.createElement(u).attr(a).add(i.defs),c.stops=[],qt(h,function(e){0===e[1].indexOf("rgba")?(o=nn(e[1]),p=o.get("rgb"),d=o.get("a")):(p=e[1],d=1);e=i.createElement("stop").attr({offset:e[0],"stop-color":p,"stop-opacity":d}).add(c);c.stops.push(e)}));r.setAttribute(n,"url("+i.url+"#"+e+")")}},attr:function(e,t){var n,r,i=this.element,s,o=this,u;"string"===typeof e&&t!==j&&(n=e,e={},e[n]=t);if("string"===typeof e)o=(this[e+"Getter"]||this._defaultGetter).call(this,e,i);else{for(n in e)r=e[n],u=!1,this.symbolName&&/^(x|y|width|height|r|start|end|innerR|anchorX|anchorY)/.test(n)&&(s||(this.symbolAttr(e),s=!0),u=!0),!this.rotation||"x"!==n&&"y"!==n||(this.doTransform=!0),u||(this[n+"Setter"]||this._defaultSetter).call(this,r,n,i),this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(n)&&this.updateShadows(n,r);this.doTransform&&(this.updateTransform(),this.doTransform=!1)}return o},updateShadows:function(e,t){for(var n=this.shadows,r=n.length;r--;)n[r].setAttribute(e,"height"===e?W(t-(n[r].cutHeight||0),0):"d"===e?this.d:t)},addClass:function(e){var t=this.element,n=c(t,"class")||"";-1===n.indexOf(e)&&c(t,"class",n+" "+e);return this},symbolAttr:function(e){var t=this;qt("x y r start end width height innerR anchorX anchorY".split(" "),function(n){t[n]=p(e[n],t[n])});t.attr({d:t.renderer.symbols[t.symbolName](t.x,t.y,t.width,t.height,t)})},clip:function(e){return this.attr("clip-path",e?"url("+this.renderer.url+"#"+e.id+")":"none")},crisp:function(e){var t,n={},r,i=e.strokeWidth||this.strokeWidth||0;r=R(i)%2/2;e.x=U(e.x||this.x||0)+r;e.y=U(e.y||this.y||0)+r;e.width=U((e.width||this.width||0)-2*r);e.height=U((e.height||this.height||0)-2*r);e.strokeWidth=i;for(t in e)this[t]!==e[t]&&(this[t]=n[t]=e[t]);return n},css:function(t){var r=this.styles,i={},s=this.element,o,u,a="";o=!r;t&&t.color&&(t.fill=t.color);if(r)for(u in t)t[u]!==r[u]&&(i[u]=t[u],o=!0);if(o){o=this.textWidth=t&&t.width&&"text"===s.nodeName.toLowerCase()&&n(t.width);r&&(t=e(r,i));this.styles=t;o&&(st||!rt&&this.renderer.forExport)&&delete t.width;if(Z&&!rt)d(this.element,t);else{r=function(e,t){return"-"+t.toLowerCase()};for(u in t)a+=u.replace(/([A-Z])/g,r)+":"+t[u]+";";c(s,"style",a)}o&&this.added&&this.renderer.buildText(this)}return this},on:function(e,t){var n=this,r=n.element;ot&&"click"===e?(r.ontouchstart=function(e){n.touchEventFired=wt.now();e.preventDefault();t.call(r,e)},r.onclick=function(e){(-1===G.indexOf("Android")||1100<wt.now()-(n.touchEventFired||0))&&t.call(r,e)}):r["on"+e]=t;return this},setRadialReference:function(e){this.element.radialReference=e;return this},translate:function(e,t){return this.attr({translateX:e,translateY:t})},invert:function(){this.inverted=!0;this.updateTransform();return this},updateTransform:function(){var e=this.translateX||0,t=this.translateY||0,n=this.scaleX,r=this.scaleY,i=this.inverted,s=this.rotation,o=this.element;i&&(e+=this.attr("width"),t+=this.attr("height"));e=["translate("+e+","+t+")"];i?e.push("rotate(90) scale(-1,1)"):s&&e.push("rotate("+s+" "+(o.getAttribute("x")||0)+" "+(o.getAttribute("y")||0)+")");(l(n)||l(r))&&e.push("scale("+p(n,1)+" "+p(r,1)+")");e.length&&o.setAttribute("transform",e.join(" "))},toFront:function(){var e=this.element;e.parentNode.appendChild(e);return this},align:function(e,t,n){var i,s,o,u,a={};s=this.renderer;o=s.alignedObjects;if(e){if(this.alignOptions=e,this.alignByTranslate=t,!n||r(n))this.alignTo=i=n||"renderer",f(o,this),o.push(this),n=null}else e=this.alignOptions,t=this.alignByTranslate,i=this.alignTo;n=p(n,s[i],s);i=e.align;s=e.verticalAlign;o=(n.x||0)+(e.x||0);u=(n.y||0)+(e.y||0);if("right"===i||"center"===i)o+=(n.width-(e.width||0))/{right:1,center:2}[i];a[t?"translateX":"x"]=R(o);if("bottom"===s||"middle"===s)u+=(n.height-(e.height||0))/({bottom:1,middle:2}[s]||1);a[t?"translateY":"y"]=R(u);this[this.placed?"animate":"attr"](a);this.placed=!0;this.alignAttr=a;return this},getBBox:function(){var t=this.bBox,n=this.renderer,r,i,s=this.rotation;r=this.element;var o=this.styles,u=s*Q;i=this.textStr;var a;if(""===i||bt.test(i))a="num."+i.toString().length+(o?"|"+o.fontSize+"|"+o.fontFamily:"");a&&(t=n.cache[a]);if(!t){if("http://www.w3.org/2000/svg"===r.namespaceURI||n.forExport){try{t=r.getBBox?e({},r.getBBox()):{width:r.offsetWidth,height:r.offsetHeight}}catch(f){}if(!t||0>t.width)t={width:0,height:0}}else t=this.htmlGetBBox();n.isSVG&&(r=t.width,i=t.height,Z&&o&&"11px"===o.fontSize&&"16.9"===i.toPrecision(3)&&(t.height=i=14),s&&(t.width=V(i*J(u))+V(r*$(u)),t.height=V(i*$(u))+V(r*J(u))));this.bBox=t;a&&(n.cache[a]=t)}return t},show:function(e){e&&"http://www.w3.org/2000/svg"===this.element.namespaceURI?this.element.removeAttribute("visibility"):this.attr({visibility:e?"inherit":"visible"});return this},hide:function(){return this.attr({visibility:"hidden"})},fadeOut:function(e){var t=this;t.animate({opacity:0},{duration:e||150,complete:function(){t.attr({y:-9999})}})},add:function(e){var t=this.renderer,r=e||t,i=r.element||t.box,s=this.element,o=this.zIndex,u,a;e&&(this.parentGroup=e);this.parentInverted=e&&e.inverted;void 0!==this.textStr&&t.buildText(this);o&&(r.handleZ=!0,o=n(o));if(r.handleZ)for(e=i.childNodes,u=0;u<e.length;u++)if(t=e[u],r=c(t,"zIndex"),t!==s&&(n(r)>o||!l(o)&&l(r))){i.insertBefore(s,t);a=!0;break}a||i.appendChild(s);this.added=!0;if(this.onAdd)this.onAdd();return this},safeRemoveChild:function(e){var t=e.parentNode;t&&t.removeChild(e)},destroy:function(){var e=this,t=e.element||{},n=e.shadows,r=e.renderer.isSVG&&"SPAN"===t.nodeName&&e.parentGroup,i,s;t.onclick=t.onmouseout=t.onmouseover=t.onmousemove=t.point=null;Kt(e);e.clipPath&&(e.clipPath=e.clipPath.destroy());if(e.stops){for(s=0;s<e.stops.length;s++)e.stops[s]=e.stops[s].destroy();e.stops=null}e.safeRemoveChild(t);for(n&&qt(n,function(t){e.safeRemoveChild(t)});r&&r.div&&0===r.div.childNodes.length;)t=r.parentGroup,e.safeRemoveChild(r.div),delete r.div,r=t;e.alignTo&&f(e.renderer.alignedObjects,e);for(i in e)delete e[i];return null},shadow:function(e,t,n){var r=[],i,s,o=this.element,u,a,f,l;if(e){a=p(e.width,3);f=(e.opacity||.15)/a;l=this.parentInverted?"(-1,-1)":"("+p(e.offsetX,1)+", "+p(e.offsetY,1)+")";for(i=1;i<=a;i++)s=o.cloneNode(0),u=2*a+1-2*i,c(s,{isShadow:"true",stroke:e.color||"black","stroke-opacity":f*i,"stroke-width":u,transform:"translate"+l,fill:"none"}),n&&(c(s,"height",W(c(s,"height")-u,0)),s.cutHeight=u),t?t.element.appendChild(s):o.parentNode.insertBefore(s,o),r.push(s);this.shadows=r}return this},xGetter:function(e){"circle"===this.element.nodeName&&(e={x:"cx",y:"cy"}[e]||e);return this._defaultGetter(e)},_defaultGetter:function(e){e=p(this[e],this.element?this.element.getAttribute(e):null,0);/^[\-0-9\.]+$/.test(e)&&(e=parseFloat(e));return e},dSetter:function(e,t,n){e&&e.join&&(e=e.join(" "));/(NaN| {2}|^$)/.test(e)&&(e="M 0 0");n.setAttribute(t,e);this[t]=e},dashstyleSetter:function(e){var t;if(e=e&&e.toLowerCase()){e=e.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,"").split(",");for(t=e.length;t--;)e[t]=n(e[t])*this["stroke-width"];e=e.join(",").replace("NaN","none");this.element.setAttribute("stroke-dasharray",e)}},alignSetter:function(e){this.element.setAttribute("text-anchor",{left:"start",center:"middle",right:"end"}[e])},opacitySetter:function(e,t,n){this[t]=e;n.setAttribute(t,e)},titleSetter:function(e){var t=this.element.getElementsByTagName("title")[0];t||(t=F.createElementNS("http://www.w3.org/2000/svg","title"),this.element.appendChild(t));t.textContent=p(e,"").replace(/<[^>]*>/g,"")},textSetter:function(e){e!==this.textStr&&(delete this.bBox,this.textStr=e,this.added&&this.renderer.buildText(this))},fillSetter:function(e,t,n){"string"===typeof e?n.setAttribute(t,e):e&&this.colorGradient(e,t,n)},zIndexSetter:function(e,t,n){n.setAttribute(t,e);this[t]=e},_defaultSetter:function(e,t,n){n.setAttribute(t,e)}};M.prototype.yGetter=M.prototype.xGetter;M.prototype.translateXSetter=M.prototype.translateYSetter=M.prototype.rotationSetter=M.prototype.verticalAlignSetter=M.prototype.scaleXSetter=M.prototype.scaleYSetter=function(e,t){this[t]=e;this.doTransform=!0};M.prototype["stroke-widthSetter"]=M.prototype.strokeSetter=function(e,t,n){this[t]=e;this.stroke&&this["stroke-width"]?(this.strokeWidth=this["stroke-width"],M.prototype.fillSetter.call(this,this.stroke,"stroke",n),n.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===t&&0===e&&this.hasStroke&&(n.removeAttribute("stroke"),this.hasStroke=!1)};var rn=function(){this.init.apply(this,arguments)};rn.prototype={Element:M,init:function(e,t,n,r,i){var s=location,o;r=this.createElement("svg").attr({version:"1.1"}).css(this.getStyle(r));o=r.element;e.appendChild(o);-1===e.innerHTML.indexOf("xmlns")&&c(o,"xmlns","http://www.w3.org/2000/svg");this.isSVG=!0;this.box=o;this.boxWrapper=r;this.alignedObjects=[];this.url=(tt||et)&&F.getElementsByTagName("base").length?s.href.replace(/#.*?$/,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20"):"";this.createElement("desc").add().element.appendChild(F.createTextNode("Created with Highcharts 4.0.4 /Highstock 2.0.4"));this.defs=this.createElement("defs").add();this.forExport=i;this.gradients={};this.cache={};this.setSize(t,n,!1);var u;tt&&e.getBoundingClientRect&&(this.subPixelFix=t=function(){d(e,{left:0,top:0});u=e.getBoundingClientRect();d(e,{left:z(u.left)-u.left+"px",top:z(u.top)-u.top+"px"})},t(),Wt(I,"resize",t))},getStyle:function(t){return this.style=e({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',fontSize:"12px"},t)},isHidden:function(){return!this.boxWrapper.getBBox().width},destroy:function(){var e=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();C(this.gradients||{});this.gradients=null;e&&(this.defs=e.destroy());this.subPixelFix&&Xt(I,"resize",this.subPixelFix);return this.alignedObjects=null},createElement:function(e){var t=new this.Element;t.init(this,e);return t},draw:function(){},buildText:function(e){for(var t=e.element,r=this,i=r.forExport,s=p(e.textStr,"").toString(),o=-1!==s.indexOf("<"),u=t.childNodes,a,f,l=c(t,"x"),h=e.styles,v=e.textWidth,m=h&&h.lineHeight,g=h&&h.HcTextStroke,y=u.length,b=function(e){return m?n(m):r.fontMetrics(/(px|em)$/.test(e&&e.style.fontSize)?e.style.fontSize:h&&h.fontSize||r.style.fontSize||12,e).h};y--;)t.removeChild(u[y]);o||g||-1!==s.indexOf(" ")?(a=/<.*style="([^"]+)".*>/,f=/<.*href="(http[^"]+)".*>/,v&&!e.added&&this.box.appendChild(t),s=o?s.replace(/<(b|strong)>/g,'<span style="font-weight:bold">').replace(/<(i|em)>/g,'<span style="font-style:italic">').replace(/<a/g,"<span").replace(/<\/(b|strong|i|em|a)>/g,"</span>").split(/<br.*?>/g):[s],""===s[s.length-1]&&s.pop(),qt(s,function(n,s){var o,u=0;n=n.replace(/<span/g,"|||<span").replace(/<\/span>/g,"</span>|||");o=n.split("|||");qt(o,function(n){if(""!==n||1===o.length){var p={},m=F.createElementNS("http://www.w3.org/2000/svg","tspan"),g;a.test(n)&&(g=n.match(a)[1].replace(/(;| |^)color([ :])/,"$1fill$2"),c(m,"style",g));f.test(n)&&!i&&(c(m,"onclick",'location.href="'+n.match(f)[1]+'"'),d(m,{cursor:"pointer"}));n=(n.replace(/<(.|\n)*?>/g,"")||" ").replace(/&lt;/g,"<").replace(/&gt;/g,">");if(" "!==n){m.appendChild(F.createTextNode(n));u?p.dx=0:s&&null!==l&&(p.x=l);c(m,p);t.appendChild(m);!u&&s&&(!rt&&i&&d(m,{display:"block"}),c(m,"dy",b(m)));if(v){n=n.replace(/([^\^])-/g,"$1- ").split(" ");for(var p=1<o.length||1<n.length&&"nowrap"!==h.whiteSpace,y,w,E=h.HcHeight,S=[],x=b(m),T=1;p&&(n.length||S.length);)delete e.bBox,y=e.getBBox(),w=y.width,!rt&&r.forExport&&(w=r.measureSpanWidth(m.firstChild.data,e.styles)),(y=w>v)&&1!==n.length?(m.removeChild(m.firstChild),S.unshift(n.pop())):(n=S,S=[],n.length&&(T++,E&&T*x>E?(n=["..."],e.attr("title",e.textStr)):(m=F.createElementNS("http://www.w3.org/2000/svg","tspan"),c(m,{dy:x,x:l}),g&&c(m,"style",g),t.appendChild(m))),w>v&&(v=w)),n.length&&m.appendChild(F.createTextNode(n.join(" ").replace(/- /g,"-")))}u++}}})})):t.appendChild(F.createTextNode(s))},button:function(n,r,i,s,o,u,a,f,l){var c=this.label(n,r,i,l,null,null,null,null,"button"),h=0,p,d,v,m,g,y;n={x1:0,y1:0,x2:0,y2:1};o=t({"stroke-width":1,stroke:"#CCCCCC",fill:{linearGradient:n,stops:[[0,"#FEFEFE"],[1,"#F6F6F6"]]},r:2,padding:5,style:{color:"black"}},o);v=o.style;delete o.style;u=t(o,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#FFF"],[1,"#ACF"]]}},u);m=u.style;delete u.style;a=t(o,{stroke:"#68A",fill:{linearGradient:n,stops:[[0,"#9BD"],[1,"#CDF"]]}},a);g=a.style;delete a.style;f=t(o,{style:{color:"#CCC"}},f);y=f.style;delete f.style;Wt(c.element,Z?"mouseover":"mouseenter",function(){3!==h&&c.attr(u).css(m)});Wt(c.element,Z?"mouseout":"mouseleave",function(){3!==h&&(p=[o,u,a][h],d=[v,m,g][h],c.attr(p).css(d))});c.setState=function(e){(c.state=h=e)?2===e?c.attr(a).css(g):3===e&&c.attr(f).css(y):c.attr(o).css(v)};return c.on("click",function(){3!==h&&s.call(c)}).attr(o).css(e({cursor:"default"},v))},crispLine:function(e,t){e[1]===e[4]&&(e[1]=e[4]=R(e[1])-t%2/2);e[2]===e[5]&&(e[2]=e[5]=R(e[2])+t%2/2);return e},path:function(t){var n={fill:"none"};s(t)?n.d=t:i(t)&&e(n,t);return this.createElement("path").attr(n)},circle:function(e,t,n){e=i(e)?e:{x:e,y:t,r:n};t=this.createElement("circle");t.xSetter=function(e){this.element.setAttribute("cx",e)};t.ySetter=function(e){this.element.setAttribute("cy",e)};return t.attr(e)},arc:function(e,t,n,r,s,o){i(e)&&(t=e.y,n=e.r,r=e.innerR,s=e.start,o=e.end,e=e.x);e=this.symbol("arc",e||0,t||0,n||0,n||0,{innerR:r||0,start:s||0,end:o||0});e.r=n;return e},rect:function(e,t,n,r,s,o){s=i(e)?e.r:s;var u=this.createElement("rect");e=i(e)?e:e===j?{}:{x:e,y:t,width:W(n,0),height:W(r,0)};o!==j&&(e.strokeWidth=o,e=u.crisp(e));s&&(e.r=s);u.rSetter=function(e){c(this.element,{rx:e,ry:e})};return u.attr(e)},setSize:function(e,t,n){var r=this.alignedObjects,i=r.length;this.width=e;this.height=t;for(this.boxWrapper[p(n,!0)?"animate":"attr"]({width:e,height:t});i--;)r[i].align()},g:function(e){var t=this.createElement("g");return l(e)?t.attr({"class":"highcharts-"+e}):t},image:function(t,n,r,i,s){var o={preserveAspectRatio:"none"};1<arguments.length&&e(o,{x:n,y:r,width:i,height:s});o=this.createElement("image").attr(o);o.element.setAttributeNS?o.element.setAttributeNS("http://www.w3.org/1999/xlink","href",t):o.element.setAttribute("hc-svg-href",t);return o},symbol:function(t,n,r,i,s,o){var u,a=this.symbols[t],a=a&&a(R(n),R(r),i,s,o),f=/^url\((.*?)\)$/,l,c;a?(u=this.path(a),e(u,{symbolName:t,x:n,y:r,width:i,height:s}),o&&e(u,o)):f.test(t)&&(c=function(e,t){e.element&&(e.attr({width:t[0],height:t[1]}),e.alignByTranslate||e.translate(R((i-t[0])/2),R((s-t[1])/2)))},l=t.match(f)[1],t=ut[l]||o&&o.width&&o.height&&[o.width,o.height],u=this.image(l).attr({x:n,y:r}),u.isImg=!0,t?c(u,t):(u.attr({width:0,height:0}),v("img",{onload:function(){c(u,ut[l]=[this.width,this.height])},src:l})));return u},symbols:{circle:function(e,t,n,r){var i=.166*n;return["M",e+n/2,t,"C",e+n+i,t,e+n+i,t+r,e+n/2,t+r,"C",e-i,t+r,e-i,t,e+n/2,t,"Z"]},square:function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n,t+r,e,t+r,"Z"]},triangle:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r,e,t+r,"Z"]},"triangle-down":function(e,t,n,r){return["M",e,t,"L",e+n,t,e+n/2,t+r,"Z"]},diamond:function(e,t,n,r){return["M",e+n/2,t,"L",e+n,t+r/2,e+n/2,t+r,e,t+r/2,"Z"]},arc:function(e,t,n,r,i){var s=i.start;n=i.r||n||r;var o=i.end-.001;r=i.innerR;var u=i.open,a=$(s),f=J(s),l=$(o),o=J(o);i=i.end-s<K?0:1;return["M",e+n*a,t+n*f,"A",n,n,0,i,1,e+n*l,t+n*o,u?"M":"L",e+r*l,t+r*o,"A",r,r,0,i,0,e+r*a,t+r*f,u?"":"Z"]},callout:function(e,t,n,r,i){var s=X(i&&i.r||0,n,r),o=s+6,u=i&&i.anchorX,a=i&&i.anchorY;i=R(i.strokeWidth||0)%2/2;e+=i;t+=i;i=["M",e+s,t,"L",e+n-s,t,"C",e+n,t,e+n,t,e+n,t+s,"L",e+n,t+r-s,"C",e+n,t+r,e+n,t+r,e+n-s,t+r,"L",e+s,t+r,"C",e,t+r,e,t+r,e,t+r-s,"L",e,t+s,"C",e,t,e,t,e+s,t];u&&u>n&&a>t+o&&a<t+r-o?i.splice(13,3,"L",e+n,a-6,e+n+6,a,e+n,a+6,e+n,t+r-s):u&&0>u&&a>t+o&&a<t+r-o?i.splice(33,3,"L",e,a+6,e-6,a,e,a-6,e,t+s):a&&a>r&&u>e+o&&u<e+n-o?i.splice(23,3,"L",u+6,t+r,u,t+r+6,u-6,t+r,e+s,t+r):a&&0>a&&u>e+o&&u<e+n-o&&i.splice(3,3,"L",u-6,t,u,t-6,u+6,t,n-s,t);return i}},clipRect:function(e,t,n,r){var i="highcharts-"+at++,s=this.createElement("clipPath").attr({id:i}).add(this.defs);e=this.rect(e,t,n,r,0).add(s);e.id=i;e.clipPath=s;return e},text:function(e,t,n,r){var i=st||!rt&&this.forExport,s={};if(r&&!this.forExport)return this.html(e,t,n);s.x=Math.round(t||0);n&&(s.y=Math.round(n));if(e||0===e)s.text=e;e=this.createElement("text").attr(s);i&&e.css({position:"absolute"});r||(e.xSetter=function(e,t,n){var r=n.getElementsByTagName("tspan"),i,s=n.getAttribute(t),o;for(o=0;o<r.length;o++)i=r[o],i.getAttribute(t)===s&&i.setAttribute(t,e);n.setAttribute(t,e)});return e},fontMetrics:function(e,t){e=e||this.style.fontSize;t&&I.getComputedStyle&&(t=t.element||t,e=I.getComputedStyle(t,"").fontSize);e=/px/.test(e)?n(e):/em/.test(e)?12*parseFloat(e):12;var r=24>e?e+4:R(1.2*e),i=R(.8*r);return{h:r,b:i,f:e}},label:function(n,r,i,s,o,u,a,f,c){function h(){var t,n;t=g.element.style;b=(void 0===x||void 0===T||m.styles.textAlign)&&g.textStr&&g.getBBox();m.width=(x||b.width||0)+2*E+S;m.height=(T||b.height||0)+2*E;A=E+v.fontMetrics(t&&t.fontSize,g).b;O&&(y||(t=R(-w*E),n=f?-A:0,m.box=y=s?v.symbol(s,t,n,m.width,m.height,L):v.rect(t,n,m.width,m.height,0,L["stroke-width"]),y.attr("fill","none").add(m)),y.isImg||y.attr(e({width:R(m.width),height:R(m.height)},L)),L=null)}function p(){var e=m.styles,e=e&&e.textAlign,t=S+E*(1-w),n;n=f?0:A;l(x)&&b&&("center"===e||"right"===e)&&(t+={center:.5,right:1}[e]*(x-b.width));if(t!==g.x||n!==g.y)g.attr("x",t),n!==j&&g.attr("y",n);g.x=t;g.y=n}function d(e,t){y?y.attr(e,t):L[e]=t}var v=this,m=v.g(c),g=v.text("",0,0,a).attr({zIndex:1}),y,b,w=0,E=3,S=0,x,T,N,C,k=0,L={},A,O;m.onAdd=function(){g.add(m);m.attr({text:n||0===n?n:"",x:r,y:i});y&&l(o)&&m.attr({anchorX:o,anchorY:u})};m.widthSetter=function(e){x=e};m.heightSetter=function(e){T=e};m.paddingSetter=function(e){l(e)&&e!==E&&(E=e,p())};m.paddingLeftSetter=function(e){l(e)&&e!==S&&(S=e,p())};m.alignSetter=function(e){w={left:0,center:.5,right:1}[e]};m.textSetter=function(e){e!==j&&g.textSetter(e);h();p()};m["stroke-widthSetter"]=function(e,t){e&&(O=!0);k=e%2/2;d(t,e)};m.strokeSetter=m.fillSetter=m.rSetter=function(e,t){"fill"===t&&e&&(O=!0);d(t,e)};m.anchorXSetter=function(e,t){o=e;d(t,e+k-N)};m.anchorYSetter=function(e,t){u=e;d(t,e-C)};m.xSetter=function(e){m.x=e;w&&(e-=w*((x||b.width)+E));N=R(e);m.attr("translateX",N)};m.ySetter=function(e){C=m.y=R(e);m.attr("translateY",C)};var _=m.css;return e(m,{css:function(e){if(e){var n={};e=t(e);qt(m.textProps,function(t){e[t]!==j&&(n[t]=e[t],delete e[t])});g.css(n)}return _.call(m,e)},getBBox:function(){return{width:b.width+2*E,height:b.height+2*E,x:b.x-E,y:b.y-E}},shadow:function(e){y&&y.shadow(e);return m},destroy:function(){Xt(m.element,"mouseenter");Xt(m.element,"mouseleave");g&&(g=g.destroy());y&&(y=y.destroy());M.prototype.destroy.call(m);m=v=h=p=d=null}})}};e(M.prototype,{htmlCss:function(t){var n=this.element;if(n=t&&"SPAN"===n.tagName&&t.width)delete t.width,this.textWidth=n,this.updateTransform();this.styles=e(this.styles,t);d(this.element,t);return this},htmlGetBBox:function(){var e=this.element,t=this.bBox;t||("text"===e.nodeName&&(e.style.position="absolute"),t=this.bBox={x:e.offsetLeft,y:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight});return t},htmlUpdateTransform:function(){if(this.added){var e=this.renderer,t=this.element,r=this.translateX||0,i=this.translateY||0,s=this.x||0,o=this.y||0,u=this.textAlign||"left",a={left:0,center:.5,right:1}[u],f=this.shadows;d(t,{marginLeft:r,marginTop:i});f&&qt(f,function(e){d(e,{marginLeft:r+1,marginTop:i+1})});this.inverted&&qt(t.childNodes,function(n){e.invertChild(n,t)});if("SPAN"===t.tagName){var c=this.rotation,h,v=n(this.textWidth),m=[c,u,t.innerHTML,this.textWidth].join();m!==this.cTT&&(h=e.fontMetrics(t.style.fontSize).b,l(c)&&this.setSpanRotation(c,a,h),f=p(this.elemWidth,t.offsetWidth),f>v&&/[ \-]/.test(t.textContent||t.innerText)&&(d(t,{width:v+"px",display:"block",whiteSpace:"normal"}),f=v),this.getSpanCorrection(f,h,a,c,u));d(t,{left:s+(this.xCorr||0)+"px",top:o+(this.yCorr||0)+"px"});et&&(h=t.offsetHeight);this.cTT=m}}else this.alignOnAdd=!0},setSpanRotation:function(e,t,n){var r={},i=Z?"-ms-transform":et?"-webkit-transform":tt?"MozTransform":Y?"-o-transform":"";r[i]=r.transform="rotate("+e+"deg)";r[i+(tt?"Origin":"-origin")]=r.transformOrigin=100*t+"% "+n+"px";d(this.element,r)},getSpanCorrection:function(e,t,n){this.xCorr=-e*n;this.yCorr=-t}});e(rn.prototype,{html:function(t,n,r){var i=this.createElement("span"),s=i.element,o=i.renderer;i.textSetter=function(e){e!==s.innerHTML&&delete this.bBox;s.innerHTML=this.textStr=e};i.xSetter=i.ySetter=i.alignSetter=i.rotationSetter=function(e,t){"align"===t&&(t="textAlign");i[t]=e;i.htmlUpdateTransform()};i.attr({text:t,x:R(n),y:R(r)}).css({position:"absolute",whiteSpace:"nowrap",fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});i.css=i.htmlCss;o.isSVG&&(i.add=function(t){var n,r=o.box.parentNode,u=[];if(this.parentGroup=t){if(n=t.div,!n){for(;t;)u.push(t),t=t.parentGroup;qt(u.reverse(),function(t){var i;n=t.div=t.div||v("div",{className:c(t.element,"class")},{position:"absolute",left:(t.translateX||0)+"px",top:(t.translateY||0)+"px"},n||r);i=n.style;e(t,{translateXSetter:function(e,n){i.left=e+"px";t[n]=e;t.doTransform=!0},translateYSetter:function(e,n){i.top=e+"px";t[n]=e;t.doTransform=!0},visibilitySetter:function(e,t){i[t]=e}})})}}else n=r;n.appendChild(s);i.added=!0;i.alignOnAdd&&i.htmlUpdateTransform();return i});return i}});_.prototype={addLabel:function(){var t=this.axis,n=t.options,r=t.chart,i=t.horiz,s=t.categories,u=t.names,f=this.pos,c=n.labels,h=c.rotation,d=t.tickPositions,i=i&&s&&!c.step&&!c.staggerLines&&!c.rotation&&r.plotWidth/d.length||!i&&(r.margin[3]||.33*r.chartWidth),v=f===d[0],m=f===d[d.length-1],g,u=s?p(s[f],u[f],f):f,s=this.label,y=d.info;t.isDatetimeAxis&&y&&(g=n.dateTimeLabelFormats[y.higherRanks[f]||y.unitName]);this.isFirst=v;this.isLast=m;n=t.labelFormatter.call({axis:t,chart:r,isFirst:v,isLast:m,dateTimeLabelFormat:g,value:t.isLog?L(a(u)):u});f=i&&{width:W(1,R(i-2*(c.padding||10)))+"px"};l(s)?s&&s.attr({text:n}).css(f):(g={align:t.labelAlign},o(h)&&(g.rotation=h),i&&c.ellipsis&&(f.HcHeight=t.len/d.length),this.label=s=l(n)&&c.enabled?r.renderer.text(n,0,0,c.useHTML).attr(g).css(e(f,c.style)).add(t.labelGroup):null,t.tickBaseline=r.renderer.fontMetrics(c.style.fontSize,s).b,h&&2===t.side&&(t.tickBaseline*=$(h*Q)));this.yOffset=s?p(c.y,t.tickBaseline+(2===t.side?8:-(s.getBBox().height/2))):0},getLabelSize:function(){var e=this.label,t=this.axis;return e?e.getBBox()[t.horiz?"height":"width"]:0},getLabelSides:function(){var e=this.label.getBBox(),t=this.axis,n=t.horiz,r=t.options.labels,e=n?e.width:e.height,t=n?r.x-e*{left:0,center:.5,right:1}[t.labelAlign]:0;return[t,n?e+t:e]},handleOverflow:function(e,t){var n=!0,r=this.axis,i=this.isFirst,s=this.isLast,o=r.horiz?t.x:t.y,u=r.reversed,a=r.tickPositions,f=this.getLabelSides(),l=f[0],f=f[1],c,h,p,d=this.label.line;c=d||0;h=r.labelEdge;p=r.justifyLabels&&(i||s);h[c]===j||o+l>h[c]?h[c]=o+f:p||(n=!1);if(p){c=(h=r.justifyToPlot)?r.pos:0;h=h?c+r.len:r.chart.chartWidth;do e+=i?1:-1,p=r.ticks[a[e]];while(a[e]&&(!p||!p.label||p.label.line!==d));r=p&&p.label.xy&&p.label.xy.x+p.getLabelSides()[i?0:1];i&&!u||s&&u?o+l<c&&(o=c-l,p&&o+f>r&&(n=!1)):o+f>h&&(o=h-f,p&&o+l<r&&(n=!1));t.x=o}return n},getPosition:function(e,t,n,r){var i=this.axis,s=i.chart,o=r&&s.oldChartHeight||s.chartHeight;return{x:e?i.translate(t+n,null,null,r)+i.transB:i.left+i.offset+(i.opposite?(r&&s.oldChartWidth||s.chartWidth)-i.right-i.left:0),y:e?o-i.bottom+i.offset-(i.opposite?i.height:0):o-i.translate(t+n,null,null,r)-i.transB}},getLabelPosition:function(e,t,n,r,i,s,o,u){var a=this.axis,f=a.transA,l=a.reversed,c=a.staggerLines;e=e+i.x-(s&&r?s*f*(l?-1:1):0);t=t+this.yOffset-(s&&!r?s*f*(l?1:-1):0);c&&(n.line=o/(u||1)%c,t+=a.labelOffset/c*n.line);return{x:e,y:t}},getMarkPath:function(e,t,n,r,i,s){return s.crispLine(["M",e,t,"L",e+(i?0:-n),t+(i?n:0)],r)},render:function(e,t,n){var r=this.axis,i=r.options,s=r.chart.renderer,o=r.horiz,u=this.type,a=this.label,f=this.pos,l=i.labels,c=this.gridLine,h=u?u+"Grid":"grid",d=u?u+"Tick":"tick",v=i[h+"LineWidth"],m=i[h+"LineColor"],g=i[h+"LineDashStyle"],y=i[d+"Length"],h=i[d+"Width"]||0,b=i[d+"Color"],w=i[d+"Position"],d=this.mark,E=l.step,S=!0,x=r.tickmarkOffset,T=this.getPosition(o,f,x,t),N=T.x,T=T.y,C=o&&N===r.pos+r.len||!o&&T===r.pos?-1:1;n=p(n,1);this.isActive=!0;if(v&&(f=r.getPlotLinePath(f+x,v*C,t,!0),c===j&&(c={stroke:m,"stroke-width":v},g&&(c.dashstyle=g),u||(c.zIndex=1),t&&(c.opacity=0),this.gridLine=c=v?s.path(f).attr(c).add(r.gridGroup):null),!t&&c&&f))c[this.isNew?"attr":"animate"]({d:f,opacity:n});h&&y&&("inside"===w&&(y=-y),r.opposite&&(y=-y),u=this.getMarkPath(N,T,y,h*C,o,s),d?d.animate({d:u,opacity:n}):this.mark=s.path(u).attr({stroke:b,"stroke-width":h,opacity:n}).add(r.axisGroup));a&&!isNaN(N)&&(a.xy=T=this.getLabelPosition(N,T,a,o,l,x,e,E),this.isFirst&&!this.isLast&&!p(i.showFirstLabel,1)||this.isLast&&!this.isFirst&&!p(i.showLastLabel,1)?S=!1:r.isRadial||l.step||l.rotation||t||0===n||(S=this.handleOverflow(e,T)),E&&e%E&&(S=!1),S&&!isNaN(T.y)?(T.opacity=n,a[this.isNew?"attr":"animate"](T),this.isNew=!1):a.attr("y",-9999))},destroy:function(){C(this,this.axis)}};Ht.PlotLineOrBand=function(e,t){this.axis=e;t&&(this.options=t,this.id=t.id)};Ht.PlotLineOrBand.prototype={render:function(){var e=this,n=e.axis,r=n.horiz,i=(n.pointRange||0)/2,s=e.options,o=s.label,a=e.label,f=s.width,c=s.to,h=s.from,p=l(h)&&l(c),d=s.value,v=s.dashStyle,m=e.svgElem,g=[],y,b=s.color,w=s.zIndex,E=s.events,S={},x=n.chart.renderer;n.isLog&&(h=u(h),c=u(c),d=u(d));if(f)g=n.getPlotLinePath(d,f),S={stroke:b,"stroke-width":f},v&&(S.dashstyle=v);else if(p)h=W(h,n.min-i),c=X(c,n.max+i),g=n.getPlotBandPath(h,c,s),b&&(S.fill=b),s.borderWidth&&(S.stroke=s.borderColor,S["stroke-width"]=s.borderWidth);else return;l(w)&&(S.zIndex=w);if(m)g?m.animate({d:g},null,m.onGetPath):(m.hide(),m.onGetPath=function(){m.show()},a&&(e.label=a=a.destroy()));else if(g&&g.length&&(e.svgElem=m=x.path(g).attr(S).add(),E))for(y in i=function(t){m.on(t,function(n){E[t].apply(e,[n])})},E)i(y);o&&l(o.text)&&g&&g.length&&0<n.width&&0<n.height?(o=t({align:r&&p&&"center",x:r?!p&&4:10,verticalAlign:!r&&p&&"middle",y:r?p?16:10:p?6:-4,rotation:r&&!p&&90},o),a||(S={align:o.textAlign||o.align,rotation:o.rotation},l(w)&&(S.zIndex=w),e.label=a=x.text(o.text,0,0,o.useHTML).attr(S).css(o.style).add()),n=[g[1],g[4],p?g[6]:g[1]],p=[g[2],g[5],p?g[7]:g[2]],g=T(n),r=T(p),a.align(o,!1,{x:g,y:r,width:N(n)-g,height:N(p)-r}),a.show()):a&&a.hide();return e},destroy:function(){f(this.axis.plotLinesAndBands,this);delete this.axis;C(this)}};D.prototype={defaultOptions:{dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b '%y",year:"%Y"},endOnTick:!1,gridLineColor:"#C0C0C0",labels:Qt,lineColor:"#C0D0E0",lineWidth:1,minPadding:.01,maxPadding:.01,minorGridLineColor:"#E0E0E0",minorGridLineWidth:1,minorTickColor:"#A0A0A0",minorTickLength:2,minorTickPosition:"outside",startOfWeek:1,startOnTick:!1,tickColor:"#C0D0E0",tickLength:10,tickmarkPlacement:"between",tickPixelInterval:100,tickPosition:"outside",tickWidth:1,title:{align:"middle",style:{color:"#707070"}},type:"linear"},defaultYAxisOptions:{endOnTick:!0,gridLineWidth:1,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8,y:3},lineWidth:0,maxPadding:.05,minPadding:.05,startOnTick:!0,tickWidth:0,title:{rotation:270,text:"Values"},stackLabels:{enabled:!1,formatter:function(){return g(this.total,-1)},style:Qt.style}},defaultLeftAxisOptions:{labels:{x:-15,y:null},title:{rotation:270}},defaultRightAxisOptions:{labels:{x:15,y:null},title:{rotation:90}},defaultBottomAxisOptions:{labels:{x:0,y:null},title:{rotation:0}},defaultTopAxisOptions:{labels:{x:0,y:-15},title:{rotation:0}},init:function(e,t){var n=t.isX;this.horiz=e.inverted?!n:n;this.coll=(this.isXAxis=n)?"xAxis":"yAxis";this.opposite=t.opposite;this.side=t.side||(this.horiz?this.opposite?0:2:this.opposite?1:3);this.setOptions(t);var r=this.options,i=r.type;this.labelFormatter=r.labels.formatter||this.defaultLabelFormatter;this.userOptions=t;this.minPixelPadding=0;this.chart=e;this.reversed=r.reversed;this.zoomEnabled=!1!==r.zoomEnabled;this.categories=r.categories||"category"===i;this.names=[];this.isLog="logarithmic"===i;this.isDatetimeAxis="datetime"===i;this.isLinked=l(r.linkedTo);this.tickmarkOffset=this.categories&&"between"===r.tickmarkPlacement&&1===p(r.tickInterval,1)?.5:0;this.ticks={};this.labelEdge=[];this.minorTicks={};this.plotLinesAndBands=[];this.alternateBands={};this.len=0;this.minRange=this.userMinRange=r.minRange||r.maxZoom;this.range=r.range;this.offset=r.offset||0;this.stacks={};this.oldStacks={};this.min=this.max=null;this.crosshair=p(r.crosshair,h(e.options.tooltip.crosshairs)[n?0:1],!1);var s,r=this.options.events;-1===It(this,e.axes)&&(n&&!this.isColorAxis?e.axes.splice(e.xAxis.length,0,this):e.axes.push(this),e[this.coll].push(this));this.series=this.series||[];e.inverted&&n&&this.reversed===j&&(this.reversed=!0);this.removePlotLine=this.removePlotBand=this.removePlotBandOrLine;for(s in r)Wt(this,s,r[s]);this.isLog&&(this.val2lin=u,this.lin2val=a)},setOptions:function(e){this.options=t(this.defaultOptions,this.isXAxis?{}:this.defaultYAxisOptions,[this.defaultTopAxisOptions,this.defaultRightAxisOptions,this.defaultBottomAxisOptions,this.defaultLeftAxisOptions][this.side],t(lt[this.coll],e))},defaultLabelFormatter:function(){var e=this.axis,t=this.value,n=e.categories,r=this.dateTimeLabelFormat,i=lt.lang.numericSymbols,s=i&&i.length,o,u=e.options.labels.format,e=e.isLog?t:e.tickInterval;if(u)o=w(u,this);else if(n)o=t;else if(r)o=ct(r,t);else if(s&&1e3<=e)for(;s--&&o===j;)n=Math.pow(1e3,s+1),e>=n&&null!==i[s]&&(o=g(t/n,-1)+i[s]);o===j&&(o=1e4<=V(t)?g(t,0):g(t,-1,j,""));return o},getSeriesExtremes:function(){var e=this,t=e.chart;e.hasVisibleSeries=!1;e.dataMin=e.dataMax=e.ignoreMinPadding=e.ignoreMaxPadding=null;e.buildStacks&&e.buildStacks();qt(e.series,function(n){if(n.visible||!t.options.chart.ignoreHiddenSeries){var r;r=n.options.threshold;var i;e.hasVisibleSeries=!0;e.isLog&&0>=r&&(r=null);e.isXAxis?(r=n.xData,r.length&&(e.dataMin=X(p(e.dataMin,r[0]),T(r)),e.dataMax=W(p(e.dataMax,r[0]),N(r)))):(n.getExtremes(),i=n.dataMax,n=n.dataMin,l(n)&&l(i)&&(e.dataMin=X(p(e.dataMin,n),n),e.dataMax=W(p(e.dataMax,i),i)),l(r)&&(e.dataMin>=r?(e.dataMin=r,e.ignoreMinPadding=!0):e.dataMax<r&&(e.dataMax=r,e.ignoreMaxPadding=!0)))}})},translate:function(e,t,n,r,i,s){var u=1,a=0,f=r?this.oldTransA:this.transA;r=r?this.oldMin:this.min;var l=this.minPixelPadding;i=(this.options.ordinal||this.isLog&&i)&&this.lin2val;f||(f=this.transA);n&&(u*=-1,a=this.len);this.reversed&&(u*=-1,a-=u*(this.sector||this.len));t?(e=e*u+a-l,e=e/f+r,i&&(e=this.lin2val(e))):(i&&(e=this.val2lin(e)),"between"===s&&(s=.5),e=u*(e-r)*f+a+u*l+(o(s)?f*s*this.pointRange:0));return e},toPixels:function(e,t){return this.translate(e,!1,!this.horiz,null,!0)+(t?0:this.pos)},toValue:function(e,t){return this.translate(e-(t?0:this.pos),!0,!this.horiz,null,!0)},getPlotLinePath:function(e,t,n,r,i){var s=this.chart,o=this.left,u=this.top,a,f,l=n&&s.oldChartHeight||s.chartHeight,c=n&&s.oldChartWidth||s.chartWidth,h;a=this.transB;i=p(i,this.translate(e,null,null,n));e=n=R(i+a);a=f=R(l-i-a);if(isNaN(i))h=!0;else if(this.horiz){if(a=u,f=l-this.bottom,e<o||e>o+this.width)h=!0}else if(e=o,n=c-this.right,a<u||a>u+this.height)h=!0;return h&&!r?null:s.renderer.crispLine(["M",e,a,"L",n,f],t||1)},getLinearTickPositions:function(e,t,n){var r,i=L(U(t/e)*e),s=L(z(n/e)*e),u=[];if(t===n&&o(t))return[t];for(t=i;t<=s;){u.push(t);t=L(t+e);if(t===r)break;r=t}return u},getMinorTickPositions:function(){var e=this.options,t=this.tickPositions,n=this.minorTickInterval,r=[],i;if(this.isLog)for(i=t.length,e=1;e<i;e++)r=r.concat(this.getLogTickPositions(n,t[e-1],t[e],!0));else if(this.isDatetimeAxis&&"auto"===e.minorTickInterval)r=r.concat(this.getTimeTicks(this.normalizeTimeTickInterval(n),this.min,this.max,e.startOfWeek)),r[0]<this.min&&r.shift();else for(t=this.min+(t[0]-this.min)%n;t<=this.max;t+=n)r.push(t);return r},adjustForMinRange:function(){var e=this.options,t=this.min,n=this.max,r,i=this.dataMax-this.dataMin>=this.minRange,s,o,u,a,f;this.isXAxis&&this.minRange===j&&!this.isLog&&(l(e.min)||l(e.max)?this.minRange=null:(qt(this.series,function(e){a=e.xData;for(o=f=e.xIncrement?1:a.length-1;0<o;o--)if(u=a[o]-a[o-1],s===j||u<s)s=u}),this.minRange=X(5*s,this.dataMax-this.dataMin)));if(n-t<this.minRange){var c=this.minRange;r=(c-n+t)/2;r=[t-r,p(e.min,t-r)];i&&(r[2]=this.dataMin);t=N(r);n=[t+c,p(e.max,t+c)];i&&(n[2]=this.dataMax);n=T(n);n-t<c&&(r[0]=n-c,r[1]=p(e.min,n-c),t=N(r))}this.min=t;this.max=n},setAxisTranslation:function(e){var t=this,n=t.max-t.min,i=t.axisPointRange||0,s,o=0,u=0,a=t.linkedParent,f=!!t.categories,c=t.transA;if(t.isXAxis||f||i)a?(o=a.minPointOffset,u=a.pointRangePadding):qt(t.series,function(e){var a=f?1:t.isXAxis?e.pointRange:t.axisPointRange||0,c=e.options.pointPlacement,h=e.closestPointRange;a>n&&(a=0);i=W(i,a);o=W(o,r(c)?0:a/2);u=W(u,"on"===c?0:a);!e.noSharedTooltip&&l(h)&&(s=l(s)?X(s,h):h)}),a=t.ordinalSlope&&s?t.ordinalSlope/s:1,t.minPointOffset=o*=a,t.pointRangePadding=u*=a,t.pointRange=X(i,n),t.closestPointRange=s;e&&(t.oldTransA=c);t.translationSlope=t.transA=c=t.len/(n+u||1);t.transB=t.horiz?t.left:t.bottom;t.minPixelPadding=c*o},setTickPositions:function(e){var t=this,n=t.chart,r=t.options,i=r.startOnTick,s=r.endOnTick,a=t.isLog,f=t.isDatetimeAxis,c=t.isXAxis,h=t.isLinked,d=t.options.tickPositioner,v=r.maxPadding,m=r.minPadding,g=r.tickInterval,y=r.minTickInterval,b=r.tickPixelInterval,w,x=t.categories;h?(t.linkedParent=n[t.coll][r.linkedTo],n=t.linkedParent.getExtremes(),t.min=p(n.min,n.dataMin),t.max=p(n.max,n.dataMax),r.type!==t.linkedParent.options.type&&vt(11,1)):(t.min=p(t.userMin,r.min,t.dataMin),t.max=p(t.userMax,r.max,t.dataMax));a&&(!e&&0>=X(t.min,p(t.dataMin,t.min))&&vt(10,1),t.min=L(u(t.min)),t.max=L(u(t.max)));t.range&&l(t.max)&&(t.userMin=t.min=W(t.min,t.max-t.range),t.userMax=t.max,t.range=null);t.beforePadding&&t.beforePadding();t.adjustForMinRange();!(x||t.axisPointRange||t.usePercentage||h)&&l(t.min)&&l(t.max)&&(n=t.max-t.min)&&(l(r.min)||l(t.userMin)||!m||!(0>t.dataMin)&&t.ignoreMinPadding||(t.min-=n*m),l(r.max)||l(t.userMax)||!v||!(0<t.dataMax)&&t.ignoreMaxPadding||(t.max+=n*v));o(r.floor)&&(t.min=W(t.min,r.floor));o(r.ceiling)&&(t.max=X(t.max,r.ceiling));t.min===t.max||void 0===t.min||void 0===t.max?t.tickInterval=1:h&&!g&&b===t.linkedParent.options.tickPixelInterval?t.tickInterval=t.linkedParent.tickInterval:(t.tickInterval=p(g,x?1:(t.max-t.min)*b/W(t.len,b)),!l(g)&&t.len<b&&!this.isRadial&&!this.isLog&&!x&&i&&s&&(w=!0,t.tickInterval/=4));c&&!e&&qt(t.series,function(e){e.processData(t.min!==t.oldMin||t.max!==t.oldMax)});t.setAxisTranslation(!0);t.beforeSetTickPositions&&t.beforeSetTickPositions();t.postProcessTickInterval&&(t.tickInterval=t.postProcessTickInterval(t.tickInterval));t.pointRange&&(t.tickInterval=W(t.pointRange,t.tickInterval));!g&&t.tickInterval<y&&(t.tickInterval=y);f||a||g||(t.tickInterval=S(t.tickInterval,null,E(t.tickInterval),p(r.allowDecimals,!(1<t.tickInterval&&5>t.tickInterval&&1e3<t.max&&9999>t.max))));t.minorTickInterval="auto"===r.minorTickInterval&&t.tickInterval?t.tickInterval/5:r.minorTickInterval;t.tickPositions=e=r.tickPositions?[].concat(r.tickPositions):d&&d.apply(t,[t.min,t.max]);e||(!t.ordinalPositions&&(t.max-t.min)/t.tickInterval>W(2*t.len,200)&&vt(19,!0),e=f?t.getTimeTicks(t.normalizeTimeTickInterval(t.tickInterval,r.units),t.min,t.max,r.startOfWeek,t.ordinalPositions,t.closestPointRange,!0):a?t.getLogTickPositions(t.tickInterval,t.min,t.max):t.getLinearTickPositions(t.tickInterval,t.min,t.max),w&&e.splice(1,e.length-2),t.tickPositions=e);h||(r=e[0],a=e[e.length-1],f=t.minPointOffset||0,i?t.min=r:t.min-f>r&&e.shift(),s?t.max=a:t.max+f<a&&e.pop(),0===e.length&&l(r)&&e.push((a+r)/2),1===e.length&&(i=1e13<V(t.max)?1:.001,t.min-=i,t.max+=i))},setMaxTicks:function(){var e=this.chart,t=e.maxTicks||{},n=this.tickPositions,r=this._maxTicksKey=[this.coll,this.pos,this.len].join("-");!this.isLinked&&!this.isDatetimeAxis&&n&&n.length>(t[r]||0)&&!1!==this.options.alignTicks&&(t[r]=n.length);e.maxTicks=t},adjustTickAmount:function(){var e=this._maxTicksKey,t=this.tickPositions,n=this.chart.maxTicks;if(n&&n[e]&&!this.isDatetimeAxis&&!this.categories&&!this.isLinked&&!1!==this.options.alignTicks&&this.min!==j){var r=this.tickAmount,i=t.length;this.tickAmount=e=n[e];if(i<e){for(;t.length<e;)t.push(L(t[t.length-1]+this.tickInterval));this.transA*=(i-1)/(e-1);this.max=t[t.length-1]}l(r)&&e!==r&&(this.isDirty=!0)}},setScale:function(){var e=this.stacks,t,n,r,i;this.oldMin=this.min;this.oldMax=this.max;this.oldAxisLength=this.len;this.setAxisSize();i=this.len!==this.oldAxisLength;qt(this.series,function(e){if(e.isDirtyData||e.isDirty||e.xAxis.isDirty)r=!0});if(i||r||this.isLinked||this.forceRedraw||this.userMin!==this.oldUserMin||this.userMax!==this.oldUserMax){if(!this.isXAxis)for(t in e)for(n in e[t])e[t][n].total=null,e[t][n].cum=0;this.forceRedraw=!1;this.getSeriesExtremes();this.setTickPositions();this.oldUserMin=this.userMin;this.oldUserMax=this.userMax;this.isDirty||(this.isDirty=i||this.min!==this.oldMin||this.max!==this.oldMax)}else if(!this.isXAxis)for(t in this.oldStacks&&(e=this.stacks=this.oldStacks),e)for(n in e[t])e[t][n].cum=e[t][n].total;this.setMaxTicks()},setExtremes:function(t,n,r,i,s){var o=this,u=o.chart;r=p(r,!0);s=e(s,{min:t,max:n});Vt(o,"setExtremes",s,function(){o.userMin=t;o.userMax=n;o.eventArgs=s;o.isDirtyExtremes=!0;r&&u.redraw(i)})},zoom:function(e,t){var n=this.dataMin,r=this.dataMax,i=this.options;this.allowZoomOutside||(l(n)&&e<=X(n,p(i.min,n))&&(e=j),l(r)&&t>=W(r,p(i.max,r))&&(t=j));this.displayBtn=e!==j||t!==j;this.setExtremes(e,t,!1,j,{trigger:"zoom"});return!0},setAxisSize:function(){var e=this.chart,t=this.options,n=t.offsetLeft||0,r=this.horiz,i=p(t.width,e.plotWidth-n+(t.offsetRight||0)),s=p(t.height,e.plotHeight),o=p(t.top,e.plotTop),t=p(t.left,e.plotLeft+n),n=/%$/;n.test(s)&&(s=parseInt(s,10)/100*e.plotHeight);n.test(o)&&(o=parseInt(o,10)/100*e.plotHeight+e.plotTop);this.left=t;this.top=o;this.width=i;this.height=s;this.bottom=e.chartHeight-s-o;this.right=e.chartWidth-i-t;this.len=W(r?i:s,0);this.pos=r?t:o},getExtremes:function(){var e=this.isLog;return{min:e?L(a(this.min)):this.min,max:e?L(a(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}},getThreshold:function(e){var t=this.isLog,n=t?a(this.min):this.min,t=t?a(this.max):this.max;n>e||null===e?e=n:t<e&&(e=t);return this.translate(e,0,1,0,1)},autoLabelAlign:function(e){e=(p(e,0)-90*this.side+720)%360;return 15<e&&165>e?"right":195<e&&345>e?"left":"center"},getOffset:function(){var e=this,t=e.chart,n=t.renderer,r=e.options,i=e.tickPositions,s=e.ticks,o=e.horiz,u=e.side,a=t.inverted?[1,0,3,2][u]:u,f,c,h=0,d,v=0,m=r.title,g=r.labels,y=0,b=t.axisOffset,t=t.clipOffset,w=[-1,1,1,-1][u],E,S=1,x=p(g.maxStaggerLines,5),T,N,C,k,L;e.hasData=f=e.hasVisibleSeries||l(e.min)&&l(e.max)&&!!i;e.showAxis=c=f||p(r.showEmpty,!0);e.staggerLines=e.horiz&&g.staggerLines;e.axisGroup||(e.gridGroup=n.g("grid").attr({zIndex:r.gridZIndex||1}).add(),e.axisGroup=n.g("axis").attr({zIndex:r.zIndex||2}).add(),e.labelGroup=n.g("axis-labels").attr({zIndex:g.zIndex||7}).addClass("highcharts-"+e.coll.toLowerCase()+"-labels").add());if(f||e.isLinked){e.labelAlign=p(g.align||e.autoLabelAlign(g.rotation));qt(i,function(t){s[t]?s[t].addLabel():s[t]=new _(e,t)});if(e.horiz&&!e.staggerLines&&x&&!g.rotation){for(f=e.reversed?[].concat(i).reverse():i;S<x;){T=[];N=!1;for(E=0;E<f.length;E++)C=f[E],k=(k=s[C].label&&s[C].label.getBBox())?k.width:0,L=E%S,k&&(C=e.translate(C),T[L]!==j&&C<T[L]&&(N=!0),T[L]=C+k);if(N)S++;else break}1<S&&(e.staggerLines=S)}qt(i,function(t){if(0===u||2===u||{1:"left",3:"right"}[u]===e.labelAlign)y=W(s[t].getLabelSize(),y)});e.staggerLines&&(y*=e.staggerLines,e.labelOffset=y)}else for(E in s)s[E].destroy(),delete s[E];m&&m.text&&!1!==m.enabled&&(e.axisTitle||(e.axisTitle=n.text(m.text,0,0,m.useHTML).attr({zIndex:7,rotation:m.rotation||0,align:m.textAlign||{low:"left",middle:"center",high:"right"}[m.align]}).addClass("highcharts-"+this.coll.toLowerCase()+"-title").css(m.style).add(e.axisGroup),e.axisTitle.isNew=!0),c&&(h=e.axisTitle.getBBox()[o?"height":"width"],d=m.offset,v=l(d)?0:p(m.margin,o?5:10)),e.axisTitle[c?"show":"hide"]());e.offset=w*p(r.offset,b[u]);n=2===u?e.tickBaseline:0;o=y+v+(y&&w*(o?p(g.y,e.tickBaseline+8):g.x)-n);e.axisTitleMargin=p(d,o);b[u]=W(b[u],e.axisTitleMargin+h+w*e.offset,o);t[a]=W(t[a],2*U(r.lineWidth/2))},getLinePath:function(e){var t=this.chart,n=this.opposite,r=this.offset,i=this.horiz,s=this.left+(n?this.width:0)+r,r=t.chartHeight-this.bottom-(n?this.height:0)+r;n&&(e*=-1);return t.renderer.crispLine(["M",i?this.left:s,i?r:this.top,"L",i?t.chartWidth-this.right:s,i?r:t.chartHeight-this.bottom],e)},getTitlePosition:function(){var e=this.horiz,t=this.left,r=this.top,i=this.len,s=this.options.title,o=e?t:r,u=this.opposite,a=this.offset,f=n(s.style.fontSize||12),i={low:o+(e?0:i),middle:o+i/2,high:o+(e?i:0)}[s.align],t=(e?r+this.height:t)+(e?1:-1)*(u?-1:1)*this.axisTitleMargin+(2===this.side?f:0);return{x:e?i:t+(u?this.width:0)+a+(s.x||0),y:e?t-(u?this.height:0)+a:i+(s.y||0)}},render:function(){var e=this,t=e.horiz,n=e.reversed,r=e.chart,i=r.renderer,s=e.options,o=e.isLog,u=e.isLinked,f=e.tickPositions,c,h=e.axisTitle,p=e.ticks,d=e.minorTicks,v=e.alternateBands,m=s.stackLabels,g=s.alternateGridColor,y=e.tickmarkOffset,b=s.lineWidth,w=r.hasRendered&&l(e.oldMin)&&!isNaN(e.oldMin),E=e.hasData,S=e.showAxis,x,T=s.labels.overflow,N=e.justifyLabels=t&&!1!==T,C;e.labelEdge.length=0;e.justifyToPlot="justify"===T;qt([p,d,v],function(e){for(var t in e)e[t].isActive=!1});if(E||u)e.minorTickInterval&&!e.categories&&qt(e.getMinorTickPositions(),function(t){d[t]||(d[t]=new _(e,t,"minor"));w&&d[t].isNew&&d[t].render(null,!0);d[t].render(null,!1,1)}),f.length&&(c=f.slice(),(t&&n||!t&&!n)&&c.reverse(),N&&(c=c.slice(1).concat([c[0]])),qt(c,function(t,n){N&&(n=n===c.length-1?0:n+1);if(!u||t>=e.min&&t<=e.max)p[t]||(p[t]=new _(e,t)),w&&p[t].isNew&&p[t].render(n,!0,.1),p[t].render(n)}),y&&0===e.min&&(p[-1]||(p[-1]=new _(e,-1,null,!0)),p[-1].render(-1))),g&&qt(f,function(t,n){0===n%2&&t<e.max&&(v[t]||(v[t]=new Ht.PlotLineOrBand(e)),x=t+y,C=f[n+1]!==j?f[n+1]+y:e.max,v[t].options={from:o?a(x):x,to:o?a(C):C,color:g},v[t].render(),v[t].isActive=!0)}),e._addedPlotLB||(qt((s.plotLines||[]).concat(s.plotBands||[]),function(t){e.addPlotBandOrLine(t)}),e._addedPlotLB=!0);qt([p,d,v],function(e){var t,n,i=[],s=ht?ht.duration||500:0,o=function(){for(n=i.length;n--;)e[i[n]]&&!e[i[n]].isActive&&(e[i[n]].destroy(),delete e[i[n]])};for(t in e)e[t].isActive||(e[t].render(t,!1,0),e[t].isActive=!1,i.push(t));e!==v&&r.hasRendered&&s?s&&setTimeout(o,s):o()});b&&(t=e.getLinePath(b),e.axisLine?e.axisLine.animate({d:t}):e.axisLine=i.path(t).attr({stroke:s.lineColor,"stroke-width":b,zIndex:7}).add(e.axisGroup),e.axisLine[S?"show":"hide"]());h&&S&&(h[h.isNew?"attr":"animate"](e.getTitlePosition()),h.isNew=!1);m&&m.enabled&&e.renderStackTotals();e.isDirty=!1},redraw:function(){this.render();qt(this.plotLinesAndBands,function(e){e.render()});qt(this.series,function(e){e.isDirty=!0})},destroy:function(e){var t=this,n=t.stacks,r,i=t.plotLinesAndBands;e||Xt(t);for(r in n)C(n[r]),n[r]=null;qt([t.ticks,t.minorTicks,t.alternateBands],function(e){C(e)});for(e=i.length;e--;)i[e].destroy();qt("stackTotalGroup axisLine axisTitle axisGroup cross gridGroup labelGroup".split(" "),function(e){t[e]&&(t[e]=t[e].destroy())});this.cross&&this.cross.destroy()},drawCrosshair:function(e,t){if(this.crosshair)if(!1===(l(t)||!p(this.crosshair.snap,!0)))this.hideCrosshair();else{var n,r=this.crosshair,i=r.animation;p(r.snap,!0)?l(t)&&(n=this.chart.inverted!=this.horiz?t.plotX:this.len-t.plotY):n=this.horiz?e.chartX-this.pos:this.len-e.chartY+this.pos;n=this.isRadial?this.getPlotLinePath(this.isXAxis?t.x:p(t.stackY,t.y)):this.getPlotLinePath(null,null,null,null,n);if(null===n)this.hideCrosshair();else if(this.cross)this.cross.attr({visibility:"visible"})[i?"animate":"attr"]({d:n},i);else i={"stroke-width":r.width||1,stroke:r.color||"#C0C0C0",zIndex:r.zIndex||2},r.dashStyle&&(i.dashstyle=r.dashStyle),this.cross=this.chart.renderer.path(n).attr(i).add()}},hideCrosshair:function(){this.cross&&this.cross.hide()}};e(D.prototype,{getPlotBandPath:function(e,t){var n=this.getPlotLinePath(t),r=this.getPlotLinePath(e);r&&n?r.push(n[4],n[5],n[1],n[2]):r=null;return r},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,t){var n=(new Ht.PlotLineOrBand(this,e)).render(),r=this.userOptions;n&&(t&&(r[t]=r[t]||[],r[t].push(e)),this.plotLinesAndBands.push(n));return n},removePlotBandOrLine:function(e){for(var t=this.plotLinesAndBands,n=this.options,r=this.userOptions,i=t.length;i--;)t[i].id===e&&t[i].destroy();qt([n.plotLines||[],r.plotLines||[],n.plotBands||[],r.plotBands||[]],function(t){for(i=t.length;i--;)t[i].id===e&&f(t,t[i])})}});D.prototype.getTimeTicks=function(t,n,r,i){var s=[],o={},u=lt.global.useUTC,a,f=new wt(n-St),c=t.unitRange,h=t.count;if(l(n)){c>=dt.second&&(f.setMilliseconds(0),f.setSeconds(c>=dt.minute?0:h*U(f.getSeconds()/h)));if(c>=dt.minute)f[At](c>=dt.hour?0:h*U(f[xt]()/h));if(c>=dt.hour)f[Ot](c>=dt.day?0:h*U(f[Tt]()/h));if(c>=dt.day)f[Mt](c>=dt.month?1:h*U(f[Ct]()/h));c>=dt.month&&(f[_t](c>=dt.year?0:h*U(f[kt]()/h)),a=f[Lt]());if(c>=dt.year)f[Dt](a-a%h);if(c===dt.week)f[Mt](f[Ct]()-f[Nt]()+p(i,1));n=1;St&&(f=new wt(f.getTime()+St));a=f[Lt]();i=f.getTime();for(var d=f[kt](),v=f[Ct](),m=(dt.day+(u?St:6e4*f.getTimezoneOffset()))%dt.day;i<r;)s.push(i),i=c===dt.year?Et(a+n*h,0):c===dt.month?Et(a,d+n*h):u||c!==dt.day&&c!==dt.week?i+c*h:Et(a,d,v+n*h*(c===dt.day?1:7)),n++;s.push(i);qt(Rt(s,function(e){return c<=dt.hour&&e%dt.day===m}),function(e){o[e]="day"})}s.info=e(t,{higherRanks:o,totalRange:c*h});return s};D.prototype.normalizeTimeTickInterval=function(e,t){var n=t||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]],r=n[n.length-1],i=dt[r[0]],s=r[1],o;for(o=0;o<n.length&&!(r=n[o],i=dt[r[0]],s=r[1],n[o+1]&&e<=(i*s[s.length-1]+dt[n[o+1][0]])/2);o++);i===dt.year&&e<5*i&&(s=[1,2,5]);n=S(e/i,s,"year"===r[0]?W(E(e/i),1):1);return{unitRange:i,count:n,unitName:r[0]}};D.prototype.getLogTickPositions=function(e,t,n,r){var i=this.options,s=this.len,o=[];r||(this._minorAutoInterval=null);if(.5<=e)e=R(e),o=this.getLinearTickPositions(e,t,n);else if(.08<=e)for(var s=U(t),f,l,c,h,d,i=.3<e?[1,2,4]:.15<e?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];s<n+1&&!d;s++)for(l=i.length,f=0;f<l&&!d;f++)c=u(a(s)*i[f]),c>t&&(!r||h<=n)&&h!==j&&o.push(h),h>n&&(d=!0),h=c;else t=a(t),n=a(n),e=i[r?"minorTickInterval":"tickInterval"],e=p("auto"===e?null:e,this._minorAutoInterval,i.tickPixelInterval/(r?5:1)*(n-t)/((r?s/this.tickPositions.length:s)||1)),e=S(e,null,E(e)),o=zt(this.getLinearTickPositions(e,t,n),u),r||(this._minorAutoInterval=e/5);r||(this.tickInterval=e);return o};var sn=Ht.Tooltip=function(){this.init.apply(this,arguments)};sn.prototype={init:function(e,t){var r=t.borderWidth,i=t.style,s=n(i.padding);this.chart=e;this.options=t;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=!0;this.label=e.renderer.label("",0,0,t.shape||"callout",null,null,t.useHTML,null,"tooltip").attr({padding:s,fill:t.backgroundColor,"stroke-width":r,r:t.borderRadius,zIndex:8}).css(i).css({padding:0}).add().attr({y:-9999});st||this.label.shadow(t.shadow);this.shared=t.shared},destroy:function(){this.label&&(this.label=this.label.destroy());clearTimeout(this.hideTimer);clearTimeout(this.tooltipTimeout)},move:function(t,n,r,i){var s=this,o=s.now,u=!1!==s.options.animation&&!s.isHidden&&(1<V(t-o.x)||1<V(n-o.y)),a=s.followPointer||1<s.len;e(o,{x:u?(2*o.x+t)/3:t,y:u?(o.y+n)/2:n,anchorX:a?j:u?(2*o.anchorX+r)/3:r,anchorY:a?j:u?(o.anchorY+i)/2:i});s.label.attr(o);u&&(clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){s&&s.move(t,n,r,i)},32))},hide:function(e){var t=this,n;clearTimeout(this.hideTimer);this.isHidden||(n=this.chart.hoverPoints,this.hideTimer=setTimeout(function(){t.label.fadeOut();t.isHidden=!0},p(e,this.options.hideDelay,500)),n&&qt(n,function(e){e.setState()}),this.chart.hoverPoints=null)},getAnchor:function(e,t){var n,r=this.chart,i=r.inverted,s=r.plotTop,o=0,u=0,a;e=h(e);n=e[0].tooltipPos;this.followPointer&&t&&(t.chartX===j&&(t=r.pointer.normalize(t)),n=[t.chartX-r.plotLeft,t.chartY-s]);n||(qt(e,function(e){a=e.series.yAxis;o+=e.plotX;u+=(e.plotLow?(e.plotLow+e.plotHigh)/2:e.plotY)+(!i&&a?a.top-s:0)}),o/=e.length,u/=e.length,n=[i?r.plotWidth-u:o,this.shared&&!i&&1<e.length&&t?t.chartY-s:i?r.plotHeight-o:u]);return zt(n,R)},getPosition:function(e,t,n){var r=this.chart,i=this.distance,s={},o,u=["y",r.chartHeight,t,n.plotY+r.plotTop],a=["x",r.chartWidth,e,n.plotX+r.plotLeft],f=n.ttBelow||r.inverted&&!n.negative||!r.inverted&&n.negative,l=function(e,t,n,r){var o=n<r-i;t=r+i+n<t;n=r-i-n;r+=i;if(f&&t)s[e]=r;else if(!f&&o)s[e]=n;else if(o)s[e]=n;else if(t)s[e]=r;else return!1},c=function(e,t,n,r){if(r<i||r>t-i)return!1;s[e]=r<n/2?1:r>t-n/2?t-n-2:r-n/2},h=function(e){var t=u;u=a;a=t;o=e},p=function(){!1!==l.apply(0,u)?!1!==c.apply(0,a)||o||(h(!0),p()):o?s.x=s.y=0:(h(!0),p())};(r.inverted||1<this.len)&&h();p();return s},defaultFormatter:function(e){var t=this.points||h(this),n=t[0].series,r;r=[e.tooltipHeaderFormatter(t[0])];qt(t,function(e){n=e.series;r.push(n.tooltipFormatter&&n.tooltipFormatter(e)||e.point.tooltipFormatter(n.tooltipOptions.pointFormat))});r.push(e.options.footerFormat||"");return r.join("")},refresh:function(e,t){var n=this.chart,r=this.label,i=this.options,s,o,u={},a,f=[];a=i.formatter||this.defaultFormatter;var u=n.hoverPoints,l,c=this.shared;clearTimeout(this.hideTimer);this.followPointer=h(e)[0].series.tooltipOptions.followPointer;o=this.getAnchor(e,t);s=o[0];o=o[1];!c||e.series&&e.series.noSharedTooltip?u=e.getLabelConfig():(n.hoverPoints=e,u&&qt(u,function(e){e.setState()}),qt(e,function(e){e.setState("hover");f.push(e.getLabelConfig())}),u={x:e[0].category,y:e[0].y},u.points=f,this.len=f.length,e=e[0]);a=a.call(u,this);u=e.series;this.distance=p(u.tooltipOptions.distance,16);!1===a?this.hide():(this.isHidden&&(Kt(r),r.attr("opacity",1).show()),r.attr({text:a}),l=i.borderColor||e.color||u.color||"#606060",r.attr({stroke:l}),this.updatePosition({plotX:s,plotY:o,negative:e.negative,ttBelow:e.ttBelow}),this.isHidden=!1);Vt(n,"tooltipRefresh",{text:a,x:s+n.plotLeft,y:o+n.plotTop,borderColor:l})},updatePosition:function(e){var t=this.chart,n=this.label,n=(this.options.positioner||this.getPosition).call(this,n.width,n.height,e);this.move(R(n.x),R(n.y),e.plotX+t.plotLeft,e.plotY+t.plotTop)},tooltipHeaderFormatter:function(e){var t=e.series,n=t.tooltipOptions,r=n.dateTimeLabelFormats,i=n.xDateFormat,s=t.xAxis,u=s&&"datetime"===s.options.type&&o(e.key),n=n.headerFormat,s=s&&s.closestPointRange,a;if(u&&!i){if(s)for(a in dt){if(dt[a]>=s||dt[a]<=dt.day&&0<e.key%dt[a]){i=r[a];break}}else i=r.day;i=i||r.year}u&&i&&(n=n.replace("{point.key}","{point.key:"+i+"}"));return w(n,{point:e,series:t})}};var on;ot=F.documentElement.ontouchstart!==j;var un=Ht.Pointer=function(e,t){this.init(e,t)};un.prototype={init:function(e,t){var n=t.chart,r=n.events,i=st?"":n.zoomType,n=e.inverted,s;this.options=t;this.chart=e;this.zoomX=s=/x/.test(i);this.zoomY=i=/y/.test(i);this.zoomHor=s&&!n||i&&n;this.zoomVert=i&&!n||s&&n;this.hasZoom=s||i;this.runChartClick=r&&!!r.click;this.pinchDown=[];this.lastValidTouch={};Ht.Tooltip&&t.tooltip.enabled&&(e.tooltip=new sn(e,t.tooltip),this.followTouchMove=t.tooltip.followTouchMove);this.setDOMEvents()},normalize:function(t,n){var r,i;t=t||window.event;t=$t(t);t.target||(t.target=t.srcElement);i=t.touches?t.touches.length?t.touches.item(0):t.changedTouches[0]:t;n||(this.chartPosition=n=Ut(this.chart.container));i.pageX===j?(r=W(t.x,t.clientX-n.left),i=t.y):(r=i.pageX-n.left,i=i.pageY-n.top);return e(t,{chartX:R(r),chartY:R(i)})},getCoordinates:function(e){var t={xAxis:[],yAxis:[]};qt(this.chart.axes,function(n){t[n.isXAxis?"xAxis":"yAxis"].push({axis:n,value:n.toValue(e[n.horiz?"chartX":"chartY"])})});return t},getIndex:function(e){var t=this.chart;return t.inverted?t.plotHeight+t.plotTop-e.chartY:e.chartX-t.plotLeft},runPointActions:function(e){var t=this.chart,n=t.series,r=t.tooltip,i,s,o=t.hoverPoint,u=t.hoverSeries,a,f,l=t.chartWidth,c=this.getIndex(e);if(r&&this.options.tooltip.shared&&(!u||!u.noSharedTooltip)){s=[];a=n.length;for(f=0;f<a;f++)n[f].visible&&!1!==n[f].options.enableMouseTracking&&!n[f].noSharedTooltip&&!0!==n[f].singularTooltips&&n[f].tooltipPoints.length&&(i=n[f].tooltipPoints[c])&&i.series&&(i._dist=V(c-i.clientX),l=X(l,i._dist),s.push(i));for(a=s.length;a--;)s[a]._dist>l&&s.splice(a,1);s.length&&s[0].clientX!==this.hoverX&&(r.refresh(s,e),this.hoverX=s[0].clientX)}n=u&&u.tooltipOptions.followPointer;if(u&&u.tracker&&!n){if((i=u.tooltipPoints[c])&&i!==o)i.onMouseOver(e)}else r&&n&&!r.isHidden&&(u=r.getAnchor([{}],e),r.updatePosition({plotX:u[0],plotY:u[1]}));r&&!this._onDocumentMouseMove&&(this._onDocumentMouseMove=function(e){if(gt[on])gt[on].pointer.onDocumentMouseMove(e)},Wt(F,"mousemove",this._onDocumentMouseMove));qt(t.axes,function(t){t.drawCrosshair(e,p(i,o))})},reset:function(e,t){var n=this.chart,r=n.hoverSeries,i=n.hoverPoint,s=n.tooltip,o=s&&s.shared?n.hoverPoints:i;(e=e&&s&&o)&&h(o)[0].plotX===j&&(e=!1);if(e)s.refresh(o),i&&i.setState(i.state,!0);else{if(i)i.onMouseOut();if(r)r.onMouseOut();s&&s.hide(t);this._onDocumentMouseMove&&(Xt(F,"mousemove",this._onDocumentMouseMove),this._onDocumentMouseMove=null);qt(n.axes,function(e){e.hideCrosshair()});this.hoverX=null}},scaleGroups:function(e,t){var n=this.chart,r;qt(n.series,function(i){r=e||i.getPlotBox();i.xAxis&&i.xAxis.zoomEnabled&&(i.group.attr(r),i.markerGroup&&(i.markerGroup.attr(r),i.markerGroup.clip(t?n.clipRect:null)),i.dataLabelsGroup&&i.dataLabelsGroup.attr(r))});n.clipRect.attr(t||n.clipBox)},dragStart:function(e){var t=this.chart;t.mouseIsDown=e.type;t.cancelClick=!1;t.mouseDownX=this.mouseDownX=e.chartX;t.mouseDownY=this.mouseDownY=e.chartY},drag:function(e){var t=this.chart,n=t.options.chart,r=e.chartX,i=e.chartY,s=this.zoomHor,o=this.zoomVert,u=t.plotLeft,a=t.plotTop,f=t.plotWidth,l=t.plotHeight,c,h=this.mouseDownX,p=this.mouseDownY,d=n.panKey&&e[n.panKey+"Key"];r<u?r=u:r>u+f&&(r=u+f);i<a?i=a:i>a+l&&(i=a+l);this.hasDragged=Math.sqrt(Math.pow(h-r,2)+Math.pow(p-i,2));10<this.hasDragged&&(c=t.isInsidePlot(h-u,p-a),t.hasCartesianSeries&&(this.zoomX||this.zoomY)&&c&&!d&&!this.selectionMarker&&(this.selectionMarker=t.renderer.rect(u,a,s?1:f,o?1:l,0).attr({fill:n.selectionMarkerFill||"rgba(69,114,167,0.25)",zIndex:7}).add()),this.selectionMarker&&s&&(r-=h,this.selectionMarker.attr({width:V(r),x:(0<r?0:r)+h})),this.selectionMarker&&o&&(r=i-p,this.selectionMarker.attr({height:V(r),y:(0<r?0:r)+p})),c&&!this.selectionMarker&&n.panning&&t.pan(e,n.panning))},drop:function(t){var n=this.chart,r=this.hasPinched;if(this.selectionMarker){var i={xAxis:[],yAxis:[],originalEvent:t.originalEvent||t},s=this.selectionMarker,o=s.attr?s.attr("x"):s.x,u=s.attr?s.attr("y"):s.y,a=s.attr?s.attr("width"):s.width,f=s.attr?s.attr("height"):s.height,l;if(this.hasDragged||r)qt(n.axes,function(e){if(e.zoomEnabled){var n=e.horiz,r="touchend"===t.type?e.minPixelPadding:0,s=e.toValue((n?o:u)+r),n=e.toValue((n?o+a:u+f)-r);isNaN(s)||isNaN(n)||(i[e.coll].push({axis:e,min:X(s,n),max:W(s,n)}),l=!0)}}),l&&Vt(n,"selection",i,function(t){n.zoom(e(t,r?{animation:!1}:null))});this.selectionMarker=this.selectionMarker.destroy();r&&this.scaleGroups()}n&&(d(n.container,{cursor:n._cursor}),n.cancelClick=10<this.hasDragged,n.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])},onContainerMouseDown:function(e){e=this.normalize(e);e.preventDefault&&e.preventDefault();this.dragStart(e)},onDocumentMouseUp:function(e){gt[on]&&gt[on].pointer.drop(e)},onDocumentMouseMove:function(e){var t=this.chart,n=this.chartPosition,r=t.hoverSeries;e=this.normalize(e,n);n&&r&&!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)&&this.reset()},onContainerMouseLeave:function(){var e=gt[on];e&&(e.pointer.reset(),e.pointer.chartPosition=null)},onContainerMouseMove:function(e){var t=this.chart;on=t.index;e=this.normalize(e);e.returnValue=!1;"mousedown"===t.mouseIsDown&&this.drag(e);!this.inClass(e.target,"highcharts-tracker")&&!t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)||t.openMenu||this.runPointActions(e)},inClass:function(e,t){for(var n;e;){if(n=c(e,"class")){if(-1!==n.indexOf(t))return!0;if(-1!==n.indexOf("highcharts-container"))return!1}e=e.parentNode}},onTrackerMouseOut:function(e){var t=this.chart.hoverSeries,n=(e=e.relatedTarget||e.toElement)&&e.point&&e.point.series;if(t&&!t.options.stickyTracking&&!this.inClass(e,"highcharts-tooltip")&&n!==t)t.onMouseOut()},onContainerClick:function(t){var n=this.chart,r=n.hoverPoint,i=n.plotLeft,s=n.plotTop;t=this.normalize(t);t.cancelBubble=!0;n.cancelClick||(r&&this.inClass(t.target,"highcharts-tracker")?(Vt(r.series,"click",e(t,{point:r})),n.hoverPoint&&r.firePointEvent("click",t)):(e(t,this.getCoordinates(t)),n.isInsidePlot(t.chartX-i,t.chartY-s)&&Vt(n,"click",t)))},setDOMEvents:function(){var e=this,t=e.chart.container;t.onmousedown=function(t){e.onContainerMouseDown(t)};t.onmousemove=function(t){e.onContainerMouseMove(t)};t.onclick=function(t){e.onContainerClick(t)};Wt(t,"mouseleave",e.onContainerMouseLeave);1===yt&&Wt(F,"mouseup",e.onDocumentMouseUp);ot&&(t.ontouchstart=function(t){e.onContainerTouchStart(t)},t.ontouchmove=function(t){e.onContainerTouchMove(t)},1===yt&&Wt(F,"touchend",e.onDocumentTouchEnd))},destroy:function(){var e;Xt(this.chart.container,"mouseleave",this.onContainerMouseLeave);yt||(Xt(F,"mouseup",this.onDocumentMouseUp),Xt(F,"touchend",this.onDocumentTouchEnd));clearInterval(this.tooltipTimeout);for(e in this)this[e]=null}};e(Ht.Pointer.prototype,{pinchTranslate:function(e,t,n,r,i,s){(this.zoomHor||this.pinchHor)&&this.pinchTranslateDirection(!0,e,t,n,r,i,s);(this.zoomVert||this.pinchVert)&&this.pinchTranslateDirection(!1,e,t,n,r,i,s)},pinchTranslateDirection:function(e,t,n,r,i,s,o,u){var a=this.chart,f=e?"x":"y",l=e?"X":"Y",c="chart"+l,h=e?"width":"height",p=a["plot"+(e?"Left":"Top")],d,v,m=u||1,g=a.inverted,y=a.bounds[e?"h":"v"],b=1===t.length,w=t[0][c],E=n[0][c],S=!b&&t[1][c],x=!b&&n[1][c],T;n=function(){!b&&20<V(w-S)&&(m=u||V(E-x)/V(w-S));v=(p-E)/m+w;d=a["plot"+(e?"Width":"Height")]/m};n();t=v;t<y.min?(t=y.min,T=!0):t+d>y.max&&(t=y.max-d,T=!0);T?(E-=.8*(E-o[f][0]),b||(x-=.8*(x-o[f][1])),n()):o[f]=[E,x];g||(s[f]=v-p,s[h]=d);s=g?1/m:m;i[h]=d;i[f]=t;r[g?e?"scaleY":"scaleX":"scale"+l]=m;r["translate"+l]=s*p+(E-s*w)},pinch:function(t){var n=this,r=n.chart,i=n.pinchDown,s=n.followTouchMove,o=t.touches,u=o.length,a=n.lastValidTouch,f=n.hasZoom,l=n.selectionMarker,c={},h=1===u&&(n.inClass(t.target,"highcharts-tracker")&&r.runTrackerClick||n.runChartClick),d={};!f&&!s||h||t.preventDefault();zt(o,function(e){return n.normalize(e)});"touchstart"===t.type?(qt(o,function(e,t){i[t]={chartX:e.chartX,chartY:e.chartY}}),a.x=[i[0].chartX,i[1]&&i[1].chartX],a.y=[i[0].chartY,i[1]&&i[1].chartY],qt(r.axes,function(e){if(e.zoomEnabled){var t=r.bounds[e.horiz?"h":"v"],n=e.minPixelPadding,i=e.toPixels(p(e.options.min,e.dataMin)),s=e.toPixels(p(e.options.max,e.dataMax)),o=X(i,s),i=W(i,s);t.min=X(e.pos,o-n);t.max=W(e.pos+e.len,i+n)}}),n.res=!0):i.length&&(l||(n.selectionMarker=l=e({destroy:mt},r.plotBox)),n.pinchTranslate(i,o,c,l,d,a),n.hasPinched=f,n.scaleGroups(c,d),!f&&s&&1===u?this.runPointActions(n.normalize(t)):n.res&&(n.res=!1,this.reset(!1,0)))},onContainerTouchStart:function(e){var t=this.chart;on=t.index;1===e.touches.length?(e=this.normalize(e),t.isInsidePlot(e.chartX-t.plotLeft,e.chartY-t.plotTop)?(this.runPointActions(e),this.pinch(e)):this.reset()):2===e.touches.length&&this.pinch(e)},onContainerTouchMove:function(e){1!==e.touches.length&&2!==e.touches.length||this.pinch(e)},onDocumentTouchEnd:function(e){gt[on]&&gt[on].pointer.drop(e)}});if(I.PointerEvent||I.MSPointerEvent){var an={},fn=!!I.PointerEvent,ln=function(){var e,t=[];t.item=function(e){return this[e]};for(e in an)an.hasOwnProperty(e)&&t.push({pageX:an[e].pageX,pageY:an[e].pageY,target:an[e].target});return t},cn=function(e,t,n,r){e=e.originalEvent||e;"touch"!==e.pointerType&&e.pointerType!==e.MSPOINTER_TYPE_TOUCH||!gt[on]||(r(e),r=gt[on].pointer,r[t]({type:n,target:e.currentTarget,preventDefault:mt,touches:ln()}))};e(un.prototype,{onContainerPointerDown:function(e){cn(e,"onContainerTouchStart","touchstart",function(e){an[e.pointerId]={pageX:e.pageX,pageY:e.pageY,target:e.currentTarget}})},onContainerPointerMove:function(e){cn(e,"onContainerTouchMove","touchmove",function(e){an[e.pointerId]={pageX:e.pageX,pageY:e.pageY};an[e.pointerId].target||(an[e.pointerId].target=e.currentTarget)})},onDocumentPointerUp:function(e){cn(e,"onContainerTouchEnd","touchend",function(e){delete an[e.pointerId]})},batchMSEvents:function(e){e(this.chart.container,fn?"pointerdown":"MSPointerDown",this.onContainerPointerDown);e(this.chart.container,fn?"pointermove":"MSPointerMove",this.onContainerPointerMove);e(F,fn?"pointerup":"MSPointerUp",this.onDocumentPointerUp)}});b(un.prototype,"init",function(e,t,n){e.call(this,t,n);(this.hasZoom||this.followTouchMove)&&d(t.container,{"-ms-touch-action":"none","touch-action":"none"})});b(un.prototype,"setDOMEvents",function(e){e.apply(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(Wt)});b(un.prototype,"destroy",function(e){this.batchMSEvents(Xt);e.call(this)})}var hn=Ht.Legend=function(e,t){this.init(e,t)};hn.prototype={init:function(e,n){var r=this,i=n.itemStyle,s=p(n.padding,8),o=n.itemMarginTop||0;this.options=n;n.enabled&&(r.itemStyle=i,r.itemHiddenStyle=t(i,n.itemHiddenStyle),r.itemMarginTop=o,r.padding=s,r.initialItemX=s,r.initialItemY=s-5,r.maxItemWidth=0,r.chart=e,r.itemHeight=0,r.lastLineHeight=0,r.symbolWidth=p(n.symbolWidth,16),r.pages=[],r.render(),Wt(r.chart,"endResize",function(){r.positionCheckboxes()}))},colorizeItem:function(e,t){var n=this.options,r=e.legendItem,i=e.legendLine,s=e.legendSymbol,o=this.itemHiddenStyle.color,n=t?n.itemStyle.color:o,u=t?e.legendColor||e.color||"#CCC":o,o=e.options&&e.options.marker,a={fill:u},f;r&&r.css({fill:n,color:n});i&&i.attr({stroke:u});if(s){if(o&&s.isMarker)for(f in a.stroke=u,o=e.convertAttribs(o),o)r=o[f],r!==j&&(a[f]=r);s.attr(a)}},positionItem:function(e){var t=this.options,n=t.symbolPadding,t=!t.rtl,r=e._legendItemPos,i=r[0],r=r[1],s=e.checkbox;e.legendGroup&&e.legendGroup.translate(t?i:this.legendWidth-i-2*n-4,r);s&&(s.x=i,s.y=r)},destroyItem:function(e){var t=e.checkbox;qt(["legendItem","legendLine","legendSymbol","legendGroup"],function(t){e[t]&&(e[t]=e[t].destroy())});t&&k(e.checkbox)},destroy:function(){var e=this.group,t=this.box;t&&(this.box=t.destroy());e&&(this.group=e.destroy())},positionCheckboxes:function(e){var t=this.group.alignAttr,n,r=this.clipHeight||this.legendHeight;t&&(n=t.translateY,qt(this.allItems,function(i){var s=i.checkbox,o;s&&(o=n+s.y+(e||0)+3,d(s,{left:t.translateX+i.checkboxOffset+s.x-20+"px",top:o+"px",display:o>n-6&&o<n+r-6?"":"none"}))}))},renderTitle:function(){var e=this.padding,t=this.options.title,n=0;t.text&&(this.title||(this.title=this.chart.renderer.label(t.text,e-3,e-4,null,null,null,null,null,"legend-title").attr({zIndex:1}).css(t.style).add(this.group)),e=this.title.getBBox(),n=e.height,this.offsetWidth=e.width,this.contentGroup.attr({translateY:n}));this.titleHeight=n},renderItem:function(e){var n=this.chart,r=n.renderer,i=this.options,s="horizontal"===i.layout,o=this.symbolWidth,u=i.symbolPadding,a=this.itemStyle,f=this.itemHiddenStyle,l=this.padding,c=s?p(i.itemDistance,20):0,h=!i.rtl,d=i.width,v=i.itemMarginBottom||0,m=this.itemMarginTop,g=this.initialItemX,y=e.legendItem,b=e.series&&e.series.drawLegendSymbol?e.series:e,E=b.options,E=this.createCheckboxForItem&&E&&E.showCheckbox,S=i.useHTML;y||(e.legendGroup=r.g("legend-item").attr({zIndex:1}).add(this.scrollGroup),e.legendItem=y=r.text(i.labelFormat?w(i.labelFormat,e):i.labelFormatter.call(e),h?o+u:-u,this.baseline||0,S).css(t(e.visible?a:f)).attr({align:h?"left":"right",zIndex:2}).add(e.legendGroup),this.baseline||(this.baseline=r.fontMetrics(a.fontSize,y).f+3+m,y.attr("y",this.baseline)),b.drawLegendSymbol(this,e),this.setItemEvents&&this.setItemEvents(e,y,S,a,f),this.colorizeItem(e,e.visible),E&&this.createCheckboxForItem(e));r=y.getBBox();o=e.checkboxOffset=i.itemWidth||e.legendItemWidth||o+u+r.width+c+(E?20:0);this.itemHeight=u=R(e.legendItemHeight||r.height);s&&this.itemX-g+o>(d||n.chartWidth-2*l-g-i.x)&&(this.itemX=g,this.itemY+=m+this.lastLineHeight+v,this.lastLineHeight=0);this.maxItemWidth=W(this.maxItemWidth,o);this.lastItemY=m+this.itemY+v;this.lastLineHeight=W(u,this.lastLineHeight);e._legendItemPos=[this.itemX,this.itemY];s?this.itemX+=o:(this.itemY+=m+u+v,this.lastLineHeight=u);this.offsetWidth=d||W((s?this.itemX-g-c:o)+l,this.offsetWidth)},getAllItems:function(){var e=[];qt(this.chart.series,function(t){var n=t.options;p(n.showInLegend,l(n.linkedTo)?!1:j,!0)&&(e=e.concat(t.legendItems||("point"===n.legendType?t.data:t)))});return e},render:function(){var t=this,n=t.chart,r=n.renderer,i=t.group,s,o,u,a,f=t.box,l=t.options,c=t.padding,h=l.borderWidth,p=l.backgroundColor;t.itemX=t.initialItemX;t.itemY=t.initialItemY;t.offsetWidth=0;t.lastItemY=0;i||(t.group=i=r.g("legend").attr({zIndex:7}).add(),t.contentGroup=r.g().attr({zIndex:1}).add(i),t.scrollGroup=r.g().add(t.contentGroup));t.renderTitle();s=t.getAllItems();x(s,function(e,t){return(e.options&&e.options.legendIndex||0)-(t.options&&t.options.legendIndex||0)});l.reversed&&s.reverse();t.allItems=s;t.display=o=!!s.length;qt(s,function(e){t.renderItem(e)});u=l.width||t.offsetWidth;a=t.lastItemY+t.lastLineHeight+t.titleHeight;a=t.handleOverflow(a);if(h||p)u+=c,a+=c,f?0<u&&0<a&&(f[f.isNew?"attr":"animate"](f.crisp({width:u,height:a})),f.isNew=!1):(t.box=f=r.rect(0,0,u,a,l.borderRadius,h||0).attr({stroke:l.borderColor,"stroke-width":h||0,fill:p||"none"}).add(i).shadow(l.shadow),f.isNew=!0),f[o?"show":"hide"]();t.legendWidth=u;t.legendHeight=a;qt(s,function(e){t.positionItem(e)});o&&i.align(e({width:u,height:a},l),!0,"spacingBox");n.isResizing||this.positionCheckboxes()},handleOverflow:function(e){var t=this,n=this.chart,r=n.renderer,i=this.options,s=i.y,s=n.spacingBox.height+("top"===i.verticalAlign?-s:s)-this.padding,o=i.maxHeight,u,a=this.clipRect,f=i.navigation,l=p(f.animation,!0),c=f.arrowSize||12,h=this.nav,d=this.pages,v,m=this.allItems;"horizontal"===i.layout&&(s/=2);o&&(s=X(s,o));d.length=0;e>s&&!i.useHTML?(this.clipHeight=u=W(s-20-this.titleHeight-this.padding,0),this.currentPage=p(this.currentPage,1),this.fullHeight=e,qt(m,function(e,t){var n=e._legendItemPos[1],r=R(e.legendItem.getBBox().height),i=d.length;if(!i||n-d[i-1]>u&&(v||n)!==d[i-1])d.push(v||n),i++;t===m.length-1&&n+r-d[i-1]>u&&d.push(n);n!==v&&(v=n)}),a||(a=t.clipRect=r.clipRect(0,this.padding,9999,0),t.contentGroup.clip(a)),a.attr({height:u}),h||(this.nav=h=r.g().attr({zIndex:1}).add(this.group),this.up=r.symbol("triangle",0,0,c,c).on("click",function(){t.scroll(-1,l)}).add(h),this.pager=r.text("",15,10).css(f.style).add(h),this.down=r.symbol("triangle-down",0,0,c,c).on("click",function(){t.scroll(1,l)}).add(h)),t.scroll(0),e=s):h&&(a.attr({height:n.chartHeight}),h.hide(),this.scrollGroup.attr({translateY:1}),this.clipHeight=0);return e},scroll:function(e,t){var n=this.pages,r=n.length,i=this.currentPage+e,s=this.clipHeight,o=this.options.navigation,u=o.activeColor,o=o.inactiveColor,a=this.pager,f=this.padding;i>r&&(i=r);0<i&&(t!==j&&A(t,this.chart),this.nav.attr({translateX:f,translateY:s+this.padding+7+this.titleHeight,visibility:"visible"}),this.up.attr({fill:1===i?o:u}).css({cursor:1===i?"default":"pointer"}),a.attr({text:i+"/"+r}),this.down.attr({x:18+this.pager.getBBox().width,fill:i===r?o:u}).css({cursor:i===r?"default":"pointer"}),n=-n[i-1]+this.initialItemY,this.scrollGroup.animate({translateY:n}),this.currentPage=i,this.positionCheckboxes(n))}};var pn=Ht.LegendSymbolMixin={drawRectangle:function(e,t){var n=e.options.symbolHeight||12;t.legendSymbol=this.chart.renderer.rect(0,e.baseline-5-n/2,e.symbolWidth,n,e.options.symbolRadius||0).attr({zIndex:3}).add(t.legendGroup)},drawLineMarker:function(e){var t=this.options,n=t.marker,r;r=e.symbolWidth;var i=this.chart.renderer,s=this.legendGroup;e=e.baseline-R(.3*i.fontMetrics(e.options.itemStyle.fontSize,this.legendItem).b);var o;t.lineWidth&&(o={"stroke-width":t.lineWidth},t.dashStyle&&(o.dashstyle=t.dashStyle),this.legendLine=i.path(["M",0,e,"L",r,e]).attr(o).add(s));n&&!1!==n.enabled&&(t=n.radius,this.legendSymbol=r=i.symbol(this.symbol,r/2-t,e-t,2*t,2*t).add(s),r.isMarker=!0)}};(/Trident\/7\.0/.test(G)||tt)&&b(hn.prototype,"positionItem",function(e,t){var n=this,r=function(){t._legendItemPos&&e.call(n,t)};r();setTimeout(r)});P.prototype={init:function(e,n){var r,i=e.series;e.series=null;r=t(lt,e);r.series=e.series=i;this.userOptions=e;i=r.chart;this.margin=this.splashArray("margin",i);this.spacing=this.splashArray("spacing",i);var s=i.events;this.bounds={h:{},v:{}};this.callback=n;this.isResizing=0;this.options=r;this.axes=[];this.series=[];this.hasCartesianSeries=i.showAxes;var o=this,u;o.index=gt.length;gt.push(o);yt++;!1!==i.reflow&&Wt(o,"load",function(){o.initReflow()});if(s)for(u in s)Wt(o,u,s[u]);o.xAxis=[];o.yAxis=[];o.animation=st?!1:p(i.animation,!0);o.pointCount=o.colorCounter=o.symbolCounter=0;o.firstRender()},initSeries:function(e){var t=this.options.chart;(t=Pt[e.type||t.type||t.defaultSeriesType])||vt(17,!0);t=new t;t.init(this,e);return t},isInsidePlot:function(e,t,n){var r=n?t:e;e=n?e:t;return 0<=r&&r<=this.plotWidth&&0<=e&&e<=this.plotHeight},adjustTickAmounts:function(){!1!==this.options.chart.alignTicks&&qt(this.axes,function(e){e.adjustTickAmount()});this.maxTicks=null},redraw:function(t){var n=this.axes,r=this.series,i=this.pointer,s=this.legend,o=this.isDirtyLegend,u,a,f=this.hasCartesianSeries,l=this.isDirtyBox,c=r.length,h=c,p=this.renderer,d=p.isHidden(),v=[];A(t,this);d&&this.cloneRenderTo();for(this.layOutTitles();h--;)if(t=r[h],t.options.stacking&&(u=!0,t.isDirty)){a=!0;break}if(a)for(h=c;h--;)t=r[h],t.options.stacking&&(t.isDirty=!0);qt(r,function(e){e.isDirty&&"point"===e.options.legendType&&(o=!0)});o&&s.options.enabled&&(s.render(),this.isDirtyLegend=!1);u&&this.getStacks();f&&(this.isResizing||(this.maxTicks=null,qt(n,function(e){e.setScale()})),this.adjustTickAmounts());this.getMargins();f&&(qt(n,function(e){e.isDirty&&(l=!0)}),qt(n,function(t){t.isDirtyExtremes&&(t.isDirtyExtremes=!1,v.push(function(){Vt(t,"afterSetExtremes",e(t.eventArgs,t.getExtremes()));delete t.eventArgs}));(l||u)&&t.redraw()}));l&&this.drawChartBox();qt(r,function(e){e.isDirty&&e.visible&&(!e.isCartesian||e.xAxis)&&e.redraw()});i&&i.reset(!0);p.draw();Vt(this,"redraw");d&&this.cloneRenderTo(!0);qt(v,function(e){e.call()})},get:function(e){var t=this.axes,n=this.series,r,i;for(r=0;r<t.length;r++)if(t[r].options.id===e)return t[r];for(r=0;r<n.length;r++)if(n[r].options.id===e)return n[r];for(r=0;r<n.length;r++)for(i=n[r].points||[],t=0;t<i.length;t++)if(i[t].id===e)return i[t];return null},getAxes:function(){var e=this,t=this.options,n=t.xAxis=h(t.xAxis||{}),t=t.yAxis=h(t.yAxis||{});qt(n,function(e,t){e.index=t;e.isX=!0});qt(t,function(e,t){e.index=t});n=n.concat(t);qt(n,function(t){new D(e,t)});e.adjustTickAmounts()},getSelectedPoints:function(){var e=[];qt(this.series,function(t){e=e.concat(Rt(t.points||[],function(e){return e.selected}))});return e},getSelectedSeries:function(){return Rt(this.series,function(e){return e.selected})},getStacks:function(){var e=this;qt(e.yAxis,function(e){e.stacks&&e.hasVisibleSeries&&(e.oldStacks=e.stacks)});qt(e.series,function(t){!t.options.stacking||!0!==t.visible&&!1!==e.options.chart.ignoreHiddenSeries||(t.stackKey=t.type+p(t.options.stack,""))})},setTitle:function(e,n,r){var i=this,s=i.options,o;o=s.title=t(s.title,e);s=s.subtitle=t(s.subtitle,n);qt([["title",e,o],["subtitle",n,s]],function(e){var t=e[0],n=i[t],r=e[1];e=e[2];n&&r&&(i[t]=n=n.destroy());e&&e.text&&!n&&(i[t]=i.renderer.text(e.text,0,0,e.useHTML).attr({align:e.align,"class":"highcharts-"+t,zIndex:e.zIndex||4}).css(e.style).add())});i.layOutTitles(r)},layOutTitles:function(t){var n=0,r=this.title,i=this.subtitle,s=this.options,o=s.title,s=s.subtitle,u=this.renderer,a=this.spacingBox.width-44;r&&(r.css({width:(o.width||a)+"px"}).align(e({y:u.fontMetrics(o.style.fontSize,r).b-3},o),!1,"spacingBox"),o.floating||o.verticalAlign||(n=r.getBBox().height));i&&(i.css({width:(s.width||a)+"px"}).align(e({y:n+(o.margin-13)+u.fontMetrics(o.style.fontSize,i).b},s),!1,"spacingBox"),s.floating||s.verticalAlign||(n=z(n+i.getBBox().height)));r=this.titleOffset!==n;this.titleOffset=n;!this.isDirtyBox&&r&&(this.isDirtyBox=r,this.hasRendered&&p(t,!0)&&this.isDirtyBox&&this.redraw())},getChartSize:function(){var e=this.options.chart,t=e.width,e=e.height,n=this.renderToClone||this.renderTo;l(t)||(this.containerWidth=Ft(n,"width"));l(e)||(this.containerHeight=Ft(n,"height"));this.chartWidth=W(0,t||this.containerWidth||600);this.chartHeight=W(0,p(e,19<this.containerHeight?this.containerHeight:400))},cloneRenderTo:function(e){var t=this.renderToClone,n=this.container;e?t&&(this.renderTo.appendChild(n),k(t),delete this.renderToClone):(n&&n.parentNode===this.renderTo&&this.renderTo.removeChild(n),this.renderToClone=t=this.renderTo.cloneNode(0),d(t,{position:"absolute",top:"-9999px",display:"block"}),t.style.setProperty&&t.style.setProperty("display","block","important"),F.body.appendChild(t),n&&t.appendChild(n))},getContainer:function(){var t,i=this.options.chart,s,o,u;this.renderTo=t=i.renderTo;u="highcharts-"+at++;r(t)&&(this.renderTo=t=F.getElementById(t));t||vt(13,!0);s=n(c(t,"data-highcharts-chart"));!isNaN(s)&&gt[s]&&gt[s].hasRendered&&gt[s].destroy();c(t,"data-highcharts-chart",this.index);t.innerHTML="";i.skipClone||t.offsetWidth||this.cloneRenderTo();this.getChartSize();s=this.chartWidth;o=this.chartHeight;this.container=t=v("div",{className:"highcharts-container"+(i.className?" "+i.className:""),id:u},e({position:"relative",overflow:"hidden",width:s+"px",height:o+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)"},i.style),this.renderToClone||t);this._cursor=t.style.cursor;this.renderer=i.forExport?new rn(t,s,o,i.style,!0):new rn(t,s,o,i.style);st&&this.renderer.create(this,t,s,o)},getMargins:function(){var e=this.spacing,t,n=this.legend,r=this.margin,i=this.options.legend,s=p(i.margin,20),o=i.x,u=i.y,a=i.align,f=i.verticalAlign,c=this.titleOffset;this.resetMargins();t=this.axisOffset;c&&!l(r[0])&&(this.plotTop=W(this.plotTop,c+this.options.title.margin+e[0]));n.display&&!i.floating&&("right"===a?l(r[1])||(this.marginRight=W(this.marginRight,n.legendWidth-o+s+e[1])):"left"===a?l(r[3])||(this.plotLeft=W(this.plotLeft,n.legendWidth+o+s+e[3])):"top"===f?l(r[0])||(this.plotTop=W(this.plotTop,n.legendHeight+u+s+e[0])):"bottom"!==f||l(r[2])||(this.marginBottom=W(this.marginBottom,n.legendHeight-u+s+e[2])));this.extraBottomMargin&&(this.marginBottom+=this.extraBottomMargin);this.extraTopMargin&&(this.plotTop+=this.extraTopMargin);this.hasCartesianSeries&&qt(this.axes,function(e){e.getOffset()});l(r[3])||(this.plotLeft+=t[3]);l(r[0])||(this.plotTop+=t[0]);l(r[2])||(this.marginBottom+=t[2]);l(r[1])||(this.marginRight+=t[1]);this.setChartSize()},reflow:function(e){var t=this,n=t.options.chart,r=t.renderTo,i=n.width||Ft(r,"width"),s=n.height||Ft(r,"height"),n=e?e.target:I,r=function(){t.container&&(t.setSize(i,s,!1),t.hasUserSize=null)};if(!t.hasUserSize&&i&&s&&(n===I||n===F)){if(i!==t.containerWidth||s!==t.containerHeight)clearTimeout(t.reflowTimeout),e?t.reflowTimeout=setTimeout(r,100):r();t.containerWidth=i;t.containerHeight=s}},initReflow:function(){var e=this,t=function(t){e.reflow(t)};Wt(I,"resize",t);Wt(e,"destroy",function(){Xt(I,"resize",t)})},setSize:function(e,t,n){var r=this,i,s,o;r.isResizing+=1;o=function(){r&&Vt(r,"endResize",null,function(){--r.isResizing})};A(n,r);r.oldChartHeight=r.chartHeight;r.oldChartWidth=r.chartWidth;l(e)&&(r.chartWidth=i=W(0,R(e)),r.hasUserSize=!!i);l(t)&&(r.chartHeight=s=W(0,R(t)));(ht?Jt:d)(r.container,{width:i+"px",height:s+"px"},ht);r.setChartSize(!0);r.renderer.setSize(i,s,n);r.maxTicks=null;qt(r.axes,function(e){e.isDirty=!0;e.setScale()});qt(r.series,function(e){e.isDirty=!0});r.isDirtyLegend=!0;r.isDirtyBox=!0;r.layOutTitles();r.getMargins();r.redraw(n);r.oldChartHeight=null;Vt(r,"resize");!1===ht?o():setTimeout(o,ht&&ht.duration||500)},setChartSize:function(e){var t=this.inverted,n=this.renderer,r=this.chartWidth,i=this.chartHeight,s=this.options.chart,o=this.spacing,u=this.clipOffset,a,f,l,c;this.plotLeft=a=R(this.plotLeft);this.plotTop=f=R(this.plotTop);this.plotWidth=l=W(0,R(r-a-this.marginRight));this.plotHeight=c=W(0,R(i-f-this.marginBottom));this.plotSizeX=t?c:l;this.plotSizeY=t?l:c;this.plotBorderWidth=s.plotBorderWidth||0;this.spacingBox=n.spacingBox={x:o[3],y:o[0],width:r-o[3]-o[1],height:i-o[0]-o[2]};this.plotBox=n.plotBox={x:a,y:f,width:l,height:c};r=2*U(this.plotBorderWidth/2);t=z(W(r,u[3])/2);n=z(W(r,u[0])/2);this.clipBox={x:t,y:n,width:U(this.plotSizeX-W(r,u[1])/2-t),height:W(0,U(this.plotSizeY-W(r,u[2])/2-n))};e||qt(this.axes,function(e){e.setAxisSize();e.setAxisTranslation()})},resetMargins:function(){var e=this.spacing,t=this.margin;this.plotTop=p(t[0],e[0]);this.marginRight=p(t[1],e[1]);this.marginBottom=p(t[2],e[2]);this.plotLeft=p(t[3],e[3]);this.axisOffset=[0,0,0,0];this.clipOffset=[0,0,0,0]},drawChartBox:function(){var e=this.options.chart,t=this.renderer,n=this.chartWidth,r=this.chartHeight,i=this.chartBackground,s=this.plotBackground,o=this.plotBorder,u=this.plotBGImage,a=e.borderWidth||0,f=e.backgroundColor,l=e.plotBackgroundColor,c=e.plotBackgroundImage,h=e.plotBorderWidth||0,p,d=this.plotLeft,v=this.plotTop,m=this.plotWidth,g=this.plotHeight,y=this.plotBox,b=this.clipRect,w=this.clipBox;p=a+(e.shadow?8:0);if(a||f)i?i.animate(i.crisp({width:n-p,height:r-p})):(i={fill:f||"none"},a&&(i.stroke=e.borderColor,i["stroke-width"]=a),this.chartBackground=t.rect(p/2,p/2,n-p,r-p,e.borderRadius,a).attr(i).addClass("highcharts-background").add().shadow(e.shadow));l&&(s?s.animate(y):this.plotBackground=t.rect(d,v,m,g,0).attr({fill:l}).add().shadow(e.plotShadow));c&&(u?u.animate(y):this.plotBGImage=t.image(c,d,v,m,g).add());b?b.animate({width:w.width,height:w.height}):this.clipRect=t.clipRect(w);h&&(o?o.animate(o.crisp({x:d,y:v,width:m,height:g,strokeWidth:-h})):this.plotBorder=t.rect(d,v,m,g,0,-h).attr({stroke:e.plotBorderColor,"stroke-width":h,fill:"none",zIndex:1}).add());this.isDirtyBox=!1},propFromSeries:function(){var e=this,t=e.options.chart,n,r=e.options.series,i,s;qt(["inverted","angular","polar"],function(o){n=Pt[t.type||t.defaultSeriesType];s=e[o]||t[o]||n&&n.prototype[o];for(i=r&&r.length;!s&&i--;)(n=Pt[r[i].type])&&n.prototype[o]&&(s=!0);e[o]=s})},linkSeries:function(){var e=this,t=e.series;qt(t,function(e){e.linkedSeries.length=0});qt(t,function(t){var n=t.options.linkedTo;r(n)&&(n=":previous"===n?e.series[t.index-1]:e.get(n))&&(n.linkedSeries.push(t),t.linkedParent=n)})},renderSeries:function(){qt(this.series,function(e){e.translate();e.setTooltipPoints&&e.setTooltipPoints();e.render()})},renderLabels:function(){var t=this,r=t.options.labels;r.items&&qt(r.items,function(i){var s=e(r.style,i.style),o=n(s.left)+t.plotLeft,u=n(s.top)+t.plotTop+12;delete s.left;delete s.top;t.renderer.text(i.html,o,u).attr({zIndex:2}).css(s).add()})},render:function(){var e=this.axes,t=this.renderer,n=this.options;this.setTitle();this.legend=new hn(this,n.legend);this.getStacks();qt(e,function(e){e.setScale()});this.getMargins();this.maxTicks=null;qt(e,function(e){e.setTickPositions(!0);e.setMaxTicks()});this.adjustTickAmounts();this.getMargins();this.drawChartBox();this.hasCartesianSeries&&qt(e,function(e){e.render()});this.seriesGroup||(this.seriesGroup=t.g("series-group").attr({zIndex:3}).add());this.renderSeries();this.renderLabels();this.showCredits(n.credits);this.hasRendered=!0},showCredits:function(e){e.enabled&&!this.credits&&(this.credits=this.renderer.text(e.text,0,0).on("click",function(){e.href&&(location.href=e.href)}).attr({align:e.position.align,zIndex:8}).css(e.style).add().align(e.position))},destroy:function(){var e=this,t=e.axes,n=e.series,r=e.container,i,s=r&&r.parentNode;Vt(e,"destroy");gt[e.index]=j;yt--;e.renderTo.removeAttribute("data-highcharts-chart");Xt(e);for(i=t.length;i--;)t[i]=t[i].destroy();for(i=n.length;i--;)n[i]=n[i].destroy();qt("title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer scroller rangeSelector legend resetZoomButton tooltip renderer".split(" "),function(t){var n=e[t];n&&n.destroy&&(e[t]=n.destroy())});r&&(r.innerHTML="",Xt(r),s&&k(r));for(i in e)delete e[i]},isReadyToRender:function(){var e=this;return!rt&&I==I.top&&"complete"!==F.readyState||st&&!I.canvg?(st?CanVGController.push(function(){e.firstRender()},e.options.global.canvasToolsURL):F.attachEvent("onreadystatechange",function(){F.detachEvent("onreadystatechange",e.firstRender);"complete"===F.readyState&&e.firstRender()}),!1):!0},firstRender:function(){var e=this,t=e.options,n=e.callback;e.isReadyToRender()&&(e.getContainer(),Vt(e,"init"),e.resetMargins(),e.setChartSize(),e.propFromSeries(),e.getAxes(),qt(t.series||[],function(t){e.initSeries(t)}),e.linkSeries(),Vt(e,"beforeRender"),Ht.Pointer&&(e.pointer=new un(e,t)),e.render(),e.renderer.draw(),n&&n.apply(e,[e]),qt(e.callbacks,function(t){t.apply(e,[e])}),e.cloneRenderTo(!0),Vt(e,"load"))},splashArray:function(e,t){var n=t[e],n=i(n)?n:[n,n,n,n];return[p(t[e+"Top"],n[0]),p(t[e+"Right"],n[1]),p(t[e+"Bottom"],n[2]),p(t[e+"Left"],n[3])]}};P.prototype.callbacks=[];var dn=Ht.CenteredSeriesMixin={getCenter:function(){var e=this.options,t=this.chart,r=2*(e.slicedOffset||0),i,s=t.plotWidth-2*r,o=t.plotHeight-2*r,t=e.center,e=[p(t[0],"50%"),p(t[1],"50%"),e.size||"100%",e.innerSize||0],u=X(s,o),a;return zt(e,function(e,t){a=/%$/.test(e);i=2>t||2===t&&a;return(a?[s,o,u,u][t]*n(e)/100:e)+(i?r:0)})}},vn=function(){};vn.prototype={init:function(e,t,n){this.series=e;this.applyOptions(t,n);this.pointAttr={};e.options.colorByPoint&&(t=e.options.colors||e.chart.options.colors,this.color=this.color||t[e.colorCounter++],e.colorCounter===t.length&&(e.colorCounter=0));e.chart.pointCount++;return this},applyOptions:function(t,n){var r=this.series,i=r.options.pointValKey||r.pointValKey;t=vn.prototype.optionsToObject.call(this,t);e(this,t);this.options=this.options?e(this.options,t):t;i&&(this.y=this[i]);this.x===j&&r&&(this.x=n===j?r.autoIncrement():n);return this},optionsToObject:function(e){var t={},n=this.series,r=n.pointArrayMap||["y"],i=r.length,o=0,u=0;if("number"===typeof e||null===e)t[r[0]]=e;else if(s(e))for(e.length>i&&(n=typeof e[0],"string"===n?t.name=e[0]:"number"===n&&(t.x=e[0]),o++);u<i;)t[r[u++]]=e[o++];else"object"===typeof e&&(t=e,e.dataLabels&&(n._hasPointLabels=!0),e.marker&&(n._hasPointMarkers=!0));return t},destroy:function(){var e=this.series.chart,t=e.hoverPoints,n;e.pointCount--;t&&(this.setState(),f(t,this),t.length||(e.hoverPoints=null));if(this===e.hoverPoint)this.onMouseOut();if(this.graphic||this.dataLabel)Xt(this),this.destroyElements();this.legendItem&&e.legend.destroyItem(this);for(n in this)this[n]=null},destroyElements:function(){for(var e="graphic dataLabel dataLabelUpper group connector shadowGroup".split(" "),t,n=6;n--;)t=e[n],this[t]&&(this[t]=this[t].destroy())},getLabelConfig:function(){return{x:this.category,y:this.y,key:this.name||this.category,series:this.series,point:this,percentage:this.percentage,total:this.total||this.stackTotal}},tooltipFormatter:function(e){var t=this.series,n=t.tooltipOptions,r=p(n.valueDecimals,""),i=n.valuePrefix||"",s=n.valueSuffix||"";qt(t.pointArrayMap||["y"],function(t){t="{point."+t;if(i||s)e=e.replace(t+"}",i+t+"}"+s);e=e.replace(t+"}",t+":,."+r+"f}")});return w(e,{point:this,series:this.series})},firePointEvent:function(e,t,n){var r=this,i=this.series.options;(i.point.events[e]||r.options&&r.options.events&&r.options.events[e])&&this.importEvents();"click"===e&&i.allowPointSelect&&(n=function(e){r.select(null,e.ctrlKey||e.metaKey||e.shiftKey)});Vt(this,e,t,n)}};var mn=function(){};mn.prototype={isCartesian:!0,type:"line",pointClass:vn,sorted:!0,requireSorting:!0,pointAttrToOptions:{stroke:"lineColor","stroke-width":"lineWidth",fill:"fillColor",r:"radius"},axisTypes:["xAxis","yAxis"],colorCounter:0,parallelArrays:["x","y"],init:function(t,n){var r=this,i,s,o=t.series,u=function(e,t){return p(e.options.index,e._i)-p(t.options.index,t._i)};r.chart=t;r.options=n=r.setOptions(n);r.linkedSeries=[];r.bindAxes();e(r,{name:n.name,state:"",pointAttr:{},visible:!1!==n.visible,selected:!0===n.selected});st&&(n.animation=!1);s=n.events;for(i in s)Wt(r,i,s[i]);if(s&&s.click||n.point&&n.point.events&&n.point.events.click||n.allowPointSelect)t.runTrackerClick=!0;r.getColor();r.getSymbol();qt(r.parallelArrays,function(e){r[e+"Data"]=[]});r.setData(n.data,!1);r.isCartesian&&(t.hasCartesianSeries=!0);o.push(r);r._i=o.length-1;x(o,u);this.yAxis&&x(this.yAxis.series,u);qt(o,function(e,t){e.index=t;e.name=e.name||"Series "+(t+1)})},bindAxes:function(){var e=this,t=e.options,n=e.chart,r;qt(e.axisTypes||[],function(i){qt(n[i],function(n){r=n.options;if(t[i]===r.index||t[i]!==j&&t[i]===r.id||t[i]===j&&0===r.index)n.series.push(e),e[i]=n,n.isDirty=!0});e[i]||e.optionalAxis===i||vt(18,!0)})},updateParallelArrays:function(e,t){var n=e.series,r=arguments;qt(n.parallelArrays,"number"===typeof t?function(r){var i="y"===r&&n.toYData?n.toYData(e):e[r];n[r+"Data"][t]=i}:function(e){Array.prototype[t].apply(n[e+"Data"],Array.prototype.slice.call(r,2))})},autoIncrement:function(){var e=this.options,t=this.xIncrement,t=p(t,e.pointStart,0);this.pointInterval=p(this.pointInterval,e.pointInterval,1);this.xIncrement=t+this.pointInterval;return t},getSegments:function(){var e=-1,t=[],n,r=this.points,i=r.length;if(i)if(this.options.connectNulls){for(n=i;n--;)null===r[n].y&&r.splice(n,1);r.length&&(t=[r])}else qt(r,function(n,s){null===n.y?(s>e+1&&t.push(r.slice(e+1,s)),e=s):s===i-1&&t.push(r.slice(e+1,s+1))});this.segments=t},setOptions:function(e){var n=this.chart,r=n.options.plotOptions,n=n.userOptions||{},i=n.plotOptions||{},s=r[this.type];this.userOptions=e;r=t(s,r.series,e);this.tooltipOptions=t(lt.tooltip,lt.plotOptions[this.type].tooltip,n.tooltip,i.series&&i.series.tooltip,i[this.type]&&i[this.type].tooltip,e.tooltip);null===s.marker&&delete r.marker;return r},getCyclic:function(e,t,n){var r=this.userOptions,i="_"+e+"Index",s=e+"Counter";t||(l(r[i])?t=r[i]:(r[i]=t=this.chart[s]%n.length,this.chart[s]+=1),t=n[t]);this[e]=t},getColor:function(){this.options.colorByPoint||this.getCyclic("color",this.options.color||Gt[this.type].color,this.chart.options.colors)},getSymbol:function(){var e=this.options.marker;this.getCyclic("symbol",e.symbol,this.chart.options.symbols);/^url/.test(this.symbol)&&(e.radius=0)},drawLegendSymbol:pn.drawLineMarker,setData:function(e,t,n,i){var u=this,a=u.points,f=a&&a.length||0,l,c=u.options,h=u.chart,d=null,v=u.xAxis,m=v&&!!v.categories,g=u.tooltipPoints,y=c.turboThreshold,b=this.xData,w=this.yData,E=(l=u.pointArrayMap)&&l.length;e=e||[];l=e.length;t=p(t,!0);if(!1===i||!l||f!==l||u.cropped||u.hasGroupedData){u.xIncrement=null;u.pointRange=m?1:c.pointRange;u.colorCounter=0;qt(this.parallelArrays,function(e){u[e+"Data"].length=0});if(y&&l>y){for(n=0;null===d&&n<l;)d=e[n],n++;if(o(d)){m=p(c.pointStart,0);c=p(c.pointInterval,1);for(n=0;n<l;n++)b[n]=m,w[n]=e[n],m+=c;u.xIncrement=m}else if(s(d))if(E)for(n=0;n<l;n++)c=e[n],b[n]=c[0],w[n]=c.slice(1,E+1);else for(n=0;n<l;n++)c=e[n],b[n]=c[0],w[n]=c[1];else vt(12)}else for(n=0;n<l;n++)e[n]!==j&&(c={series:u},u.pointClass.prototype.applyOptions.apply(c,[e[n]]),u.updateParallelArrays(c,n),m&&c.name&&(v.names[c.x]=c.name));r(w[0])&&vt(14,!0);u.data=[];u.options.data=e;for(n=f;n--;)a[n]&&a[n].destroy&&a[n].destroy();g&&(g.length=0);v&&(v.minRange=v.userMinRange);u.isDirty=u.isDirtyData=h.isDirtyBox=!0;n=!1}else qt(e,function(e,t){a[t].update(e,!1,null,!1)});t&&h.redraw(n)},processData:function(e){var t=this.xData,n=this.yData,r=t.length,i;i=0;var s,o,u=this.xAxis,a,f=this.options;a=f.cropThreshold;var l=0,c=this.isCartesian,h,p;if(c&&!this.isDirty&&!u.isDirty&&!this.yAxis.isDirty&&!e)return!1;u&&(h=u.getExtremes(),p=h.min,h=h.max);if(c&&this.sorted&&(!a||r>a||this.forceCrop))if(t[r-1]<p||t[0]>h)t=[],n=[];else if(t[0]<p||t[r-1]>h)i=this.cropData(this.xData,this.yData,p,h),t=i.xData,n=i.yData,i=i.start,s=!0,l=t.length;for(a=t.length-1;0<=a;a--)r=t[a]-t[a-1],!s&&t[a]>p&&t[a]<h&&l++,0<r&&(o===j||r<o)?o=r:0>r&&this.requireSorting&&vt(15);this.cropped=s;this.cropStart=i;this.processedXData=t;this.processedYData=n;this.activePointCount=l;null===f.pointRange&&(this.pointRange=o||1);this.closestPointRange=o},cropData:function(e,t,n,r){var i=e.length,s=0,o=i,u=p(this.cropShoulder,1),a;for(a=0;a<i;a++)if(e[a]>=n){s=W(0,a-u);break}for(;a<i;a++)if(e[a]>r){o=a+u;break}return{xData:e.slice(s,o),yData:t.slice(s,o),start:s,end:o}},generatePoints:function(){var e=this.options.data,t=this.data,n,r=this.processedXData,i=this.processedYData,s=this.pointClass,o=r.length,u=this.cropStart||0,a,f=this.hasGroupedData,l,c=[],p;t||f||(t=[],t.length=e.length,t=this.data=t);for(p=0;p<o;p++)a=u+p,f?c[p]=(new s).init(this,[r[p]].concat(h(i[p]))):(t[a]?l=t[a]:e[a]!==j&&(t[a]=l=(new s).init(this,e[a],r[p])),c[p]=l),c[p].index=a;if(t&&(o!==(n=t.length)||f))for(p=0;p<n;p++)p!==u||f||(p+=o),t[p]&&(t[p].destroyElements(),t[p].plotX=j);this.data=t;this.points=c},getExtremes:function(e){var t=this.yAxis,n=this.processedXData,r,i=[],s=0;r=this.xAxis.getExtremes();var o=r.min,u=r.max,a,f,l,c;e=e||this.stackedYData||this.processedYData;r=e.length;for(c=0;c<r;c++)if(f=n[c],l=e[c],a=null!==l&&l!==j&&(!t.isLog||l.length||0<l),f=this.getExtremesFromAll||this.cropped||(n[c+1]||f)>=o&&(n[c-1]||f)<=u,a&&f)if(a=l.length)for(;a--;)null!==l[a]&&(i[s++]=l[a]);else i[s++]=l;this.dataMin=p(void 0,T(i));this.dataMax=p(void 0,N(i))},translate:function(){this.processedXData||this.processData();this.generatePoints();for(var e=this.options,t=e.stacking,n=this.xAxis,r=n.categories,i=this.yAxis,s=this.points,u=s.length,a=!!this.modifyValue,f=e.pointPlacement,c="between"===f||o(f),h=e.threshold,e=0;e<u;e++){var d=s[e],v=d.x,m=d.y,g=d.low,y=t&&i.stacks[(this.negStacks&&m<h?"-":"")+this.stackKey];i.isLog&&0>=m&&(d.y=m=null,vt(10));d.plotX=n.translate(v,0,0,0,1,f,"flags"===this.type);t&&this.visible&&y&&y[v]&&(y=y[v],m=y.points[this.index+","+e],g=m[0],m=m[1],0===g&&(g=p(h,i.min)),i.isLog&&0>=g&&(g=null),d.total=d.stackTotal=y.total,d.percentage=y.total&&d.y/y.total*100,d.stackY=m,y.setOffset(this.pointXOffset||0,this.barW||0));d.yBottom=l(g)?i.translate(g,0,1,0,1):null;a&&(m=this.modifyValue(m,d));d.plotY="number"===typeof m&&Infinity!==m?i.translate(m,0,1,0,1):j;d.clientX=c?n.translate(v,0,0,0,1):d.plotX;d.negative=d.y<(h||0);d.category=r&&r[d.x]!==j?r[d.x]:d.x}this.getSegments()},animate:function(t){var n=this.chart,r=n.renderer,s;s=this.options.animation;var o=this.clipBox||n.clipBox,u=n.inverted,a;s&&!i(s)&&(s=Gt[this.type].animation);a=["_sharedClip",s.duration,s.easing,o.height].join();t?(t=n[a],s=n[a+"m"],t||(n[a]=t=r.clipRect(e(o,{width:0})),n[a+"m"]=s=r.clipRect(-99,u?-n.plotLeft:-n.plotTop,99,u?n.chartWidth:n.chartHeight)),this.group.clip(t),this.markerGroup.clip(s),this.sharedClipKey=a):((t=n[a])&&t.animate({width:n.plotSizeX},s),n[a+"m"]&&n[a+"m"].animate({width:n.plotSizeX+99},s),this.animate=null)},afterAnimate:function(){var e=this.chart,t=this.sharedClipKey,n=this.group,r=this.clipBox;n&&!1!==this.options.clip&&(t&&r||n.clip(r?e.renderer.clipRect(r):e.clipRect),this.markerGroup.clip());Vt(this,"afterAnimate");setTimeout(function(){t&&e[t]&&(r||(e[t]=e[t].destroy()),e[t+"m"]&&(e[t+"m"]=e[t+"m"].destroy()))},100)},drawPoints:function(){var t,n=this.points,r=this.chart,i,s,o,u,a,f,l,c,h=this.options.marker,d=this.pointAttr[""],v,m,g,y=this.markerGroup,b=p(h.enabled,!this.requireSorting||this.activePointCount<.5*this.xAxis.len/h.radius);if(!1!==h.enabled||this._hasPointMarkers)for(o=n.length;o--;)u=n[o],i=U(u.plotX),s=u.plotY,c=u.graphic,v=u.marker||{},m=!!u.marker,t=b&&v.enabled===j||v.enabled,g=r.isInsidePlot(R(i),s,r.inverted),t&&s!==j&&!isNaN(s)&&null!==u.y?(t=u.pointAttr[u.selected?"select":""]||d,a=t.r,f=p(v.symbol,this.symbol),l=0===f.indexOf("url"),c?c[g?"show":"hide"](!0).animate(e({x:i-a,y:s-a},c.symbolName?{width:2*a,height:2*a}:{})):g&&(0<a||l)&&(u.graphic=r.renderer.symbol(f,i-a,s-a,2*a,2*a,m?v:h).attr(t).add(y))):c&&(u.graphic=c.destroy())},convertAttribs:function(e,t,n,r){var i=this.pointAttrToOptions,s,o,u={};e=e||{};t=t||{};n=n||{};r=r||{};for(s in i)o=i[s],u[s]=p(e[o],t[s],n[s],r[s]);return u},getAttribs:function(){var t=this,n=t.options,r=Gt[t.type].marker?n.marker:n,i=r.states,s=i.hover,o,u=t.color;o={stroke:u,fill:u};var a=t.points||[],f,c=[],h,p=t.pointAttrToOptions;h=t.hasPointSpecificOptions;var d=n.negativeColor,v=r.lineColor,m=r.fillColor;f=n.turboThreshold;var g;n.marker?(s.radius=s.radius||r.radius+s.radiusPlus,s.lineWidth=s.lineWidth||r.lineWidth+s.lineWidthPlus):s.color=s.color||nn(s.color||u).brighten(s.brightness).get();c[""]=t.convertAttribs(r,o);qt(["hover","select"],function(e){c[e]=t.convertAttribs(i[e],c[""])});t.pointAttr=c;u=a.length;if(!f||u<f||h)for(;u--;){f=a[u];(r=f.options&&f.options.marker||f.options)&&!1===r.enabled&&(r.radius=0);f.negative&&d&&(f.color=f.fillColor=d);h=n.colorByPoint||f.color;if(f.options)for(g in p)l(r[p[g]])&&(h=!0);h?(r=r||{},h=[],i=r.states||{},o=i.hover=i.hover||{},n.marker||(o.color=o.color||!f.options.color&&s.color||nn(f.color).brighten(o.brightness||s.brightness).get()),o={color:f.color},m||(o.fillColor=f.color),v||(o.lineColor=f.color),h[""]=t.convertAttribs(e(o,r),c[""]),h.hover=t.convertAttribs(i.hover,c.hover,h[""]),h.select=t.convertAttribs(i.select,c.select,h[""])):h=c;f.pointAttr=h}},destroy:function(){var e=this,t=e.chart,n=/AppleWebKit\/533/.test(G),r,i,s=e.data||[],o,u,a;Vt(e,"destroy");Xt(e);qt(e.axisTypes||[],function(t){if(a=e[t])f(a.series,e),a.isDirty=a.forceRedraw=!0});e.legendItem&&e.chart.legend.destroyItem(e);for(i=s.length;i--;)(o=s[i])&&o.destroy&&o.destroy();e.points=null;clearTimeout(e.animationTimeout);qt("area graph dataLabelsGroup group markerGroup tracker graphNeg areaNeg posClip negClip".split(" "),function(t){e[t]&&(r=n&&"group"===t?"hide":"destroy",e[t][r]())});t.hoverSeries===e&&(t.hoverSeries=null);f(t.series,e);for(u in e)delete e[u]},getSegmentPath:function(e){var t=this,n=[],r=t.options.step;qt(e,function(i,s){var o=i.plotX,u=i.plotY,a;t.getPointSpline?n.push.apply(n,t.getPointSpline(e,i,s)):(n.push(s?"L":"M"),r&&s&&(a=e[s-1],"right"===r?n.push(a.plotX,u):"center"===r?n.push((a.plotX+o)/2,a.plotY,(a.plotX+o)/2,u):n.push(o,a.plotY)),n.push(i.plotX,i.plotY))});return n},getGraphPath:function(){var e=this,t=[],n,r=[];qt(e.segments,function(i){n=e.getSegmentPath(i);1<i.length?t=t.concat(n):r.push(i[0])});e.singlePoints=r;return e.graphPath=t},drawGraph:function(){var e=this,t=this.options,n=[["graph",t.lineColor||this.color]],r=t.lineWidth,i=t.dashStyle,s="square"!==t.linecap,o=this.getGraphPath(),u=t.negativeColor;u&&n.push(["graphNeg",u]);qt(n,function(n,u){var a=n[0],f=e[a];f?(Kt(f),f.animate({d:o})):r&&o.length&&(f={stroke:n[1],"stroke-width":r,fill:"none",zIndex:1},i?f.dashstyle=i:s&&(f["stroke-linecap"]=f["stroke-linejoin"]="round"),e[a]=e.chart.renderer.path(o).attr(f).add(e.group).shadow(!u&&t.shadow))})},clipNeg:function(){var e=this.options,t=this.chart,n=t.renderer,r=e.negativeColor||e.negativeFillColor,i,s=this.graph,o=this.area,u=this.posClip,a=this.negClip;i=t.chartWidth;var f=t.chartHeight,l=W(i,f),c=this.yAxis;r&&(s||o)&&(r=R(c.toPixels(e.threshold||0,!0)),0>r&&(l-=r),e={x:0,y:0,width:l,height:r},l={x:0,y:r,width:l,height:l},t.inverted&&(e.height=l.y=t.plotWidth-r,n.isVML&&(e={x:t.plotWidth-r-t.plotLeft,y:0,width:i,height:f},l={x:r+t.plotLeft-i,y:0,width:t.plotLeft+r,height:i})),c.reversed?(t=l,i=e):(t=e,i=l),u?(u.animate(t),a.animate(i)):(this.posClip=u=n.clipRect(t),this.negClip=a=n.clipRect(i),s&&this.graphNeg&&(s.clip(u),this.graphNeg.clip(a)),o&&(o.clip(u),this.areaNeg.clip(a))))},invertGroups:function(){function e(){var e={width:t.yAxis.len,height:t.xAxis.len};qt(["group","markerGroup"],function(n){t[n]&&t[n].attr(e).invert()})}var t=this,n=t.chart;t.xAxis&&(Wt(n,"resize",e),Wt(t,"destroy",function(){Xt(n,"resize",e)}),e(),t.invertGroups=e)},plotGroup:function(e,t,n,r,i){var s=this[e],o=!s;o&&(this[e]=s=this.chart.renderer.g(t).attr({visibility:n,zIndex:r||.1}).add(i));s[o?"attr":"animate"](this.getPlotBox());return s},getPlotBox:function(){var e=this.chart,t=this.xAxis,n=this.yAxis;e.inverted&&(t=n,n=this.xAxis);return{translateX:t?t.left:e.plotLeft,translateY:n?n.top:e.plotTop,scaleX:1,scaleY:1}},render:function(){var e=this,t=e.chart,n,r=e.options,i=(n=r.animation)&&!!e.animate&&t.renderer.isSVG&&p(n.duration,500)||0,s=e.visible?"visible":"hidden",o=r.zIndex,u=e.hasRendered,a=t.seriesGroup;n=e.plotGroup("group","series",s,o,a);e.markerGroup=e.plotGroup("markerGroup","markers",s,o,a);i&&e.animate(!0);e.getAttribs();n.inverted=e.isCartesian?t.inverted:!1;e.drawGraph&&(e.drawGraph(),e.clipNeg());qt(e.points,function(e){e.redraw&&e.redraw()});e.drawDataLabels&&e.drawDataLabels();e.visible&&e.drawPoints();e.drawTracker&&!1!==e.options.enableMouseTracking&&e.drawTracker();t.inverted&&e.invertGroups();!1===r.clip||e.sharedClipKey||u||n.clip(t.clipRect);i&&e.animate();u||(i?e.animationTimeout=setTimeout(function(){e.afterAnimate()},i):e.afterAnimate());e.isDirty=e.isDirtyData=!1;e.hasRendered=!0},redraw:function(){var e=this.chart,t=this.isDirtyData,n=this.group,r=this.xAxis,i=this.yAxis;n&&(e.inverted&&n.attr({width:e.plotWidth,height:e.plotHeight}),n.animate({translateX:p(r&&r.left,e.plotLeft),translateY:p(i&&i.top,e.plotTop)}));this.translate();this.setTooltipPoints&&this.setTooltipPoints(!0);this.render();t&&Vt(this,"updatedData")}};H.prototype={destroy:function(){C(this,this.axis)},render:function(e){var t=this.options,n=t.format,n=n?w(n,this):t.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):this.label=this.axis.chart.renderer.text(n,null,null,t.useHTML).css(t.style).attr({align:this.textAlign,rotation:t.rotation,visibility:"hidden"}).add(e)},setOffset:function(e,t){var n=this.axis,r=n.chart,i=r.inverted,s=this.isNegative,o=n.translate(n.usePercentage?100:this.total,0,0,0,1),n=n.translate(0),n=V(o-n),u=r.xAxis[0].translate(this.x)+e,a=r.plotHeight,s={x:i?s?o:o-n:u,y:i?a-u-t:s?a-o-n:a-o,width:i?n:t,height:i?t:n};if(i=this.label)i.align(this.alignOptions,null,s),s=i.alignAttr,i[!1===this.options.crop||r.isInsidePlot(s.x,s.y)?"show":"hide"](!0)}};D.prototype.buildStacks=function(){var e=this.series,t=p(this.options.reversedStacks,!0),n=e.length;if(!this.isXAxis){for(this.usePercentage=!1;n--;)e[t?n:e.length-n-1].setStackedPoints();if(this.usePercentage)for(n=0;n<e.length;n++)e[n].setPercentStacks()}};D.prototype.renderStackTotals=function(){var e=this.chart,t=e.renderer,n=this.stacks,r,i,s=this.stackTotalGroup;s||(this.stackTotalGroup=s=t.g("stack-labels").attr({visibility:"visible",zIndex:6}).add());s.translate(e.plotLeft,e.plotTop);for(r in n)for(i in e=n[r],e)e[i].render(s)};mn.prototype.setStackedPoints=function(){if(this.options.stacking&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var e=this.processedXData,t=this.processedYData,n=[],r=t.length,i=this.options,s=i.threshold,o=i.stack,i=i.stacking,u=this.stackKey,a="-"+u,f=this.negStacks,l=this.yAxis,c=l.stacks,h=l.oldStacks,p,d,v,m,g,y;for(m=0;m<r;m++)g=e[m],y=t[m],v=this.index+","+m,d=(p=f&&y<s)?a:u,c[d]||(c[d]={}),c[d][g]||(h[d]&&h[d][g]?(c[d][g]=h[d][g],c[d][g].total=null):c[d][g]=new H(l,l.options.stackLabels,p,g,o)),d=c[d][g],d.points[v]=[d.cum||0],"percent"===i?(p=p?u:a,f&&c[p]&&c[p][g]?(p=c[p][g],d.total=p.total=W(p.total,d.total)+V(y)||0):d.total=L(d.total+(V(y)||0))):d.total=L(d.total+(y||0)),d.cum=(d.cum||0)+(y||0),d.points[v].push(d.cum),n[m]=d.cum;"percent"===i&&(l.usePercentage=!0);this.stackedYData=n;l.oldStacks={}}};mn.prototype.setPercentStacks=function(){var e=this,t=e.stackKey,n=e.yAxis.stacks,r=e.processedXData;qt([t,"-"+t],function(t){for(var i=r.length,s,o;i--;)if(s=r[i],s=(o=n[t]&&n[t][s])&&o.points[e.index+","+i])o=o.total?100/o.total:0,s[0]=L(s[0]*o),s[1]=L(s[1]*o),e.stackedYData[i]=s[1]})};e(P.prototype,{addSeries:function(e,t,n){var r,i=this;e&&(t=p(t,!0),Vt(i,"addSeries",{options:e},function(){r=i.initSeries(e);i.isDirtyLegend=!0;i.linkSeries();t&&i.redraw(n)}));return r},addAxis:function(e,n,r,i){var s=n?"xAxis":"yAxis",o=this.options;new D(this,t(e,{index:this[s].length,isX:n}));o[s]=h(o[s]||{});o[s].push(e);p(r,!0)&&this.redraw(i)},showLoading:function(t){var n=this,r=n.options,i=n.loadingDiv,s=r.loading,o=function(){i&&d(i,{left:n.plotLeft+"px",top:n.plotTop+"px",width:n.plotWidth+"px",height:n.plotHeight+"px"})};i||(n.loadingDiv=i=v("div",{className:"highcharts-loading"},e(s.style,{zIndex:10,display:"none"}),n.container),n.loadingSpan=v("span",null,s.labelStyle,i),Wt(n,"redraw",o));n.loadingSpan.innerHTML=t||r.lang.loading;n.loadingShown||(d(i,{opacity:0,display:""}),Jt(i,{opacity:s.style.opacity},{duration:s.showDuration||0}),n.loadingShown=!0);o()},hideLoading:function(){var e=this.options,t=this.loadingDiv;t&&Jt(t,{opacity:0},{duration:e.loading.hideDuration||100,complete:function(){d(t,{display:"none"})}});this.loadingShown=!1}});e(vn.prototype,{update:function(e,t,n,r){function o(){u.applyOptions(e);i(e)&&!s(e)&&(u.redraw=function(){f&&(e&&e.marker&&e.marker.symbol?u.graphic=f.destroy():f.attr(u.pointAttr[u.state||""]));e&&e.dataLabels&&u.dataLabel&&(u.dataLabel=u.dataLabel.destroy());u.redraw=null});l=u.index;a.updateParallelArrays(u,l);h.data[l]=u.options;a.isDirty=a.isDirtyData=!0;!a.fixedBox&&a.hasCartesianSeries&&(c.isDirtyBox=!0);"point"===h.legendType&&c.legend.destroyItem(u);t&&c.redraw(n)}var u=this,a=u.series,f=u.graphic,l,c=a.chart,h=a.options;t=p(t,!0);!1===r?o():u.firePointEvent("update",{options:e},o)},remove:function(e,t){var n=this,r=n.series,i=r.points,s=r.chart,o,u=r.data;A(t,s);e=p(e,!0);n.firePointEvent("remove",null,function(){o=It(n,u);u.length===i.length&&i.splice(o,1);u.splice(o,1);r.options.data.splice(o,1);r.updateParallelArrays(n,"splice",o,1);n.destroy();r.isDirty=!0;r.isDirtyData=!0;e&&s.redraw()})}});e(mn.prototype,{addPoint:function(e,t,n,r){var i=this.options,s=this.data,o=this.graph,u=this.area,a=this.chart,f=this.xAxis&&this.xAxis.names,l=o&&o.shift||0,c=i.data,h,d=this.xData;A(r,a);n&&qt([o,u,this.graphNeg,this.areaNeg],function(e){e&&(e.shift=l+1)});u&&(u.isArea=!0);t=p(t,!0);r={series:this};this.pointClass.prototype.applyOptions.apply(r,[e]);o=r.x;u=d.length;if(this.requireSorting&&o<d[u-1])for(h=!0;u&&d[u-1]>o;)u--;this.updateParallelArrays(r,"splice",u,0,0);this.updateParallelArrays(r,u);f&&r.name&&(f[o]=r.name);c.splice(u,0,e);h&&(this.data.splice(u,0,null),this.processData());"point"===i.legendType&&this.generatePoints();n&&(s[0]&&s[0].remove?s[0].remove(!1):(s.shift(),this.updateParallelArrays(r,"shift"),c.shift()));this.isDirtyData=this.isDirty=!0;t&&(this.getAttribs(),a.redraw())},remove:function(e,t){var n=this,r=n.chart;e=p(e,!0);n.isRemoving||(n.isRemoving=!0,Vt(n,"remove",null,function(){n.destroy();r.isDirtyLegend=r.isDirtyBox=!0;r.linkSeries();e&&r.redraw(t)}));n.isRemoving=!1},update:function(n,r){var i=this,s=this.chart,o=this.userOptions,u=this.type,a=Pt[u].prototype,f=["group","markerGroup","dataLabelsGroup"],l;qt(f,function(e){f[e]=i[e];delete i[e]});n=t(o,{animation:!1,index:this.index,pointStart:this.xData[0]},{data:this.options.data},n);this.remove(!1);for(l in a)a.hasOwnProperty(l)&&(this[l]=j);e(this,Pt[n.type||u].prototype);qt(f,function(e){i[e]=f[e]});this.init(s,n);s.linkSeries();p(r,!0)&&s.redraw(!1)}});e(D.prototype,{update:function(n,r){var i=this.chart;n=i.options[this.coll][this.options.index]=t(this.userOptions,n);this.destroy(!0);this._addedPlotLB=j;this.init(i,e(n,{events:j}));i.isDirtyBox=!0;p(r,!0)&&i.redraw()},remove:function(e){for(var t=this.chart,n=this.coll,r=this.series,i=r.length;i--;)r[i]&&r[i].remove(!1);f(t.axes,this);f(t[n],this);t.options[n].splice(this.options.index,1);qt(t[n],function(e,t){e.options.index=t});this.destroy();t.isDirtyBox=!0;p(e,!0)&&t.redraw()},setTitle:function(e,t){this.update({title:e},t)},setCategories:function(e,t){this.update({categories:e},t)}});var gn=m(mn);Pt.line=gn;Gt.area=t(Yt,{threshold:0});var yn=m(mn,{type:"area",getSegments:function(){var e=this,t=[],n=[],r=[],i=this.xAxis,s=this.yAxis,o=s.stacks[this.stackKey],u={},a,f,l=this.points,c=this.options.connectNulls,h,p;if(this.options.stacking&&!this.cropped){for(h=0;h<l.length;h++)u[l[h].x]=l[h];for(p in o)null!==o[p].total&&r.push(+p);r.sort(function(e,t){return e-t});qt(r,function(t){var r=0,l;if(!c||u[t]&&null!==u[t].y)if(u[t])n.push(u[t]);else{for(h=e.index;h<=s.series.length;h++)if(l=o[t].points[h+","+t]){r=l[1];break}a=i.translate(t);f=s.toPixels(r,!0);n.push({y:null,plotX:a,clientX:a,plotY:f,yBottom:f,onMouseOver:mt})}});n.length&&t.push(n)}else mn.prototype.getSegments.call(this),t=this.segments;this.segments=t},getSegmentPath:function(e){var t=mn.prototype.getSegmentPath.call(this,e),n=[].concat(t),r,i=this.options;r=t.length;var s=this.yAxis.getThreshold(i.threshold),o;3===r&&n.push("L",t[1],t[2]);if(i.stacking&&!this.closedStacks)for(r=e.length-1;0<=r;r--)o=p(e[r].yBottom,s),r<e.length-1&&i.step&&n.push(e[r+1].plotX,o),n.push(e[r].plotX,o);else this.closeSegment(n,e,s);this.areaPath=this.areaPath.concat(n);return t},closeSegment:function(e,t,n){e.push("L",t[t.length-1].plotX,n,"L",t[0].plotX,n)},drawGraph:function(){this.areaPath=[];mn.prototype.drawGraph.apply(this);var e=this,t=this.areaPath,n=this.options,r=n.negativeColor,i=n.negativeFillColor,s=[["area",this.color,n.fillColor]];(r||i)&&s.push(["areaNeg",r,i]);qt(s,function(r){var i=r[0],s=e[i];s?s.animate({d:t}):e[i]=e.chart.renderer.path(t).attr({fill:p(r[2],nn(r[1]).setOpacity(p(n.fillOpacity,.75)).get()),zIndex:0}).add(e.group)})},drawLegendSymbol:pn.drawRectangle});Pt.area=yn;Gt.spline=t(Yt);var bn=m(mn,{type:"spline",getPointSpline:function(e,t,n){var r=t.plotX,i=t.plotY,s=e[n-1],o=e[n+1],u,a,f,l;if(s&&o){e=s.plotY;f=o.plotX;var o=o.plotY,c;u=(1.5*r+s.plotX)/2.5;a=(1.5*i+e)/2.5;f=(1.5*r+f)/2.5;l=(1.5*i+o)/2.5;c=(l-a)*(f-r)/(f-u)+i-l;a+=c;l+=c;a>e&&a>i?(a=W(e,i),l=2*i-a):a<e&&a<i&&(a=X(e,i),l=2*i-a);l>o&&l>i?(l=W(o,i),a=2*i-l):l<o&&l<i&&(l=X(o,i),a=2*i-l);t.rightContX=f;t.rightContY=l}n?(t=["C",s.rightContX||s.plotX,s.rightContY||s.plotY,u||r,a||i,r,i],s.rightContX=s.rightContY=null):t=["M",r,i];return t}});Pt.spline=bn;Gt.areaspline=t(Gt.area);var wn=yn.prototype,En=m(bn,{type:"areaspline",closedStacks:!0,getSegmentPath:wn.getSegmentPath,closeSegment:wn.closeSegment,drawGraph:wn.drawGraph,drawLegendSymbol:pn.drawRectangle});Pt.areaspline=En;Gt.column=t(Yt,{borderColor:"#FFFFFF",borderRadius:0,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{brightness:.1,shadow:!1,halo:!1},select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}},dataLabels:{align:null,verticalAlign:null,y:null},stickyTracking:!1,tooltip:{distance:6},threshold:0});var Sn=m(mn,{type:"column",pointAttrToOptions:{stroke:"borderColor",fill:"color",r:"borderRadius"},cropShoulder:0,trackerGroups:["group","dataLabelsGroup"],negStacks:!0,init:function(){mn.prototype.init.apply(this,arguments);var e=this,t=e.chart;t.hasRendered&&qt(t.series,function(t){t.type===e.type&&(t.isDirty=!0)})},getColumnMetrics:function(){var e=this,t=e.options,n=e.xAxis,r=e.yAxis,i=n.reversed,s,o={},u,a=0;!1===t.grouping?a=1:qt(e.chart.series,function(t){var n=t.options,i=t.yAxis;t.type===e.type&&t.visible&&r.len===i.len&&r.pos===i.pos&&(n.stacking?(s=t.stackKey,o[s]===j&&(o[s]=a++),u=o[s]):!1!==n.grouping&&(u=a++),t.columnIndex=u)});var n=X(V(n.transA)*(n.ordinalSlope||t.pointRange||n.closestPointRange||n.tickInterval||1),n.len),f=n*t.groupPadding,c=(n-2*f)/a,h=t.pointWidth,t=l(h)?(c-h)/2:c*t.pointPadding,h=p(h,c-2*t);return e.columnMetrics={width:h,offset:t+(f+((i?a-(e.columnIndex||0):e.columnIndex)||0)*c-n/2)*(i?-1:1)}},translate:function(){var e=this,t=e.chart,n=e.options,r=e.borderWidth=p(n.borderWidth,e.activePointCount>.5*e.xAxis.len?0:1),i=e.yAxis,s=e.translatedThreshold=i.getThreshold(n.threshold),o=p(n.minPointLength,5),u=e.getColumnMetrics(),a=u.width,f=e.barW=W(a,1+2*r),l=e.pointXOffset=u.offset,c=-(r%2?.5:0),h=r%2?.5:1;t.renderer.isVML&&t.inverted&&(h+=1);n.pointPadding&&(f=z(f));mn.prototype.translate.apply(e);qt(e.points,function(n){var r=p(n.yBottom,s),u=X(W(-999-r,n.plotY),i.len+999+r),d=n.plotX+l,v=f,m=X(u,r),g;g=W(u,r)-m;V(g)<o&&o&&(g=o,m=R(V(m-s)>o?r-o:s-(i.translate(n.y,0,1,0,1)<=s?o:0)));n.barX=d;n.pointWidth=a;n.tooltipPos=t.inverted?[i.len-u,e.xAxis.len-d-v/2]:[d+v/2,u+i.pos-t.plotTop];v=R(d+v)+c;d=R(d)+c;v-=d;r=.5>V(m);g=R(m+g)+h;m=R(m)+h;g-=m;r&&(--m,g+=1);n.shapeType="rect";n.shapeArgs={x:d,y:m,width:v,height:g}})},getSymbol:mt,drawLegendSymbol:pn.drawRectangle,drawGraph:mt,drawPoints:function(){var e=this,n=this.chart,r=e.options,i=n.renderer,s=r.animationLimit||250,o,u;qt(e.points,function(a){var f=a.plotY,c=a.graphic;f===j||isNaN(f)||null===a.y?c&&(a.graphic=c.destroy()):(o=a.shapeArgs,f=l(e.borderWidth)?{"stroke-width":e.borderWidth}:{},u=a.pointAttr[a.selected?"select":""]||e.pointAttr[""],c?(Kt(c),c.attr(f)[n.pointCount<s?"animate":"attr"](t(o))):a.graphic=i[a.shapeType](o).attr(u).attr(f).add(e.group).shadow(r.shadow,null,r.stacking&&!r.borderRadius))})},animate:function(e){var t=this.yAxis,n=this.options,r=this.chart.inverted,i={};rt&&(e?(i.scaleY=.001,e=X(t.pos+t.len,W(t.pos,t.toPixels(n.threshold))),r?i.translateX=e-t.len:i.translateY=e,this.group.attr(i)):(i.scaleY=1,i[r?"translateX":"translateY"]=t.pos,this.group.animate(i,this.options.animation),this.animate=null))},remove:function(){var e=this,t=e.chart;t.hasRendered&&qt(t.series,function(t){t.type===e.type&&(t.isDirty=!0)});mn.prototype.remove.apply(e,arguments)}});Pt.column=Sn;Gt.bar=t(Gt.column);var xn=m(Sn,{type:"bar",inverted:!0});Pt.bar=xn;Gt.scatter=t(Yt,{lineWidth:0,tooltip:{headerFormat:'<span style="color:{series.color}">●</span> <span style="font-size: 10px;"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"},stickyTracking:!1});var Tn=m(mn,{type:"scatter",sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1,singularTooltips:!0,drawGraph:function(){this.options.lineWidth&&mn.prototype.drawGraph.call(this)}});Pt.scatter=Tn;Gt.pie=t(Yt,{borderColor:"#FFFFFF",borderWidth:1,center:[null,null],clip:!1,colorByPoint:!0,dataLabels:{distance:30,enabled:!0,formatter:function(){return this.point.name}},ignoreHiddenPoint:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,states:{hover:{brightness:.1,shadow:!1}},stickyTracking:!1,tooltip:{followPointer:!0}});var Nn={type:"pie",isCartesian:!1,pointClass:m(vn,{init:function(){vn.prototype.init.apply(this,arguments);var t=this,n;0>t.y&&(t.y=null);e(t,{visible:!1!==t.visible,name:p(t.name,"Slice")});n=function(e){t.slice("select"===e.type)};Wt(t,"select",n);Wt(t,"unselect",n);return t},setVisible:function(e){var t=this,n=t.series,r=n.chart;t.visible=t.options.visible=e=e===j?!t.visible:e;n.options.data[It(t,n.data)]=t.options;qt(["graphic","dataLabel","connector","shadowGroup"],function(n){if(t[n])t[n][e?"show":"hide"](!0)});t.legendItem&&r.legend.colorizeItem(t,e);!n.isDirty&&n.options.ignoreHiddenPoint&&(n.isDirty=!0,r.redraw())},slice:function(e,t,n){var r=this.series;A(n,r.chart);p(t,!0);this.sliced=this.options.sliced=e=l(e)?e:!this.sliced;r.options.data[It(this,r.data)]=this.options;e=e?this.slicedTranslation:{translateX:0,translateY:0};this.graphic.animate(e);this.shadowGroup&&this.shadowGroup.animate(e)},haloPath:function(e){var t=this.shapeArgs,n=this.series.chart;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(n.plotLeft+t.x,n.plotTop+t.y,t.r+e,t.r+e,{innerR:this.shapeArgs.r,start:t.start,end:t.end})}}),requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","dataLabelsGroup"],axisTypes:[],pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color"},singularTooltips:!0,getColor:mt,animate:function(e){var t=this,n=t.points,r=t.startAngleRad;e||(qt(n,function(e){var n=e.graphic;e=e.shapeArgs;n&&(n.attr({r:t.center[3]/2,start:r,end:r}),n.animate({r:e.r,start:e.start,end:e.end},t.options.animation))}),t.animate=null)},setData:function(e,t,n,r){mn.prototype.setData.call(this,e,!1,n,r);this.processData();this.generatePoints();p(t,!0)&&this.chart.redraw(n)},generatePoints:function(){var e,t=0,n,r,i,s=this.options.ignoreHiddenPoint;mn.prototype.generatePoints.call(this);n=this.points;r=n.length;for(e=0;e<r;e++)i=n[e],t+=s&&!i.visible?0:i.y;this.total=t;for(e=0;e<r;e++)i=n[e],i.percentage=0<t?i.y/t*100:0,i.total=t},translate:function(e){this.generatePoints();var t=0,n=this.options,r=n.slicedOffset,i=r+n.borderWidth,s,o,u,a=n.startAngle||0,f=this.startAngleRad=K/180*(a-90),a=(this.endAngleRad=K/180*(p(n.endAngle,a+360)-90))-f,l=this.points,c=n.dataLabels.distance,n=n.ignoreHiddenPoint,h,d=l.length,v;e||(this.center=e=this.getCenter());this.getX=function(t,n){u=q.asin(X((t-e[1])/(e[2]/2+c),1));return e[0]+(n?-1:1)*$(u)*(e[2]/2+c)};for(h=0;h<d;h++){v=l[h];s=f+t*a;if(!n||v.visible)t+=v.percentage/100;o=f+t*a;v.shapeType="arc";v.shapeArgs={x:e[0],y:e[1],r:e[2]/2,innerR:e[3]/2,start:R(1e3*s)/1e3,end:R(1e3*o)/1e3};u=(o+s)/2;u>1.5*K?u-=2*K:u<-K/2&&(u+=2*K);v.slicedTranslation={translateX:R($(u)*r),translateY:R(J(u)*r)};s=$(u)*e[2]/2;o=J(u)*e[2]/2;v.tooltipPos=[e[0]+.7*s,e[1]+.7*o];v.half=u<-K/2||u>K/2?1:0;v.angle=u;i=X(i,c/2);v.labelPos=[e[0]+s+$(u)*c,e[1]+o+J(u)*c,e[0]+s+$(u)*i,e[1]+o+J(u)*i,e[0]+s,e[1]+o,0>c?"center":v.half?"right":"left",u]}},drawGraph:null,drawPoints:function(){var t=this,n=t.chart.renderer,r,i,s=t.options.shadow,o,u;s&&!t.shadowGroup&&(t.shadowGroup=n.g("shadow").add(t.group));qt(t.points,function(a){i=a.graphic;u=a.shapeArgs;o=a.shadowGroup;s&&!o&&(o=a.shadowGroup=n.g("shadow").add(t.shadowGroup));r=a.sliced?a.slicedTranslation:{translateX:0,translateY:0};o&&o.attr(r);i?i.animate(e(u,r)):a.graphic=i=n[a.shapeType](u).setRadialReference(t.center).attr(a.pointAttr[a.selected?"select":""]).attr({"stroke-linejoin":"round"}).attr(r).add(t.group).shadow(s,o);void 0!==a.visible&&a.setVisible(a.visible)})},sortByAngle:function(e,t){e.sort(function(e,n){return void 0!==e.angle&&(n.angle-e.angle)*t})},drawLegendSymbol:pn.drawRectangle,getCenter:dn.getCenter,getSymbol:mt},Nn=m(mn,Nn);Pt.pie=Nn;mn.prototype.drawDataLabels=function(){var n=this,r=n.options,i=r.cursor,s=r.dataLabels,o=n.points,u,a,f=n.hasRendered||0,c,h;if(s.enabled||n._hasPointLabels)n.dlProcessOptions&&n.dlProcessOptions(s),h=n.plotGroup("dataLabelsGroup","data-labels",s.defer?"hidden":"visible",s.zIndex||6),p(s.defer,!0)&&(h.attr({opacity:+f}),f||Wt(n,"afterAnimate",function(){n.visible&&h.show();h[r.animation?"animate":"attr"]({opacity:1},{duration:200})})),a=s,qt(o,function(r){var o,f=r.dataLabel,d,v,m=r.connector,g=!0;u=r.options&&r.options.dataLabels;o=p(u&&u.enabled,a.enabled);if(f&&!o)r.dataLabel=f.destroy();else if(o){s=t(a,u);o=s.rotation;d=r.getLabelConfig();c=s.format?w(s.format,d):s.formatter.call(d,s);s.style.color=p(s.color,s.style.color,n.color,"black");if(f)l(c)?(f.attr({text:c}),g=!1):(r.dataLabel=f=f.destroy(),m&&(r.connector=m.destroy()));else if(l(c)){f={fill:s.backgroundColor,stroke:s.borderColor,"stroke-width":s.borderWidth,r:s.borderRadius||0,rotation:o,padding:s.padding,zIndex:1};for(v in f)f[v]===j&&delete f[v];f=r.dataLabel=n.chart.renderer[o?"text":"label"](c,0,-999,null,null,null,s.useHTML).attr(f).css(e(s.style,i&&{cursor:i})).add(h).shadow(s.shadow)}f&&n.alignDataLabel(r,f,s,null,g)}})};mn.prototype.alignDataLabel=function(t,n,r,i,s){var o=this.chart,u=o.inverted,a=p(t.plotX,-999),f=p(t.plotY,-999),l=n.getBBox();if(t=this.visible&&(t.series.forceDL||o.isInsidePlot(a,R(f),u)||i&&o.isInsidePlot(a,u?i.x+1:i.y+i.height-1,u)))i=e({x:u?o.plotWidth-f:a,y:R(u?o.plotHeight-a:f),width:0,height:0},i),e(r,{width:l.width,height:l.height}),r.rotation?n[s?"attr":"animate"]({x:i.x+r.x+i.width/2,y:i.y+r.y+i.height/2}).attr({align:r.align}):(n.align(r,null,i),u=n.alignAttr,"justify"===p(r.overflow,"justify")?this.justifyDataLabel(n,r,u,l,i,s):p(r.crop,!0)&&(t=o.isInsidePlot(u.x,u.y)&&o.isInsidePlot(u.x+l.width,u.y+l.height)));t||(n.attr({y:-999}),n.placed=!1)};mn.prototype.justifyDataLabel=function(e,t,n,r,i,s){var o=this.chart,u=t.align,a=t.verticalAlign,f,l;f=n.x;0>f&&("right"===u?t.align="left":t.x=-f,l=!0);f=n.x+r.width;f>o.plotWidth&&("left"===u?t.align="right":t.x=o.plotWidth-f,l=!0);f=n.y;0>f&&("bottom"===a?t.verticalAlign="top":t.y=-f,l=!0);f=n.y+r.height;f>o.plotHeight&&("top"===a?t.verticalAlign="bottom":t.y=o.plotHeight-f,l=!0);l&&(e.placed=!s,e.align(t,null,i))};Pt.pie&&(Pt.pie.prototype.drawDataLabels=function(){var e=this,t=e.data,n,r=e.chart,i=e.options.dataLabels,s=p(i.connectorPadding,10),o=p(i.connectorWidth,1),u=r.plotWidth,a=r.plotHeight,f,l,c=p(i.softConnector,!0),h=i.distance,d=e.center,v=d[2]/2,m=d[1],g=0<h,y,b,w,E=[[],[]],S,x,T,C,k,L=[0,0,0,0],A=function(e,t){return t.y-e.y};if(e.visible&&(i.enabled||e._hasPointLabels)){mn.prototype.drawDataLabels.apply(e);qt(t,function(e){e.dataLabel&&e.visible&&E[e.half].push(e)});for(C=2;C--;){var O=[],M=[],_=E[C],D=_.length,P;if(D){e.sortByAngle(_,C-.5);for(k=t=0;!t&&_[k];)t=_[k]&&_[k].dataLabel&&(_[k].dataLabel.getBBox().height||21),k++;if(0<h){b=X(m+v+h,r.plotHeight);for(k=W(0,m-v-h);k<=b;k+=t)O.push(k);b=O.length;if(D>b){n=[].concat(_);n.sort(A);for(k=D;k--;)n[k].rank=k;for(k=D;k--;)_[k].rank>=b&&_.splice(k,1);D=_.length}for(k=0;k<D;k++){n=_[k];w=n.labelPos;n=9999;var H,B;for(B=0;B<b;B++)H=V(O[B]-w[1]),H<n&&(n=H,P=B);if(P<k&&null!==O[k])P=k;else for(b<D-k+P&&null!==O[k]&&(P=b-D+k);null===O[P];)P++;M.push({i:P,y:O[P]});O[P]=null}M.sort(A)}for(k=0;k<D;k++){n=_[k];w=n.labelPos;y=n.dataLabel;T=!1===n.visible?"hidden":"visible";n=w[1];if(0<h){if(b=M.pop(),P=b.i,x=b.y,n>x&&null!==O[P+1]||n<x&&null!==O[P-1])x=X(W(0,n),r.plotHeight)}else x=n;S=i.justify?d[0]+(C?-1:1)*(v+h):e.getX(x===m-v-h||x===m+v+h?n:x,C);y._attr={visibility:T,align:w[6]};y._pos={x:S+i.x+({left:s,right:-s}[w[6]]||0),y:x+i.y-10};y.connX=S;y.connY=x;null===this.options.size&&(b=y.width,S-b<s?L[3]=W(R(b-S+s),L[3]):S+b>u-s&&(L[1]=W(R(S+b-u+s),L[1])),0>x-t/2?L[0]=W(R(-x+t/2),L[0]):x+t/2>a&&(L[2]=W(R(x+t/2-a),L[2])))}}}if(0===N(L)||this.verifyDataLabelOverflow(L))this.placeDataLabels(),g&&o&&qt(this.points,function(t){f=t.connector;w=t.labelPos;(y=t.dataLabel)&&y._pos?(T=y._attr.visibility,S=y.connX,x=y.connY,l=c?["M",S+("left"===w[6]?5:-5),x,"C",S,x,2*w[2]-w[4],2*w[3]-w[5],w[2],w[3],"L",w[4],w[5]]:["M",S+("left"===w[6]?5:-5),x,"L",w[2],w[3],"L",w[4],w[5]],f?(f.animate({d:l}),f.attr("visibility",T)):t.connector=f=e.chart.renderer.path(l).attr({"stroke-width":o,stroke:i.connectorColor||t.color||"#606060",visibility:T}).add(e.dataLabelsGroup)):f&&(t.connector=f.destroy())})}},Pt.pie.prototype.placeDataLabels=function(){qt(this.points,function(e){e=e.dataLabel;var t;e&&((t=e._pos)?(e.attr(e._attr),e[e.moved?"animate":"attr"](t),e.moved=!0):e&&e.attr({y:-999}))})},Pt.pie.prototype.alignDataLabel=mt,Pt.pie.prototype.verifyDataLabelOverflow=function(e){var t=this.center,n=this.options,r=n.center,i=n=n.minSize||80,s;null!==r[0]?i=W(t[2]-W(e[1],e[3]),n):(i=W(t[2]-e[1]-e[3],n),t[0]+=(e[3]-e[1])/2);null!==r[1]?i=W(X(i,t[2]-W(e[0],e[2])),n):(i=W(X(i,t[2]-e[0]-e[2]),n),t[1]+=(e[0]-e[2])/2);i<t[2]?(t[2]=i,this.translate(t),qt(this.points,function(e){e.dataLabel&&(e.dataLabel._pos=null)}),this.drawDataLabels&&this.drawDataLabels()):s=!0;return s});Pt.column&&(Pt.column.prototype.alignDataLabel=function(e,n,r,i,s){var o=this.chart,u=o.inverted,a=e.dlBox||e.shapeArgs,f=e.below||e.plotY>p(this.translatedThreshold,o.plotSizeY),l=p(r.inside,!!this.options.stacking);a&&(i=t(a),u&&(i={x:o.plotWidth-i.y-i.height,y:o.plotHeight-i.x-i.width,width:i.height,height:i.width}),l||(u?(i.x+=f?0:i.width,i.width=0):(i.y+=f?i.height:0,i.height=0)));r.align=p(r.align,!u||l?"center":f?"right":"left");r.verticalAlign=p(r.verticalAlign,u||l?"middle":f?"top":"bottom");mn.prototype.alignDataLabel.call(this,e,n,r,i,s)});var Cn=Ht.TrackerMixin={drawTrackerPoint:function(){var e=this,t=e.chart,n=t.pointer,r=e.options.cursor,i=r&&{cursor:r},s=function(n){var r=n.target,i;if(t.hoverSeries!==e)e.onMouseOver();for(;r&&!i;)i=r.point,r=r.parentNode;if(i!==j&&i!==t.hoverPoint)i.onMouseOver(n)};qt(e.points,function(e){e.graphic&&(e.graphic.element.point=e);e.dataLabel&&(e.dataLabel.element.point=e)});e._hasTracking||(qt(e.trackerGroups,function(t){if(e[t]&&(e[t].addClass("highcharts-tracker").on("mouseover",s).on("mouseout",function(e){n.onTrackerMouseOut(e)}).css(i),ot))e[t].on("touchstart",s)}),e._hasTracking=!0)},drawTrackerGraph:function(){var e=this,t=e.options,n=t.trackByArea,r=[].concat(n?e.areaPath:e.graphPath),i=r.length,s=e.chart,o=s.pointer,u=s.renderer,a=s.options.tooltip.snap,f=e.tracker,l=t.cursor,c=l&&{cursor:l},l=e.singlePoints,h,p=function(){if(s.hoverSeries!==e)e.onMouseOver()},d="rgba(192,192,192,"+(rt?1e-4:.002)+")";if(i&&!n)for(h=i+1;h--;)"M"===r[h]&&r.splice(h+1,0,r[h+1]-a,r[h+2],"L"),(h&&"M"===r[h]||h===i)&&r.splice(h,0,"L",r[h-2]+a,r[h-1]);for(h=0;h<l.length;h++)i=l[h],r.push("M",i.plotX-a,i.plotY,"L",i.plotX+a,i.plotY);f?f.attr({d:r}):(e.tracker=u.path(r).attr({"stroke-linejoin":"round",visibility:e.visible?"visible":"hidden",stroke:d,fill:n?d:"none","stroke-width":t.lineWidth+(n?0:2*a),zIndex:2}).add(e.group),qt([e.tracker,e.markerGroup],function(e){e.addClass("highcharts-tracker").on("mouseover",p).on("mouseout",function(e){o.onTrackerMouseOut(e)}).css(c);if(ot)e.on("touchstart",p)}))}};Pt.column&&(Sn.prototype.drawTracker=Cn.drawTrackerPoint);Pt.pie&&(Pt.pie.prototype.drawTracker=Cn.drawTrackerPoint);Pt.scatter&&(Tn.prototype.drawTracker=Cn.drawTrackerPoint);e(hn.prototype,{setItemEvents:function(e,t,n,r,i){var s=this;(n?t:e.legendGroup).on("mouseover",function(){e.setState("hover");t.css(s.options.itemHoverStyle)}).on("mouseout",function(){t.css(e.visible?r:i);e.setState()}).on("click",function(t){var n=function(){e.setVisible()};t={browserEvent:t};e.firePointEvent?e.firePointEvent("legendItemClick",t,n):Vt(e,"legendItemClick",t,n)})},createCheckboxForItem:function(e){e.checkbox=v("input",{type:"checkbox",checked:e.selected,defaultChecked:e.selected},this.options.itemCheckboxStyle,this.chart.container);Wt(e.checkbox,"click",function(t){Vt(e,"checkboxClick",{checked:t.target.checked},function(){e.select()})})}});lt.legend.itemStyle.cursor="pointer";e(P.prototype,{showResetZoom:function(){var e=this,t=lt.lang,n=e.options.chart.resetZoomButton,r=n.theme,i=r.states,s="chart"===n.relativeTo?null:"plotBox";this.resetZoomButton=e.renderer.button(t.resetZoom,null,null,function(){e.zoomOut()},r,i&&i.hover).attr({align:n.position.align,title:t.resetZoomTitle}).add().align(n.position,!1,s)},zoomOut:function(){var e=this;Vt(e,"selection",{resetSelection:!0},function(){e.zoom()})},zoom:function(e){var t,n=this.pointer,r=!1,s;!e||e.resetSelection?qt(this.axes,function(e){t=e.zoom()}):qt(e.xAxis.concat(e.yAxis),function(e){var i=e.axis,s=i.isXAxis;if(n[s?"zoomX":"zoomY"]||n[s?"pinchX":"pinchY"])t=i.zoom(e.min,e.max),i.displayBtn&&(r=!0)});s=this.resetZoomButton;r&&!s?this.showResetZoom():!r&&i(s)&&(this.resetZoomButton=s.destroy());t&&this.redraw(p(this.options.chart.animation,e&&e.animation,100>this.pointCount))},pan:function(e,t){var n=this,r=n.hoverPoints,i;r&&qt(r,function(e){e.setState()});qt("xy"===t?[1,0]:[1],function(t){var r=e[t?"chartX":"chartY"],s=n[t?"xAxis":"yAxis"][0],o=n[t?"mouseDownX":"mouseDownY"],u=(s.pointRange||0)/2,a=s.getExtremes(),f=s.toValue(o-r,!0)+u,o=s.toValue(o+n[t?"plotWidth":"plotHeight"]-r,!0)-u;s.series.length&&f>X(a.dataMin,a.min)&&o<W(a.dataMax,a.max)&&(s.setExtremes(f,o,!1,!1,{trigger:"pan"}),i=!0);n[t?"mouseDownX":"mouseDownY"]=r});i&&n.redraw(!1);d(n.container,{cursor:"move"})}});e(vn.prototype,{select:function(e,t){var n=this,r=n.series,i=r.chart;e=p(e,!n.selected);n.firePointEvent(e?"select":"unselect",{accumulate:t},function(){n.selected=n.options.selected=e;r.options.data[It(n,r.data)]=n.options;n.setState(e&&"select");t||qt(i.getSelectedPoints(),function(e){e.selected&&e!==n&&(e.selected=e.options.selected=!1,r.options.data[It(e,r.data)]=e.options,e.setState(""),e.firePointEvent("unselect"))})})},onMouseOver:function(e){var t=this.series,n=t.chart,r=n.tooltip,i=n.hoverPoint;if(i&&i!==this)i.onMouseOut();this.firePointEvent("mouseOver");!r||r.shared&&!t.noSharedTooltip||r.refresh(this,e);this.setState("hover");n.hoverPoint=this},onMouseOut:function(){var e=this.series.chart,t=e.hoverPoints;this.firePointEvent("mouseOut");t&&-1!==It(this,t)||(this.setState(),e.hoverPoint=null)},importEvents:function(){if(!this.hasImportedEvents){var e=t(this.series.options.point,this.options).events,n;this.events=e;for(n in e)Wt(this,n,e[n]);this.hasImportedEvents=!0}},setState:function(n,r){var i=this.plotX,s=this.plotY,o=this.series,u=o.options.states,a=Gt[o.type].marker&&o.options.marker,f=a&&!a.enabled,l=a&&a.states[n],c=l&&!1===l.enabled,h=o.stateMarkerGraphic,p=this.marker||{},d=o.chart,v=o.halo,m;n=n||"";m=this.pointAttr[n]||o.pointAttr[n];if(!(n===this.state&&!r||this.selected&&"select"!==n||u[n]&&!1===u[n].enabled||n&&(c||f&&!1===l.enabled)||n&&p.states&&p.states[n]&&!1===p.states[n].enabled)){if(this.graphic)a=a&&this.graphic.symbolName&&m.r,this.graphic.attr(t(m,a?{x:i-a,y:s-a,width:2*a,height:2*a}:{})),h&&h.hide();else{if(n&&l)if(a=l.radius,p=p.symbol||o.symbol,h&&h.currentSymbol!==p&&(h=h.destroy()),h)h[r?"animate":"attr"]({x:i-a,y:s-a});else p&&(o.stateMarkerGraphic=h=d.renderer.symbol(p,i-a,s-a,2*a,2*a).attr(m).add(o.markerGroup),h.currentSymbol=p);if(h)h[n&&d.isInsidePlot(i,s,d.inverted)?"show":"hide"]()}(i=u[n]&&u[n].halo)&&i.size?(v||(o.halo=v=d.renderer.path().add(o.seriesGroup)),v.attr(e({fill:nn(this.color||o.color).setOpacity(i.opacity).get()},i.attributes))[r?"animate":"attr"]({d:this.haloPath(i.size)})):v&&v.attr({d:[]});this.state=n}},haloPath:function(e){var t=this.series,n=t.chart,r=t.getPlotBox(),i=n.inverted;return n.renderer.symbols.circle(r.translateX+(i?t.yAxis.len-this.plotY:this.plotX)-e,r.translateY+(i?t.xAxis.len-this.plotX:this.plotY)-e,2*e,2*e)}});e(mn.prototype,{onMouseOver:function(){var e=this.chart,t=e.hoverSeries;if(t&&t!==this)t.onMouseOut();this.options.events.mouseOver&&Vt(this,"mouseOver");this.setState("hover");e.hoverSeries=this},onMouseOut:function(){var e=this.options,t=this.chart,n=t.tooltip,r=t.hoverPoint;if(r)r.onMouseOut();this&&e.events.mouseOut&&Vt(this,"mouseOut");!n||e.stickyTracking||n.shared&&!this.noSharedTooltip||n.hide();this.setState();t.hoverSeries=null},setState:function(e){var t=this.options,n=this.graph,r=this.graphNeg,i=t.states,t=t.lineWidth;e=e||"";this.state!==e&&(this.state=e,i[e]&&!1===i[e].enabled||(e&&(t=i[e].lineWidth||t+(i[e].lineWidthPlus||0)),n&&!n.dashstyle&&(e={"stroke-width":t},n.attr(e),r&&r.attr(e))))},setVisible:function(e,t){var n=this,r=n.chart,i=n.legendItem,s,o=r.options.chart.ignoreHiddenSeries,u=n.visible;s=(n.visible=e=n.userOptions.visible=e===j?!u:e)?"show":"hide";qt(["group","dataLabelsGroup","markerGroup","tracker"],function(e){if(n[e])n[e][s]()});if(r.hoverSeries===n)n.onMouseOut();i&&r.legend.colorizeItem(n,e);n.isDirty=!0;n.options.stacking&&qt(r.series,function(e){e.options.stacking&&e.visible&&(e.isDirty=!0)});qt(n.linkedSeries,function(t){t.setVisible(e,!1)});o&&(r.isDirtyBox=!0);!1!==t&&r.redraw();Vt(n,s)},setTooltipPoints:function(e){var t=[],n,r,i=this.xAxis,s=i&&i.getExtremes(),o=i?i.tooltipLen||i.len:this.chart.plotSizeX,u,a,f=[];if(!1!==this.options.enableMouseTracking&&!this.singularTooltips){e&&(this.tooltipPoints=null);qt(this.segments||this.points,function(e){t=t.concat(e)});i&&i.reversed&&(t=t.reverse());this.orderTooltipPoints&&this.orderTooltipPoints(t);e=t.length;for(a=0;a<e;a++)if(i=t[a],n=i.x,n>=s.min&&n<=s.max)for(u=t[a+1],n=r===j?0:r+1,r=t[a+1]?X(W(0,U((i.clientX+(u?u.wrappedClientX||u.clientX:o))/2)),o):o;0<=n&&n<=r;)f[n++]=i;this.tooltipPoints=f}},show:function(){this.setVisible(!0)},hide:function(){this.setVisible(!1)},select:function(e){this.selected=e=e===j?!this.selected:e;this.checkbox&&(this.checkbox.checked=e);Vt(this,e?"select":"unselect")},drawTracker:Cn.drawTrackerGraph});e(B.prototype,{init:function(e,n,r){var i=this,s=i.defaultOptions;i.chart=n;n.angular&&(s.background={});i.options=e=t(s,e);(e=e.background)&&qt([].concat(h(e)).reverse(),function(e){var n=e.backgroundColor;e=t(i.defaultBackgroundOptions,e);n&&(e.backgroundColor=n);e.color=e.backgroundColor;r.options.plotBands.unshift(e)})},defaultOptions:{center:["50%","50%"],size:"85%",startAngle:0},defaultBackgroundOptions:{shape:"circle",borderWidth:1,borderColor:"silver",backgroundColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#DDD"]]},from:-Number.MAX_VALUE,innerRadius:0,to:Number.MAX_VALUE,outerRadius:"105%"}});var kn=D.prototype,Ln=_.prototype,An={getOffset:mt,redraw:function(){this.isDirty=!1},render:function(){this.isDirty=!1},setScale:mt,setCategories:mt,setTitle:mt},On={isRadial:!0,defaultRadialGaugeOptions:{labels:{align:"center",x:0,y:null},minorGridLineWidth:0,minorTickInterval:"auto",minorTickLength:10,minorTickPosition:"inside",minorTickWidth:1,tickLength:10,tickPosition:"inside",tickWidth:2,title:{rotation:0},zIndex:2},defaultRadialXOptions:{gridLineWidth:1,labels:{align:null,distance:15,x:0,y:null},maxPadding:0,minPadding:0,showLastLabel:!1,tickLength:0},defaultRadialYOptions:{gridLineInterpolation:"circle",labels:{align:"right",x:-3,y:-2},showLastLabel:!1,title:{x:4,text:null,rotation:90}},setOptions:function(e){e=this.options=t(this.defaultOptions,this.defaultRadialOptions,e);e.plotBands||(e.plotBands=[])},getOffset:function(){kn.getOffset.call(this);this.chart.axisOffset[this.side]=0;this.center=this.pane.center=dn.getCenter.call(this.pane)},getLinePath:function(e,t){var n=this.center;t=p(t,n[2]/2-this.offset);return this.chart.renderer.symbols.arc(this.left+n[0],this.top+n[1],t,t,{start:this.startAngleRad,end:this.endAngleRad,open:!0,innerR:0})},setAxisTranslation:function(){kn.setAxisTranslation.call(this);this.center&&(this.transA=this.isCircular?(this.endAngleRad-this.startAngleRad)/(this.max-this.min||1):this.center[2]/2/(this.max-this.min||1),this.minPixelPadding=this.isXAxis?this.transA*this.minPointOffset:0)},beforeSetTickPositions:function(){this.autoConnect&&(this.max+=this.categories&&1||this.pointRange||this.closestPointRange||0)},setAxisSize:function(){kn.setAxisSize.call(this);this.isRadial&&(this.center=this.pane.center=Ht.CenteredSeriesMixin.getCenter.call(this.pane),this.isCircular&&(this.sector=this.endAngleRad-this.startAngleRad),this.len=this.width=this.height=this.center[2]*p(this.sector,1)/2)},getPosition:function(e,t){return this.postTranslate(this.isCircular?this.translate(e):0,p(this.isCircular?t:this.translate(e),this.center[2]/2)-this.offset)},postTranslate:function(e,t){var n=this.chart,r=this.center;e=this.startAngleRad+e;return{x:n.plotLeft+r[0]+Math.cos(e)*t,y:n.plotTop+r[1]+Math.sin(e)*t}},getPlotBandPath:function(e,t,r){var i=this.center,s=this.startAngleRad,o=i[2]/2,u=[p(r.outerRadius,"100%"),r.innerRadius,p(r.thickness,10)],a=/%$/,f,l=this.isCircular;"polygon"===this.options.gridLineInterpolation?i=this.getPlotLinePath(e).concat(this.getPlotLinePath(t,!0)):(l||(u[0]=this.translate(e),u[1]=this.translate(t)),u=zt(u,function(e){a.test(e)&&(e=n(e,10)*o/100);return e}),"circle"!==r.shape&&l?(e=s+this.translate(e),t=s+this.translate(t)):(e=-Math.PI/2,t=1.5*Math.PI,f=!0),i=this.chart.renderer.symbols.arc(this.left+i[0],this.top+i[1],u[0],u[0],{start:e,end:t,innerR:p(u[1],u[0]-u[2]),open:f}));return i},getPlotLinePath:function(e,t){var n=this,r=n.center,i=n.chart,s=n.getPosition(e),o,u,a;n.isCircular?a=["M",r[0]+i.plotLeft,r[1]+i.plotTop,"L",s.x,s.y]:"circle"===n.options.gridLineInterpolation?(e=n.translate(e))&&(a=n.getLinePath(0,e)):(qt(i.xAxis,function(e){e.pane===n.pane&&(o=e)}),a=[],e=n.translate(e),r=o.tickPositions,o.autoConnect&&(r=r.concat([r[0]])),t&&(r=[].concat(r).reverse()),qt(r,function(t,n){u=o.getPosition(t,e);a.push(n?"L":"M",u.x,u.y)}));return a},getTitlePosition:function(){var e=this.center,t=this.chart,n=this.options.title;return{x:t.plotLeft+e[0]+(n.x||0),y:t.plotTop+e[1]-{high:.5,middle:.25,low:0}[n.align]*e[2]+(n.y||0)}}};b(kn,"init",function(n,r,i){var s=r.angular,o=r.polar,u=i.isX,a=s&&u,f,l;l=r.options;var c=i.pane||0;if(s){if(e(this,a?An:On),f=!u)this.defaultRadialOptions=this.defaultRadialGaugeOptions}else o&&(e(this,On),this.defaultRadialOptions=(f=u)?this.defaultRadialXOptions:t(this.defaultYAxisOptions,this.defaultRadialYOptions));n.call(this,r,i);a||!s&&!o||(n=this.options,r.panes||(r.panes=[]),this.pane=c=r.panes[c]=r.panes[c]||new B(h(l.pane)[c],r,this),c=c.options,r.inverted=!1,l.chart.zoomType=null,this.startAngleRad=r=(c.startAngle-90)*Math.PI/180,this.endAngleRad=l=(p(c.endAngle,c.startAngle+360)-90)*Math.PI/180,this.offset=n.offset||0,(this.isCircular=f)&&i.max===j&&l-r===2*Math.PI&&(this.autoConnect=!0))});b(Ln,"getPosition",function(e,t,n,r,i){var s=this.axis;return s.getPosition?s.getPosition(n):e.call(this,t,n,r,i)});b(Ln,"getLabelPosition",function(e,t,n,r,i,s,o,u,a){var f=this.axis,l=s.y,c=s.align,h=(f.translate(this.pos)+f.startAngleRad+Math.PI/2)/Math.PI*180%360;f.isRadial?(e=f.getPosition(this.pos,f.center[2]/2+p(s.distance,-25)),"auto"===s.rotation?r.attr({rotation:h}):null===l&&(l=f.chart.renderer.fontMetrics(r.styles.fontSize).b-r.getBBox().height/2),null===c&&(c=f.isCircular?20<h&&160>h?"left":200<h&&340>h?"right":"center":"center",r.attr({align:c})),e.x+=s.x,e.y+=l):e=e.call(this,t,n,r,i,s,o,u,a);return e});b(Ln,"getMarkPath",function(e,t,n,r,i,s,o){var u=this.axis;u.isRadial?(e=u.getPosition(this.pos,u.center[2]/2+r),t=["M",t,n,"L",e.x,e.y]):t=e.call(this,t,n,r,i,s,o);return t});Gt.arearange=t(Gt.area,{lineWidth:1,marker:null,threshold:null,tooltip:{pointFormat:'<span style="color:{series.color}">●</span> {series.name}: <b>{point.low}</b> - <b>{point.high}</b><br/>'},trackByArea:!0,dataLabels:{align:null,verticalAlign:null,xLow:0,xHigh:0,yLow:0,yHigh:0},states:{hover:{halo:!1}}});Pt.arearange=m(Pt.area,{type:"arearange",pointArrayMap:["low","high"],toYData:function(e){return[e.low,e.high]},pointValKey:"low",getSegments:function(){var e=this;qt(e.points,function(t){e.options.connectNulls||null!==t.low&&null!==t.high?null===t.low&&null!==t.high&&(t.y=t.high):t.y=null});mn.prototype.getSegments.call(this)},translate:function(){var e=this.yAxis;Pt.area.prototype.translate.apply(this);qt(this.points,function(t){var n=t.low,r=t.high,i=t.plotY;null===r&&null===n?t.y=null:null===n?(t.plotLow=t.plotY=null,t.plotHigh=e.translate(r,0,1,0,1)):null===r?(t.plotLow=i,t.plotHigh=null):(t.plotLow=i,t.plotHigh=e.translate(r,0,1,0,1))})},getSegmentPath:function(e){var t,n=[],r=e.length,i=mn.prototype.getSegmentPath,s,o;o=this.options;var u=o.step;for(t=HighchartsAdapter.grep(e,function(e){return null!==e.plotLow});r--;)s=e[r],null!==s.plotHigh&&n.push({plotX:s.plotX,plotY:s.plotHigh});e=i.call(this,t);u&&(!0===u&&(u="left"),o.step={left:"right",center:"center",right:"left"}[u]);n=i.call(this,n);o.step=u;o=[].concat(e,n);n[0]="L";this.areaPath=this.areaPath.concat(e,n);return o},drawDataLabels:function(){var e=this.data,t=e.length,n,r=[],i=mn.prototype,s=this.options.dataLabels,o=s.align,u,a=this.chart.inverted;if(s.enabled||this._hasPointLabels){for(n=t;n--;)u=e[n],u.y=u.high,u._plotY=u.plotY,u.plotY=u.plotHigh,r[n]=u.dataLabel,u.dataLabel=u.dataLabelUpper,u.below=!1,a?(o||(s.align="left"),s.x=s.xHigh):s.y=s.yHigh;i.drawDataLabels&&i.drawDataLabels.apply(this,arguments);for(n=t;n--;)u=e[n],u.dataLabelUpper=u.dataLabel,u.dataLabel=r[n],u.y=u.low,u.plotY=u._plotY,u.below=!0,a?(o||(s.align="right"),s.x=s.xLow):s.y=s.yLow;i.drawDataLabels&&i.drawDataLabels.apply(this,arguments)}s.align=o},alignDataLabel:function(){Pt.column.prototype.alignDataLabel.apply(this,arguments)},getSymbol:mt,drawPoints:mt});Gt.gauge=t(Gt.line,{dataLabels:{enabled:!0,defer:!1,y:15,borderWidth:1,borderColor:"silver",borderRadius:3,crop:!1,style:{fontWeight:"bold"},verticalAlign:"top",zIndex:2},dial:{},pivot:{},tooltip:{headerFormat:""},showInLegend:!1});var Mn={type:"gauge",pointClass:m(vn,{setState:function(e){this.state=e}}),angular:!0,drawGraph:mt,fixedBox:!0,forceDL:!0,trackerGroups:["group","dataLabelsGroup"],translate:function(){var e=this.yAxis,r=this.options,i=e.center;this.generatePoints();qt(this.points,function(s){var o=t(r.dial,s.dial),u=n(p(o.radius,80))*i[2]/200,a=n(p(o.baseLength,70))*u/100,f=n(p(o.rearLength,10))*u/100,l=o.baseWidth||3,c=o.topWidth||1,h=r.overshoot,d=e.startAngleRad+e.translate(s.y,null,null,null,!0);h&&"number"===typeof h?(h=h/180*Math.PI,d=Math.max(e.startAngleRad-h,Math.min(e.endAngleRad+h,d))):!1===r.wrap&&(d=Math.max(e.startAngleRad,Math.min(e.endAngleRad,d)));d=180*d/Math.PI;s.shapeType="path";s.shapeArgs={d:o.path||["M",-f,-l/2,"L",a,-l/2,u,-c/2,u,c/2,a,l/2,-f,l/2,"z"],translateX:i[0],translateY:i[1],rotation:d};s.plotX=i[0];s.plotY=i[1]})},drawPoints:function(){var e=this,n=e.yAxis.center,r=e.pivot,i=e.options,s=i.pivot,o=e.chart.renderer;qt(e.points,function(n){var r=n.graphic,s=n.shapeArgs,u=s.d,a=t(i.dial,n.dial);r?(r.animate(s),s.d=u):n.graphic=o[n.shapeType](s).attr({stroke:a.borderColor||"none","stroke-width":a.borderWidth||0,fill:a.backgroundColor||"black",rotation:s.rotation}).add(e.group)});r?r.animate({translateX:n[0],translateY:n[1]}):e.pivot=o.circle(0,0,p(s.radius,5)).attr({"stroke-width":s.borderWidth||0,stroke:s.borderColor||"silver",fill:s.backgroundColor||"black"}).translate(n[0],n[1]).add(e.group)},animate:function(e){var t=this;e||(qt(t.points,function(e){var n=e.graphic;n&&(n.attr({rotation:180*t.yAxis.startAngleRad/Math.PI}),n.animate({rotation:e.shapeArgs.rotation},t.options.animation))}),t.animate=null)},render:function(){this.group=this.plotGroup("group","series",this.visible?"visible":"hidden",this.options.zIndex,this.chart.seriesGroup);mn.prototype.render.call(this);this.group.clip(this.chart.clipRect)},setData:function(e,t){mn.prototype.setData.call(this,e,!1);this.processData();this.generatePoints();p(t,!0)&&this.chart.redraw()},drawTracker:Cn&&Cn.drawTrackerPoint};Pt.gauge=m(Pt.line,Mn);e(Ht,{Axis:D,Chart:P,Color:nn,Point:vn,Tick:_,Renderer:rn,Series:mn,SVGElement:M,SVGRenderer:rn,arrayMin:T,arrayMax:N,charts:gt,dateFormat:ct,format:w,pathAnim:pt,getOptions:function(){return lt},hasBidiBug:it,isTouchDevice:nt,numberFormat:g,seriesTypes:Pt,setOptions:function(e){lt=t(!0,lt,e);O();return lt},addEvent:Wt,removeEvent:Xt,createElement:v,discardElement:k,css:d,each:qt,extend:e,map:zt,merge:t,pick:p,splat:h,extendClass:m,pInt:n,wrap:b,svg:rt,canvas:st,vml:!rt&&!st,product:"Highcharts 4.0.4",version:"/Highstock 2.0.4"})})();(function(e){var t=e.getOptions(),n=t.plotOptions,r=e.seriesTypes,i=e.merge,s=function(){},o=e.each;n.funnel=i(n.pie,{animation:!1,center:["50%","50%"],width:"90%",neckWidth:"30%",height:"100%",neckHeight:"25%",reversed:!1,dataLabels:{connectorWidth:1,connectorColor:"#606060"},size:!0,states:{select:{color:"#C0C0C0",borderColor:"#000000",shadow:!1}}});r.funnel=e.extendClass(r.pie,{type:"funnel",animate:s,singularTooltips:!0,translate:function(){var e=function(e,t){return/%$/.test(e)?t*parseInt(e,10)/100:parseInt(e,10)},t=0,n=this.chart,r=this.options,i=r.reversed,u=n.plotWidth,a=n.plotHeight,f=0,n=r.center,l=e(n[0],u),c=e(n[1],a),h=e(r.width,u),p,d,v=e(r.height,a),m=e(r.neckWidth,u),g=e(r.neckHeight,a),y=v-g,e=this.data,b,w,E="left"===r.dataLabels.position?1:0,x,T,N,C,k,L,A;this.getWidthAt=d=function(e){return e>v-g||v===g?m:m+(v-g-e)/(v-g)*(h-m)};this.getX=function(e,t){return l+(t?-1:1)*(d(i?a-e:e)/2+r.dataLabels.distance)};this.center=[l,c,v];this.centerX=l;o(e,function(e){t+=e.y});o(e,function(e){A=null;w=t?e.y/t:0;T=c-v/2+f*v;k=T+w*v;p=d(T);x=l-p/2;N=x+p;p=d(k);C=l-p/2;L=C+p;T>y?(x=C=l-m/2,N=L=l+m/2):k>y&&(A=k,p=d(y),C=l-p/2,L=C+p,k=y);i&&(T=v-T,k=v-k,A=A?v-A:null);b=["M",x,T,"L",N,T,L,k];A&&b.push(L,A,C,A);b.push(C,k,"Z");e.shapeType="path";e.shapeArgs={d:b};e.percentage=100*w;e.plotX=l;e.plotY=(T+(A||k))/2;e.tooltipPos=[l,e.plotY];e.slice=s;e.half=E;f+=w})},drawPoints:function(){var e=this,t=e.options,n=e.chart.renderer;o(e.data,function(r){var i=r.graphic,s=r.shapeArgs;i?i.animate(s):r.graphic=n.path(s).attr({fill:r.color,stroke:t.borderColor,"stroke-width":t.borderWidth}).add(e.group)})},sortByAngle:function(e){e.sort(function(e,t){return e.plotY-t.plotY})},drawDataLabels:function(){var e=this.data,t=this.options.dataLabels.distance,n,i,s,o=e.length,u,a;for(this.center[2]-=2*t;o--;)s=e[o],i=(n=s.half)?1:-1,a=s.plotY,u=this.getX(a,n),s.labelPos=[0,a,u+(t-5)*i,a,u+t*i,a,n?"right":"left",0];r.pie.prototype.drawDataLabels.call(this)}});t.plotOptions.pyramid=e.merge(t.plotOptions.funnel,{neckWidth:"0%",neckHeight:"0%",reversed:!0});e.seriesTypes.pyramid=e.extendClass(e.seriesTypes.funnel,{type:"pyramid"})})(Highcharts);(function(e){var t=e.Chart,n=e.addEvent,r=e.removeEvent,i=e.createElement,s=e.discardElement,o=e.css,u=e.merge,a=e.each,f=e.extend,l=Math.max,c=document,h=window,p=e.isTouchDevice,d=e.Renderer.prototype.symbols,v=e.getOptions(),m;f(v.lang,{printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"});v.navigation={menuStyle:{border:"1px solid #A0A0A0",background:"#FFFFFF",padding:"5px 0"},menuItemStyle:{padding:"0 10px",background:"none",color:"#303030",fontSize:p?"14px":"11px"},menuItemHoverStyle:{background:"#4572A5",color:"#FFFFFF"},buttonOptions:{symbolFill:"#E0E0E0",symbolSize:14,symbolStroke:"#666",symbolStrokeWidth:3,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,theme:{fill:"white",stroke:"none"},verticalAlign:"top",width:24}};v.exporting={type:"image/png",url:"http://export.highcharts.com/",buttons:{contextButton:{menuClassName:"highcharts-contextmenu",symbol:"menu",_titleKey:"contextButtonTitle",menuItems:[{textKey:"printChart",onclick:function(){this.print()}},{separator:!0},{textKey:"downloadPNG",onclick:function(){this.exportChart()}},{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}]}}};e.post=function(e,t,n){var r;e=i("form",u({method:"post",action:e,enctype:"multipart/form-data"},n),{display:"none"},c.body);for(r in t)i("input",{type:"hidden",name:r,value:t[r]},null,e);e.submit();s(e)};f(t.prototype,{getSVG:function(t){var n=this,r,o,l,h,p=u(n.options,t);c.createElementNS||(c.createElementNS=function(e,t){return c.createElement(t)});t=i("div",null,{position:"absolute",top:"-9999em",width:n.chartWidth+"px",height:n.chartHeight+"px"},c.body);o=n.renderTo.style.width;h=n.renderTo.style.height;o=p.exporting.sourceWidth||p.chart.width||/px$/.test(o)&&parseInt(o,10)||600;h=p.exporting.sourceHeight||p.chart.height||/px$/.test(h)&&parseInt(h,10)||400;f(p.chart,{animation:!1,renderTo:t,forExport:!0,width:o,height:h});p.exporting.enabled=!1;p.series=[];a(n.series,function(e){l=u(e.options,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:e.visible});l.isInternal||p.series.push(l)});r=new e.Chart(p,n.callback);a(["xAxis","yAxis"],function(e){a(n[e],function(t,n){var i=r[e][n],s=t.getExtremes(),o=s.userMin,s=s.userMax;!i||void 0===o&&void 0===s||i.setExtremes(o,s,!0,!1)})});o=r.container.innerHTML;p=null;r.destroy();s(t);o=o.replace(/zIndex="[^"]+"/g,"").replace(/isShadow="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ href=/g," xlink:href=").replace(/\n/," ").replace(/<\/svg>.*?$/,"</svg>").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­").replace(/<IMG /g,"<image ").replace(/height=([^" ]+)/g,'height="$1"').replace(/width=([^" ]+)/g,'width="$1"').replace(/hc-svg-href="([^"]+)">/g,'xlink:href="$1"/>').replace(/id=([^" >]+)/g,'id="$1"').replace(/class=([^" >]+)/g,'class="$1"').replace(/ transform /g," ").replace(/:(path|rect)/g,"$1").replace(/style="([^"]+)"/g,function(e){return e.toLowerCase()});return o=o.replace(/(url\(#highcharts-[0-9]+)&quot;/g,"$1").replace(/&quot;/g,"'")},exportChart:function(t,n){t=t||{};var r=this.options.exporting,r=this.getSVG(u({chart:{borderRadius:0}},r.chartOptions,n,{exporting:{sourceWidth:t.sourceWidth||r.sourceWidth,sourceHeight:t.sourceHeight||r.sourceHeight}}));t=u(this.options.exporting,t);e.post(t.url,{filename:t.filename||"chart",type:t.type,width:t.width||0,scale:t.scale||2,svg:r},t.formAttributes)},print:function(){var e=this,t=e.container,n=[],r=t.parentNode,i=c.body,s=i.childNodes;e.isPrinting||(e.isPrinting=!0,a(s,function(e,t){1===e.nodeType&&(n[t]=e.style.display,e.style.display="none")}),i.appendChild(t),h.focus(),h.print(),setTimeout(function(){r.appendChild(t);a(s,function(e,t){1===e.nodeType&&(e.style.display=n[t])});e.isPrinting=!1},1e3))},contextMenu:function(e,t,s,u,c,h,p){var d=this,v=d.options.navigation,m=v.menuItemStyle,g=d.chartWidth,y=d.chartHeight,b="cache-"+e,w=d[b],E=l(c,h),S,x,T,N=function(t){d.pointer.inClass(t.target,e)||x()};w||(d[b]=w=i("div",{className:e},{position:"absolute",zIndex:1e3,padding:E+"px"},d.container),S=i("div",null,f({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},v.menuStyle),w),x=function(){o(w,{display:"none"});p&&p.setState(0);d.openMenu=!1},n(w,"mouseleave",function(){T=setTimeout(x,500)}),n(w,"mouseenter",function(){clearTimeout(T)}),n(document,"mouseup",N),n(d,"destroy",function(){r(document,"mouseup",N)}),a(t,function(e){if(e){var t=e.separator?i("hr",null,null,S):i("div",{onmouseover:function(){o(this,v.menuItemHoverStyle)},onmouseout:function(){o(this,m)},onclick:function(){x();e.onclick.apply(d,arguments)},innerHTML:e.text||d.options.lang[e.textKey]},f({cursor:"pointer"},m),S);d.exportDivElements.push(t)}}),d.exportDivElements.push(S,w),d.exportMenuWidth=w.offsetWidth,d.exportMenuHeight=w.offsetHeight);t={display:"block"};s+d.exportMenuWidth>g?t.right=g-s-c-E+"px":t.left=s-E+"px";u+h+d.exportMenuHeight>y&&"top"!==p.alignOptions.verticalAlign?t.bottom=y-u-E+"px":t.top=u+h-E+"px";o(w,t);d.openMenu=!0},addButton:function(t){var n=this,r=n.renderer,i=u(n.options.navigation.buttonOptions,t),s=i.onclick,o=i.menuItems,a,l,c={stroke:i.symbolStroke,fill:i.symbolFill},h=i.symbolSize||12;n.btnCount||(n.btnCount=0);n.exportDivElements||(n.exportDivElements=[],n.exportSVGElements=[]);if(!1!==i.enabled){var p=i.theme,d=p.states,v=d&&d.hover,d=d&&d.select,g;delete p.states;s?g=function(){s.apply(n,arguments)}:o&&(g=function(){n.contextMenu(l.menuClassName,o,l.translateX,l.translateY,l.width,l.height,l);l.setState(2)});i.text&&i.symbol?p.paddingLeft=e.pick(p.paddingLeft,25):i.text||f(p,{width:i.width,height:i.height,padding:0});l=r.button(i.text,0,0,g,p,v,d).attr({title:n.options.lang[i._titleKey],"stroke-linecap":"round"});l.menuClassName=t.menuClassName||"highcharts-menu-"+n.btnCount++;i.symbol&&(a=r.symbol(i.symbol,i.symbolX-h/2,i.symbolY-h/2,h,h).attr(f(c,{"stroke-width":i.symbolStrokeWidth||1,zIndex:1})).add(l));l.add().align(f(i,{width:l.width,x:e.pick(i.x,m)}),!0,"spacingBox");m+=(l.width+i.buttonSpacing)*("right"===i.align?-1:1);n.exportSVGElements.push(l,a)}},destroyExport:function(e){e=e.target;var t,n;for(t=0;t<e.exportSVGElements.length;t++)if(n=e.exportSVGElements[t])n.onclick=n.ontouchstart=null,e.exportSVGElements[t]=n.destroy();for(t=0;t<e.exportDivElements.length;t++)n=e.exportDivElements[t],r(n,"mouseleave"),e.exportDivElements[t]=n.onmouseout=n.onmouseover=n.ontouchstart=n.onclick=null,s(n)}});d.menu=function(e,t,n,r){return["M",e,t+2.5,"L",e+n,t+2.5,"M",e,t+r/2+.5,"L",e+n,t+r/2+.5,"M",e,t+r-1.5,"L",e+n,t+r-1.5]};t.prototype.callbacks.push(function(e){var t,r=e.options.exporting,i=r.buttons;m=0;if(!1!==r.enabled){for(t in i)e.addButton(i[t]);n(e,"destroy",e.destroyExport)}})})(Highcharts);(function(e){var t=e.each,n=HighchartsAdapter.inArray,r=e.splat,i,s=function(e,t){this.init(e,t)};e.extend(s.prototype,{init:function(e,t){this.options=e;this.chartOptions=t;this.columns=e.columns||this.rowsToColumns(e.rows)||[];this.rawColumns=[];this.columns.length?this.dataFound():(this.parseCSV(),this.parseTable(),this.parseGoogleSpreadsheet())},getColumnDistribution:function(){var n=this.chartOptions,r=this.options,s=[],o=function(t){return(e.seriesTypes[t||"line"].prototype.pointArrayMap||[0]).length},u=n&&n.chart&&n.chart.type,a=[],f=[],l,c;t(n&&n.series||[],function(e){a.push(o(e.type||u))});t(r&&r.seriesMapping||[],function(e){s.push(e.x||0)});0===s.length&&s.push(0);t(r&&r.seriesMapping||[],function(t){var r=new i,s,d=a[l]||o(u),m=e.seriesTypes[((n&&n.series||[])[l]||{}).type||u||"line"].prototype.pointArrayMap||["y"];r.addColumnReader(t.x,"x");for(s in t)t.hasOwnProperty(s)&&"x"!==s&&r.addColumnReader(t[s],s);for(c=0;c<d;c++)r.hasReader(m[c])||r.addColumnReader(void 0,m[c]);f.push(r);l++});r=e.seriesTypes[u||"line"].prototype.pointArrayMap;void 0===r&&(r=["y"]);this.valueCount={global:o(u),xColumns:s,individual:a,seriesBuilders:f,globalPointArrayMap:r}},dataFound:function(){this.options.switchRowsAndColumns&&(this.columns=this.rowsToColumns(this.columns));this.getColumnDistribution();this.parseTypes();this.findHeaderRow();!1!==this.parsed()&&this.complete()},parseCSV:function(){var e=this,n=this.options,r=n.csv,i=this.columns,s=n.startRow||0,o=n.endRow||Number.MAX_VALUE,u=n.startColumn||0,a=n.endColumn||Number.MAX_VALUE,f,l,c=0;r&&(l=r.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split(n.lineDelimiter||"\n"),f=n.itemDelimiter||(-1!==r.indexOf("	")?"	":","),t(l,function(n,r){var l=e.trim(n),p=0===l.indexOf("#");r>=s&&r<=o&&!p&&""!==l&&(l=n.split(f),t(l,function(e,t){t>=u&&t<=a&&(i[t-u]||(i[t-u]=[]),i[t-u][c]=e)}),c+=1)}),this.dataFound())},parseTable:function(){var e=this.options,n=e.table,r=this.columns,i=e.startRow||0,s=e.endRow||Number.MAX_VALUE,o=e.startColumn||0,u=e.endColumn||Number.MAX_VALUE;n&&("string"===typeof n&&(n=document.getElementById(n)),t(n.getElementsByTagName("tr"),function(e,n){n>=i&&n<=s&&t(e.children,function(e,t){("TD"===e.tagName||"TH"===e.tagName)&&t>=o&&t<=u&&(r[t-o]||(r[t-o]=[]),r[t-o][n-i]=e.innerHTML)})}),this.dataFound())},parseGoogleSpreadsheet:function(){var e=this,t=this.options,n=t.googleSpreadsheetKey,r=this.columns,i=t.startRow||0,s=t.endRow||Number.MAX_VALUE,o=t.startColumn||0,u=t.endColumn||Number.MAX_VALUE,a,f;n&&jQuery.ajax({dataType:"json",url:"https://spreadsheets.google.com/feeds/cells/"+n+"/"+(t.googleSpreadsheetWorksheet||"od6")+"/public/values?alt=json-in-script&callback=?",error:t.error,success:function(t){t=t.feed.entry;var n,l=t.length,c=0,p=0,d;for(d=0;d<l;d++)n=t[d],c=Math.max(c,n.gs$cell.col),p=Math.max(p,n.gs$cell.row);for(d=0;d<c;d++)d>=o&&d<=u&&(r[d-o]=[],r[d-o].length=Math.min(p,s-i));for(d=0;d<l;d++)n=t[d],a=n.gs$cell.row-1,f=n.gs$cell.col-1,f>=o&&f<=u&&a>=i&&a<=s&&(r[f-o][a-i]=n.content.$t);e.dataFound()}})},findHeaderRow:function(){var e=0;t(this.columns,function(t){t.isNumeric&&"string"!==typeof t[0]&&(e=null)});this.headerRow=e},trim:function(e){return"string"===typeof e?e.replace(/^\s+|\s+$/g,""):e},parseTypes:function(){for(var e=this.columns,t=this.rawColumns,i=e.length,s,o,u,a,f,l,c=[],h,p=this.chartOptions;i--;){s=e[i].length;t[i]=[];for(h=(f=-1!==n(i,this.valueCount.xColumns))&&p&&p.xAxis&&"category"===r(p.xAxis)[0].type;s--;)o=c[s]||e[i][s],u=parseFloat(o),a=t[i][s]=this.trim(o),h?e[i][s]=a:a==u?(e[i][s]=u,31536e6<u?e[i].isDatetime=!0:e[i].isNumeric=!0):(u=this.parseDate(o),f&&"number"===typeof u&&!isNaN(u)?(c[s]=o,e[i][s]=u,e[i].isDatetime=!0,void 0!==e[i][s+1]&&(o=u>e[i][s+1],o!==l&&void 0!==l&&(this.alternativeFormat?(this.dateFormat=this.alternativeFormat,s=e[i].length,this.alternativeFormat=this.dateFormats[this.dateFormat].alternative):e[i].unsorted=!0),l=o)):(e[i][s]=""===a?null:a,0!==s&&(e[i].isDatetime||e[i].isNumeric)&&(e[i].mixed=!0)));f&&e[i].mixed&&(e[i]=t[i])}if(e[0].isDatetime&&l)for(t="number"!==typeof e[0][0],i=0;i<e.length;i++)e[i].reverse(),t&&e[i].unshift(e[i].pop())},dateFormats:{"YYYY-mm-dd":{regex:/^([0-9]{4})[\-\/\.]([0-9]{2})[\-\/\.]([0-9]{2})$/,parser:function(e){return Date.UTC(+e[1],e[2]-1,+e[3])}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(e){return Date.UTC(+e[3],e[2]-1,+e[1])},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{4})$/,parser:function(e){return Date.UTC(+e[3],e[1]-1,+e[2])}},"dd/mm/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(e){return Date.UTC(+e[3]+2e3,e[2]-1,+e[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})[\-\/\.]([0-9]{1,2})[\-\/\.]([0-9]{2})$/,parser:function(e){console.log(e);return Date.UTC(+e[3]+2e3,e[1]-1,+e[2])}}},parseDate:function(e){var t=this.options.parseDate,n,r,i=this.options.dateFormat||this.dateFormat,s;t&&(n=t(e));if("string"===typeof e){if(i)t=this.dateFormats[i],(s=e.match(t.regex))&&(n=t.parser(s));else for(r in this.dateFormats)if(t=this.dateFormats[r],s=e.match(t.regex)){this.dateFormat=r;this.alternativeFormat=t.alternative;n=t.parser(s);break}s||(s=Date.parse(e),"object"===typeof s&&null!==s&&s.getTime?n=s.getTime()-6e4*s.getTimezoneOffset():"number"!==typeof s||isNaN(s)||(n=s-6e4*(new Date(s)).getTimezoneOffset()))}return n},rowsToColumns:function(e){var t,n,r,i,s;if(e)for(s=[],n=e.length,t=0;t<n;t++)for(i=e[t].length,r=0;r<i;r++)s[r]||(s[r]=[]),s[r][t]=e[t][r];return s},parsed:function(){if(this.options.parsed)return this.options.parsed.call(this,this.columns)},getFreeIndexes:function(e,t){var n,r,i=[],s=[],o;for(r=0;r<e;r+=1)i.push(!0);for(n=0;n<t.length;n+=1)for(o=t[n].getReferencedColumnIndexes(),r=0;r<o.length;r+=1)i[o[r]]=!1;for(r=0;r<i.length;r+=1)i[r]&&s.push(r);return s},complete:function(){var e=this.columns,t,r=this.options,s,o,u,a,f=[],l;if(r.complete||r.afterComplete){for(u=0;u<e.length;u++)0===this.headerRow&&(e[u].name=e[u].shift());s=[];o=this.getFreeIndexes(e.length,this.valueCount.seriesBuilders);for(u=0;u<this.valueCount.seriesBuilders.length;u++)l=this.valueCount.seriesBuilders[u],l.populateColumns(o)&&f.push(l);for(;0<o.length;){l=new i;l.addColumnReader(0,"x");u=n(0,o);-1!==u&&o.splice(u,1);for(u=0;u<this.valueCount.global;u++)l.addColumnReader(void 0,this.valueCount.globalPointArrayMap[u]);l.populateColumns(o)&&f.push(l)}0<f.length&&0<f[0].readers.length&&(l=e[f[0].readers[0].columnIndex],void 0!==l&&(l.isDatetime?t="datetime":l.isNumeric||(t="category")));if("category"===t)for(u=0;u<f.length;u++)for(l=f[u],o=0;o<l.readers.length;o++)"x"===l.readers[o].configName&&(l.readers[o].configName="name");for(u=0;u<f.length;u++){l=f[u];o=[];for(a=0;a<e[0].length;a++)o[a]=l.read(e,a);s[u]={data:o};l.name&&(s[u].name=l.name)}e={xAxis:{type:t},series:s};r.complete&&r.complete(e);r.afterComplete&&r.afterComplete(e)}}});e.Data=s;e.data=function(e,t){return new s(e,t)};e.wrap(e.Chart.prototype,"init",function(t,n,r){var i=this;n&&n.data?e.data(e.extend(n.data,{afterComplete:function(s){var o,u;if(n.hasOwnProperty("series"))if("object"===typeof n.series)for(o=Math.max(n.series.length,s.series.length);o--;)u=n.series[o]||{},n.series[o]=e.merge(u,s.series[o]);else delete n.series;n=e.merge(s,n);t.call(i,n,r)}}),n):t.call(i,n,r)});i=function(){this.readers=[];this.pointIsArray=!0};i.prototype.populateColumns=function(e){var n=!0;t(this.readers,function(t){void 0===t.columnIndex&&(t.columnIndex=e.shift())});t(this.readers,function(e){void 0===e.columnIndex&&(n=!1)});return n};i.prototype.read=function(e,n){var r=this.pointIsArray,i=r?[]:{},s;t(this.readers,function(t){var s=e[t.columnIndex][n];r?i.push(s):i[t.configName]=s});void 0===this.name&&2<=this.readers.length&&(s=this.getReferencedColumnIndexes(),2<=s.length&&(s.shift(),s.sort(),this.name=e[s.shift()].name));return i};i.prototype.addColumnReader=function(e,t){this.readers.push({columnIndex:e,configName:t});"x"!==t&&"y"!==t&&void 0!==t&&(this.pointIsArray=!1)};i.prototype.getReferencedColumnIndexes=function(){var e,t=[],n;for(e=0;e<this.readers.length;e+=1)n=this.readers[e],void 0!==n.columnIndex&&t.push(n.columnIndex);return t};i.prototype.hasReader=function(e){var t,n;for(t=0;t<this.readers.length;t+=1)if(n=this.readers[t],n.configName===e)return!0}})(Highcharts);(function(e){function t(){return!!this.points.length}function n(){this.hasData()?this.hideNoData():this.showNoData()}var r=e.seriesTypes,i=e.Chart.prototype,s=e.getOptions(),o=e.extend;o(s.lang,{noData:"No data to display"});s.noData={position:{x:0,y:0,align:"center",verticalAlign:"middle"},attr:{},style:{fontWeight:"bold",fontSize:"12px",color:"#60606a"}};r.pie&&(r.pie.prototype.hasData=t);r.gauge&&(r.gauge.prototype.hasData=t);r.waterfall&&(r.waterfall.prototype.hasData=t);e.Series.prototype.hasData=function(){return void 0!==this.dataMax&&void 0!==this.dataMin};i.showNoData=function(e){var t=this.options;e=e||t.lang.noData;t=t.noData;this.noDataLabel||(this.noDataLabel=this.renderer.label(e,0,0,null,null,null,null,null,"no-data").attr(t.attr).css(t.style).add(),this.noDataLabel.align(o(this.noDataLabel.getBBox(),t.position),!1,"plotBox"))};i.hideNoData=function(){this.noDataLabel&&(this.noDataLabel=this.noDataLabel.destroy())};i.hasData=function(){for(var e=this.series,t=e.length;t--;)if(e[t].hasData()&&!e[t].options.isInternal)return!0;return!1};i.callbacks.push(function(t){e.addEvent(t,"load",n);e.addEvent(t,"redraw",n)})})(Highcharts);(function(e){function t(e,t,n){return"rgba("+[Math.round(e[0]+(t[0]-e[0])*n),Math.round(e[1]+(t[1]-e[1])*n),Math.round(e[2]+(t[2]-e[2])*n),e[3]+(t[3]-e[3])*n].join()+")"}var n=function(){},r=e.getOptions(),i=e.each,s=e.extend,o=e.format,u=e.pick,a=e.wrap,f=e.Chart,l=e.seriesTypes,c=l.pie,h=l.column,p=HighchartsAdapter.fireEvent,d=HighchartsAdapter.inArray,v=[];s(r.lang,{drillUpText:"◁ Back to {series.name}"});r.drilldown={activeAxisLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},activeDataLabelStyle:{cursor:"pointer",color:"#0d233a",fontWeight:"bold",textDecoration:"underline"},animation:{duration:500},drillUpButton:{position:{align:"right",x:-10,y:10}}};e.SVGRenderer.prototype.Element.prototype.fadeIn=function(e){this.attr({opacity:.1,visibility:"inherit"}).animate({opacity:u(this.newOpacity,1)},e||{duration:250})};f.prototype.addSeriesAsDrilldown=function(e,t){this.addSingleSeriesAsDrilldown(e,t);this.applyDrilldown()};f.prototype.addSingleSeriesAsDrilldown=function(e,t){var r=e.series,o=r.xAxis,u=r.yAxis,a;a=e.color||r.color;var f,l=[],c=[],h;h=r.levelNumber||0;t=s({color:a},t);f=d(e,r.points);i(r.chart.series,function(e){e.xAxis===o&&(l.push(e),c.push(e.userOptions),e.levelNumber=e.levelNumber||h)});a={levelNumber:h,seriesOptions:r.userOptions,levelSeriesOptions:c,levelSeries:l,shapeArgs:e.shapeArgs,bBox:e.graphic.getBBox(),color:a,lowerSeriesOptions:t,pointOptions:r.options.data[f],pointIndex:f,oldExtremes:{xMin:o&&o.userMin,xMax:o&&o.userMax,yMin:u&&u.userMin,yMax:u&&u.userMax}};this.drilldownLevels||(this.drilldownLevels=[]);this.drilldownLevels.push(a);a=a.lowerSeries=this.addSeries(t,!1);a.levelNumber=h+1;o&&(o.oldPos=o.pos,o.userMin=o.userMax=null,u.userMin=u.userMax=null);r.type===a.type&&(a.animate=a.animateDrilldown||n,a.options.animation=!0)};f.prototype.applyDrilldown=function(){var e=this.drilldownLevels,t;e&&0<e.length&&(t=e[e.length-1].levelNumber,i(this.drilldownLevels,function(e){e.levelNumber===t&&i(e.levelSeries,function(e){e.levelNumber===t&&e.remove(!1)})}));this.redraw();this.showDrillUpButton()};f.prototype.getDrilldownBackText=function(){var e=this.drilldownLevels;if(e&&0<e.length)return e=e[e.length-1],e.series=e.seriesOptions,o(this.options.lang.drillUpText,e)};f.prototype.showDrillUpButton=function(){var e=this,t=this.getDrilldownBackText(),n=e.options.drilldown.drillUpButton,r,i;this.drillUpButton?this.drillUpButton.attr({text:t}).align():(i=(r=n.theme)&&r.states,this.drillUpButton=this.renderer.button(t,null,null,function(){e.drillUp()},r,i&&i.hover,i&&i.select).attr({align:n.position.align,zIndex:9}).add().align(n.position,!1,n.relativeTo||"plotBox"))};f.prototype.drillUp=function(){for(var e=this,t=e.drilldownLevels,n=t[t.length-1].levelNumber,r=t.length,s=e.series,o=s.length,u,a,f,l,c=function(t){var n;i(s,function(e){e.userOptions===t&&(n=e)});n=n||e.addSeries(t,!1);n.type===a.type&&n.animateDrillupTo&&(n.animate=n.animateDrillupTo);t===u.seriesOptions&&(f=n)};r--;)if(u=t[r],u.levelNumber===n){t.pop();a=u.lowerSeries;if(!a.chart)for(;o--;)if(s[o].options.id===u.lowerSeriesOptions.id){a=s[o];break}a.xData=[];i(u.levelSeriesOptions,c);p(e,"drillup",{seriesOptions:u.seriesOptions});f.type===a.type&&(f.drilldownLevel=u,f.options.animation=e.options.drilldown.animation,a.animateDrillupFrom&&a.animateDrillupFrom(u));f.levelNumber=n;a.remove(!1);f.xAxis&&(l=u.oldExtremes,f.xAxis.setExtremes(l.xMin,l.xMax,!1),f.yAxis.setExtremes(l.yMin,l.yMax,!1))}this.redraw();0===this.drilldownLevels.length?this.drillUpButton=this.drillUpButton.destroy():this.drillUpButton.attr({text:this.getDrilldownBackText()}).align();v.length=[]};h.prototype.supportsDrilldown=!0;h.prototype.animateDrillupTo=function(e){if(!e){var t=this,r=t.drilldownLevel;i(this.points,function(e){e.graphic.hide();e.dataLabel&&e.dataLabel.hide();e.connector&&e.connector.hide()});setTimeout(function(){i(t.points,function(e,t){var n=t===(r&&r.pointIndex)?"show":"fadeIn",i="show"===n?!0:void 0;e.graphic[n](i);if(e.dataLabel)e.dataLabel[n](i);if(e.connector)e.connector[n](i)})},Math.max(this.chart.options.drilldown.animation.duration-50,0));this.animate=n}};h.prototype.animateDrilldown=function(e){var t=this,n=this.chart.drilldownLevels,r=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1].shapeArgs,s=this.chart.options.drilldown.animation;e||(i(n,function(e){t.userOptions===e.lowerSeriesOptions&&(r=e.shapeArgs)}),r.x+=this.xAxis.oldPos-this.xAxis.pos,i(this.points,function(e){e.graphic&&e.graphic.attr(r).animate(e.shapeArgs,s);e.dataLabel&&e.dataLabel.fadeIn(s)}),this.animate=null)};h.prototype.animateDrillupFrom=function(n){var r=this.chart.options.drilldown.animation,s=this.group,o=this;i(o.trackerGroups,function(e){if(o[e])o[e].on("mouseover")});delete this.group;i(this.points,function(i){var o=i.graphic,u=e.Color(i.color).rgba,a=e.Color(n.color).rgba,f=function(){o.destroy();s&&(s=s.destroy())};o&&(delete i.graphic,r?o.animate(n.shapeArgs,e.merge(r,{step:function(e,n){"start"===n.prop&&4===u.length&&4===a.length&&this.attr({fill:t(u,a,n.pos)})},complete:f})):(o.attr(n.shapeArgs),f()))})};c&&s(c.prototype,{supportsDrilldown:!0,animateDrillupTo:h.prototype.animateDrillupTo,animateDrillupFrom:h.prototype.animateDrillupFrom,animateDrilldown:function(n){var r=this.chart.drilldownLevels[this.chart.drilldownLevels.length-1],s=this.chart.options.drilldown.animation,o=r.shapeArgs,u=o.start,a=(o.end-u)/this.points.length,f=e.Color(r.color).rgba;n||(i(this.points,function(n,r){var i=e.Color(n.color).rgba;n.graphic.attr(e.merge(o,{start:u+r*a,end:u+(r+1)*a}))[s?"animate":"attr"](n.shapeArgs,e.merge(s,{step:function(e,n){"start"===n.prop&&4===f.length&&4===i.length&&this.attr({fill:t(f,i,n.pos)})}}))}),this.animate=null)}});e.Point.prototype.doDrilldown=function(e){for(var t=this.series.chart,n=t.options.drilldown,r=(n.series||[]).length,i;r--&&!i;)n.series[r].id===this.drilldown&&-1===d(this.drilldown,v)&&(i=n.series[r],v.push(this.drilldown));p(t,"drilldown",{point:this,seriesOptions:i});i&&(e?t.addSingleSeriesAsDrilldown(this,i):t.addSeriesAsDrilldown(this,i))};a(e.Point.prototype,"init",function(t,n,r,s){var o=t.call(this,n,r,s),u=n.chart,a=(t=n.xAxis&&n.xAxis.ticks[s])&&t.label;o.drilldown?(e.addEvent(o,"click",function(){o.doDrilldown()}),a&&(a.basicStyles||(a.basicStyles=e.merge(a.styles)),a.addClass("highcharts-drilldown-axis-label").css(u.options.drilldown.activeAxisLabelStyle).on("click",function(){i(a.ddPoints,function(e){e.doDrilldown&&e.doDrilldown(!0)});u.applyDrilldown()}),a.ddPoints||(a.ddPoints=[]),a.ddPoints.push(o))):a&&a.basicStyles&&(a.styles={},a.css(a.basicStyles));return o});a(e.Series.prototype,"drawDataLabels",function(e){var t=this.chart.options.drilldown.activeDataLabelStyle;e.call(this);i(this.points,function(e){if(e.drilldown&&e.dataLabel)e.dataLabel.attr({"class":"highcharts-drilldown-data-label"}).css(t).on("click",function(){e.doDrilldown()})})});var m,r=function(e){e.call(this);i(this.points,function(e){e.drilldown&&e.graphic&&e.graphic.attr({"class":"highcharts-drilldown-point"}).css({cursor:"pointer"})})};for(m in l)l[m].prototype.supportsDrilldown&&a(l[m].prototype,"drawTracker",r)})(Highcharts);(function(e){var t=e.getOptions().plotOptions,n=e.pInt,r=e.pick,i=e.each,s;t.solidgauge=e.merge(t.gauge,{colorByPoint:!0});s={initDataClasses:function(t){var n=this,r=this.chart,s,o=0,u=this.options;this.dataClasses=s=[];i(t.dataClasses,function(i,a){var f;i=e.merge(i);s.push(i);i.color||("category"===u.dataClassColor?(f=r.options.colors,i.color=f[o++],o===f.length&&(o=0)):i.color=n.tweenColors(e.Color(u.minColor),e.Color(u.maxColor),a/(t.dataClasses.length-1)))})},initStops:function(t){this.stops=t.stops||[[0,this.options.minColor],[1,this.options.maxColor]];i(this.stops,function(t){t.color=e.Color(t[1])})},toColor:function(e,t){var n,r=this.stops,i,s=this.dataClasses,o,u;if(s)for(u=s.length;u--;){if(o=s[u],i=o.from,r=o.to,(void 0===i||e>=i)&&(void 0===r||e<=r)){n=o.color;t&&(t.dataClass=u);break}}else{this.isLog&&(e=this.val2lin(e));n=1-(this.max-e)/(this.max-this.min);for(u=r.length;u--&&!(n>r[u][0]););i=r[u]||r[u+1];r=r[u+1]||i;n=1-(r[0]-n)/(r[0]-i[0]||1);n=this.tweenColors(i.color,r.color,n)}return n},tweenColors:function(e,t,n){var r=1!==t.rgba[3]||1!==e.rgba[3];return 0===e.rgba.length||0===t.rgba.length?"none":(r?"rgba(":"rgb(")+Math.round(t.rgba[0]+(e.rgba[0]-t.rgba[0])*(1-n))+","+Math.round(t.rgba[1]+(e.rgba[1]-t.rgba[1])*(1-n))+","+Math.round(t.rgba[2]+(e.rgba[2]-t.rgba[2])*(1-n))+(r?","+(t.rgba[3]+(e.rgba[3]-t.rgba[3])*(1-n)):"")+")"}};e.seriesTypes.solidgauge=e.extendClass(e.seriesTypes.gauge,{type:"solidgauge",bindAxes:function(){var t;e.seriesTypes.gauge.prototype.bindAxes.call(this);t=this.yAxis;e.extend(t,s);t.options.dataClasses&&t.initDataClasses(t.options);t.initStops(t.options)},drawPoints:function(){var t=this,i=t.yAxis,o=i.center,u=t.options,a=t.chart.renderer;e.each(t.points,function(f){var l=f.graphic,c=i.startAngleRad+i.translate(f.y,null,null,null,!0),h=n(r(u.radius,100))*o[2]/200,d=n(r(u.innerRadius,60))*o[2]/200,v=i.toColor(f.y,f),m;"none"!==v&&(m=f.color,f.color=v);!1===u.wrap&&(c=Math.max(i.startAngleRad,Math.min(i.endAngleRad,c)));var c=180*c/Math.PI,g=c/(180/Math.PI),y=i.startAngleRad,c=Math.min(g,y),g=Math.max(g,y);g-c>2*Math.PI&&(g=c+2*Math.PI);h={x:o[0],y:o[1],r:h,innerR:d,start:c,end:g};l?(d=h.d,l.attr({fill:f.color}).animate(h,{step:function(t,n){l.attr("fill",s.tweenColors(e.Color(m),e.Color(v),n.pos))}}),h.d=d):f.graphic=a.arc(h).attr({stroke:u.borderColor||"none","stroke-width":u.borderWidth||0,fill:f.color,"sweep-flag":0}).add(t.group)})},animate:null})})(Highcharts);(function(e){var t=e.Axis,n=e.Chart,r=e.Color,i=e.Legend,s=e.LegendSymbolMixin,o=e.Series,u=e.SVGRenderer,a=e.getOptions(),f=e.each,l=e.extend,c=e.extendClass,h=e.merge,p=e.pick,d=e.numberFormat,v=e.seriesTypes,m=e.wrap,g=function(){},y=e.ColorAxis=function(){this.isColorAxis=!0;this.init.apply(this,arguments)};l(y.prototype,t.prototype);l(y.prototype,{defaultColorAxisOptions:{lineWidth:0,gridLineWidth:1,tickPixelInterval:72,startOnTick:!0,endOnTick:!0,offset:0,marker:{animation:{duration:50},color:"gray",width:.01},labels:{overflow:"justify"},minColor:"#EFEFFF",maxColor:"#003875",tickLength:5},init:function(e,n){var r="vertical"!==e.options.legend.layout,i;i=h(this.defaultColorAxisOptions,{side:r?2:1,reversed:!r},n,{isX:r,opposite:!r,showEmpty:!1,title:null,isColor:!0});t.prototype.init.call(this,e,i);n.dataClasses&&this.initDataClasses(n);this.initStops(n);this.isXAxis=!0;this.horiz=r;this.zoomEnabled=!1},tweenColors:function(e,t,n){var r=1!==t.rgba[3]||1!==e.rgba[3];return(r?"rgba(":"rgb(")+Math.round(t.rgba[0]+(e.rgba[0]-t.rgba[0])*(1-n))+","+Math.round(t.rgba[1]+(e.rgba[1]-t.rgba[1])*(1-n))+","+Math.round(t.rgba[2]+(e.rgba[2]-t.rgba[2])*(1-n))+(r?","+(t.rgba[3]+(e.rgba[3]-t.rgba[3])*(1-n)):"")+")"},initDataClasses:function(e){var t=this,n=this.chart,i,s=0,o=this.options,u=e.dataClasses.length;this.dataClasses=i=[];this.legendItems=[];f(e.dataClasses,function(e,a){var f;e=h(e);i.push(e);e.color||("category"===o.dataClassColor?(f=n.options.colors,e.color=f[s++],s===f.length&&(s=0)):e.color=t.tweenColors(r(o.minColor),r(o.maxColor),2>u?.5:a/(u-1)))})},initStops:function(e){this.stops=e.stops||[[0,this.options.minColor],[1,this.options.maxColor]];f(this.stops,function(e){e.color=r(e[1])})},setOptions:function(e){t.prototype.setOptions.call(this,e);this.options.crosshair=this.options.marker;this.coll="colorAxis"},setAxisSize:function(){var e=this.legendSymbol,t=this.chart,n,r,i;e&&(this.left=n=e.attr("x"),this.top=r=e.attr("y"),this.width=i=e.attr("width"),this.height=e=e.attr("height"),this.right=t.chartWidth-n-i,this.bottom=t.chartHeight-r-e,this.len=this.horiz?i:e,this.pos=this.horiz?n:r)},toColor:function(e,t){var n,r=this.stops,i,s=this.dataClasses,o,u;if(s)for(u=s.length;u--;){if(o=s[u],i=o.from,r=o.to,(void 0===i||e>=i)&&(void 0===r||e<=r)){n=o.color;t&&(t.dataClass=u);break}}else{this.isLog&&(e=this.val2lin(e));n=1-(this.max-e)/(this.max-this.min||1);for(u=r.length;u--&&!(n>r[u][0]););i=r[u]||r[u+1];r=r[u+1]||i;n=1-(r[0]-n)/(r[0]-i[0]||1);n=this.tweenColors(i.color,r.color,n)}return n},getOffset:function(){var e=this.legendGroup,n=this.chart.axisOffset[this.side];e&&(t.prototype.getOffset.call(this),this.axisGroup.parentGroup||(this.axisGroup.add(e),this.gridGroup.add(e),this.labelGroup.add(e),this.added=!0),this.chart.axisOffset[this.side]=n)},setLegendColor:function(){var e,t=this.options;e=this.horiz?[0,0,1,0]:[0,0,0,1];this.legendColor={linearGradient:{x1:e[0],y1:e[1],x2:e[2],y2:e[3]},stops:t.stops||[[0,t.minColor],[1,t.maxColor]]}},drawLegendSymbol:function(e,t){var n=e.padding,r=e.options,i=this.horiz,s=p(r.symbolWidth,i?200:12),o=p(r.symbolHeight,i?12:200),u=p(r.labelPadding,i?16:30),r=p(r.itemDistance,10);this.setLegendColor();t.legendSymbol=this.chart.renderer.rect(0,e.baseline-11,s,o).attr({zIndex:1}).add(t.legendGroup);t.legendSymbol.getBBox();this.legendItemWidth=s+n+(i?r:u);this.legendItemHeight=o+n+(i?u:0)},setState:g,visible:!0,setVisible:g,getSeriesExtremes:function(){var e;this.series.length&&(e=this.series[0],this.dataMin=e.valueMin,this.dataMax=e.valueMax)},drawCrosshair:function(e,n){var r=!this.cross,i=n&&n.plotX,s=n&&n.plotY,o,u=this.pos,a=this.len;n&&(o=this.toPixels(n.value),o<u?o=u-2:o>u+a&&(o=u+a+2),n.plotX=o,n.plotY=this.len-o,t.prototype.drawCrosshair.call(this,e,n),n.plotX=i,n.plotY=s,!r&&this.cross&&this.cross.attr({fill:this.crosshair.color}).add(this.labelGroup))},getPlotLinePath:function(e,n,r,i,s){return s?this.horiz?["M",s-4,this.top-6,"L",s+4,this.top-6,s,this.top,"Z"]:["M",this.left,s,"L",this.left-6,s+6,this.left-6,s-6,"Z"]:t.prototype.getPlotLinePath.call(this,e,n,r,i)},update:function(e,n){f(this.series,function(e){e.isDirtyData=!0});t.prototype.update.call(this,e,n);this.legendItem&&(this.setLegendColor(),this.chart.legend.colorizeItem(this,!0))},getDataClassLegendSymbols:function(){var e=this,t=this.chart,n=this.legendItems,r=t.options.legend,i=r.valueDecimals,o=r.valueSuffix||"",u;n.length||f(this.dataClasses,function(r,a){var c=!0,h=r.from,p=r.to;u="";void 0===h?u="< ":void 0===p&&(u="> ");void 0!==h&&(u+=d(h,i)+o);void 0!==h&&void 0!==p&&(u+=" - ");void 0!==p&&(u+=d(p,i)+o);n.push(l({chart:t,name:u,options:{},drawLegendSymbol:s.drawRectangle,visible:!0,setState:g,setVisible:function(){c=this.visible=!c;f(e.series,function(e){f(e.points,function(e){e.dataClass===a&&e.setVisible(c)})});t.legend.colorizeItem(this,c)}},r))});return n},name:""});f(["fill","stroke"],function(e){HighchartsAdapter.addAnimSetter(e,function(t){t.elem.attr(e,y.prototype.tweenColors(r(t.start),r(t.end),t.pos))})});m(n.prototype,"getAxes",function(e){var t=this.options.colorAxis;e.call(this);this.colorAxis=[];t&&new y(this,t)});m(i.prototype,"getAllItems",function(e){var t=[],n=this.chart.colorAxis[0];n&&(n.options.dataClasses?t=t.concat(n.getDataClassLegendSymbols()):t.push(n),f(n.series,function(e){e.options.showInLegend=!1}));return t.concat(e.call(this))});e={pointAttrToOptions:{stroke:"borderColor","stroke-width":"borderWidth",fill:"color",dashstyle:"dashStyle"},pointArrayMap:["value"],axisTypes:["xAxis","yAxis","colorAxis"],optionalAxis:"colorAxis",trackerGroups:["group","markerGroup","dataLabelsGroup"],getSymbol:g,parallelArrays:["x","y","value"],colorKey:"value",translateColors:function(){var e=this,t=this.options.nullColor,n=this.colorAxis,r=this.colorKey;f(this.data,function(i){var s=i[r];if(s=null===s?t:n&&void 0!==s?n.toColor(s,i):i.color||e.color)i.color=s})}};m(u.prototype,"buildText",function(e,t){var n=t.styles&&t.styles.HcTextStroke;e.call(this,t);n&&t.applyTextStroke&&t.applyTextStroke(n)});u.prototype.Element.prototype.applyTextStroke=function(e){var t=this.element,n,r;e=e.split(" ");n=t.getElementsByTagName("tspan");r=t.firstChild;this.ySetter=this.xSetter;f([].slice.call(n),function(n,i){var s;0===i&&(n.setAttribute("x",t.getAttribute("x")),null!==(i=t.getAttribute("y"))&&n.setAttribute("y",i));s=n.cloneNode(1);s.setAttribute("stroke",e[1]);s.setAttribute("stroke-width",e[0]);s.setAttribute("stroke-linejoin","round");t.insertBefore(s,r)})};a.plotOptions.heatmap=h(a.plotOptions.scatter,{animation:!1,borderWidth:0,nullColor:"#F8F8F8",dataLabels:{formatter:function(){return this.point.value},verticalAlign:"middle",crop:!1,overflow:!1,style:{color:"white",fontWeight:"bold",HcTextStroke:"1px rgba(0,0,0,0.5)"}},marker:null,tooltip:{pointFormat:"{point.x}, {point.y}: {point.value}<br/>"},states:{normal:{animation:!0},hover:{brightness:.2}}});v.heatmap=c(v.scatter,h(e,{type:"heatmap",pointArrayMap:["y","value"],hasPointSpecificOptions:!0,supportsDrilldown:!0,getExtremesFromAll:!0,init:function(){v.scatter.prototype.init.apply(this,arguments);this.pointRange=this.options.colsize||1;this.yAxis.axisPointRange=this.options.rowsize||1},translate:function(){var e=this.options,t=this.xAxis,n=this.yAxis;this.generatePoints();f(this.points,function(r){var i=(e.colsize||1)/2,s=(e.rowsize||1)/2,o=Math.round(t.len-t.translate(r.x-i,0,1,0,1)),i=Math.round(t.len-t.translate(r.x+i,0,1,0,1)),u=Math.round(n.translate(r.y-s,0,1,0,1)),s=Math.round(n.translate(r.y+s,0,1,0,1));r.plotX=(o+i)/2;r.plotY=(u+s)/2;r.shapeType="rect";r.shapeArgs={x:Math.min(o,i),y:Math.min(u,s),width:Math.abs(i-o),height:Math.abs(s-u)}});this.translateColors();this.chart.hasRendered&&f(this.points,function(e){e.shapeArgs.fill=e.options.color||e.color})},drawPoints:v.column.prototype.drawPoints,animate:g,getBox:g,drawLegendSymbol:s.drawRectangle,getExtremes:function(){o.prototype.getExtremes.call(this,this.valueData);this.valueMin=this.dataMin;this.valueMax=this.dataMax;o.prototype.getExtremes.call(this)}}))})(Highcharts)